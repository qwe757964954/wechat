{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/cache/User.ts"],"names":["User","AppEvent","ClientInfo","CloundKey","GConstants","StoreKey","GameRes","GameTxt","Encrypt","LocalStorage","EventManager","Utils","BaseCache","Platform","Activity","BackPack","BankrupData","GoodsData","MailInfo","MenuInfo","PropsConf","RecommendPop","RedDot","SelectGame","ShareInfo","ShopInfo","TaskInfo","WatchMessage","constructor","__activity","__goodsData","__recommendPop","__bankrupData","__shopInfo","__TaskInfo","__mailInfo","__watchMessage","__selectGame","__shareInfo","__backPack","__menuInfo","__propsConf","__redDot","_loginState","_loginRoomState","_userInfo","_propertyInfo","_historyLoginInfo","_lastlocalLoginInfo","_loginSuccessCountArray","_levelExpConfig","_propsInfo","_vipInfo","_gamePlayInfoRecord","_loginSuccessTime","_todayEventData","_clickedRecordData","initSubClass","print","onloadLoginSuccessParams","user","game","account","otherEx","table_verify","Number","nullToDefault","toString","trim","saveCurLoginInfo","dump","setLoginState","param","lastLoginState","isChange","UserLoginState","LoginSuccess","updateLastLoginTime","LoginRoomState","updateLocalDataByLoginSuccess","dispatch","LOGIN_STATE_CHANGE","lastClientVer","get","SYS_ClientVer","AppVer","isSameVer","String","reloadLocalData","initHallGameConfigByLocal","initDataByLocal","getDataByLocal","setTodayLocalRecord","key","saveData","string_isEmpty","uid","getUserMid","realKey","string_format","USER_TODAY_EVENT","oldData","JsonDecode","set","JsonEncode2","getTodayLocalRecord","def","console","log","time","USER_LOGIN_LAST_TIME","lastLoginTime","time_isSampleDay","cleanTodayLocalRecord","updateClickRecord","USER_CLICKED_RECORD","number_valueOf","getClickRecord","getLoginState","isLoginSuccesed","isLogining","Logining","setData","data","imsi","IMSI","mid","guid","byacc","nick","sex","uType","token","bid","phoneNum","loginType","registerTime","Object","prototype","hasOwnProperty","call","saveLastlocalLoginInfo","UserUType","BoyaaPassport","addAccountInfo","getDataUser","del","getData","undefined","getDataGame","getDataAccount","updateDataUserKey","value","getLoginSuccessTime","updateDataGameKey","updateDataAccountKey","res","LOGIN_LAST_INFO","cleanLastlocalLoginInfo","cleanLastlocalLoginToken","tab","getLastlocalLoginInfo","table_isEmpty","getLastLoginValueByKey","getLastlocalLoginType","UserLoginType","NONE","getLastlocalLoginToken","getLastlocalLoginServerConf","getLastlocalByacc","getLastlocalToken","getLastlocalMid","getUserInfoProp","isNull","setIdentity","keyCode","getIdentity","getIsPayUser","identity","UserIdentity","Rmb","RmbAndVip","getUserCid","getUserAppID","getUserGuid","getUserName","getUserSex","getUserCity","getUserHeadArray","headArray","s","m","b","getUserHeadBox","getUserDiamond","getUserCrystal","getUserCrystalSafeBox","getUserSilver","all","getUserGameSilver","a","getUserGameExp","getUserMoneyByID","moneyID","isAll","updateUserMoneyByID","oldNum","newNum","PropertyType","SILVER_COIN","GOLD_BAR","DIAMOND","sendBody","type","num","USER_UPDATE_PROPERTY","isFirstLoginToday","getLoginSuccessCount","isRegisterToday","currowTime","isFirstLoginCurrow","joinTime","getAccountHistory","LOGIN_USER_HISTORY","updateAccountHistory","temp","loginAccount","loginPsd","access_token","index","length","splice","unshift","checkIsExsitAccountInfo","recode","isExsit","updateLoginSuccessCount","lastCount","jsonStr","LOGIN_SUCCESS_COUNT","updateLevelExpConfig","body","oneArray","map","Map","level","expArray","mergeArray","size","arrayLike","Array","from","sort","push","getLevelExpConfig","getLevelByExp","exp","levelExpConf","levelExp","valueConf","updatePropsInfo","props","vipInfo","i","item","UserPropsType","TYPE_VIP","setVipInfo","getPropsInfo","getPropsInfoByType","propType","getPropsNumInfoByType","info","isExpireProps","Normal","isPayUser","setVipTime","Vip","leftTime","record","calTakeOutHowMuchMoney","minMoney","maxMoney","money","totalMoney","getMoney","Math","min","getUserLoginInfoByIntoGame","gameID","commonInfo","userId","cid","nickName","city","gold","diamond","crystal","m_identity","avatar_s","avatar_m","avatar_b","headBox","loseCount","getGamePlayRecordByKey","UserGameRecodeState","Lose","winCount","Win","drawCount","Draw","ladderScore","LadderScore","appid","syncGamePlayRecord","_info","mergeArrayDefault","itemKey","WinMax","updateGamePlayRecordByKey","getCloudStorageSaveList","callFunc","headFrame","downloadFile","USER_LOGIN_TIME","USER_HEAD_FRAME","USER_UID","getCloudStorageKeys","keys","getCloudStorageParam","key_openid","LOGIN_USER_OPENID","currentOpenid","shareOptions","ShareConfig","friend","shopShareMsg","getShareConfigByType","ShareSceneConf","title","share_wx_friends_txt","imageUrl","AppCommon_Share_Friend_Comm","path","maxFriends","myopenID","keyList"],"mappings":"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","sourcesContent":["/**\n * Name = User\n * URL = db://assets/cache/User.ts\n * Time = Mon May 09 2022 14:43:04 GMT+0800 (中国标准时间)\n * Author = xueya\n * 用户数据缓存\n */\n\nimport { AppEvent } from \"../config/AppEvent\";\nimport { ClientInfo } from \"../config/GameConfig\";\nimport { CloundKey, GConstants, StoreKey } from \"../config/GameConstant\";\nimport { GameRes } from \"../config/GameRes\";\nimport { GameTxt } from \"../config/GameTxt\";\nimport { Encrypt } from \"../framework/crypto/Encrypto\";\nimport { LocalStorage } from \"../framework/LocalStorage\";\nimport { EventManager } from \"../framework/manager/EventManager\";\nimport { Utils } from \"../framework/Utils\";\nimport { BaseCache } from \"../framework/vc/BaseCache\";\nimport { Platform } from \"../platform/Platform\";\nimport { Activity } from \"./Activity\";\nimport { BackPack } from \"./BackPack\";\nimport { BankrupData } from \"./BankrupData\";\nimport { GoodsData } from \"./GoodsData\";\nimport { MailInfo } from \"./MailInfo\";\nimport { MenuInfo } from \"./MenuInfo\";\nimport { PropsConf } from \"./PropsConf\";\nimport { RecommendPop } from \"./RecommendPop\";\nimport { RedDot } from \"./RedDot\";\nimport { SelectGame } from \"./SelectGame\";\nimport { ShareInfo } from \"./ShareInfo\";\nimport { ShopInfo } from \"./ShopInfo\";\nimport { TaskInfo } from \"./TaskInfo\";\nimport { WatchMessage } from \"./WatchMessage\";\n\nexport class User extends BaseCache {\n    /** 附属类:Activity */\n    private __activity: Activity = null;\n    /** 附属类:GoodsData */\n    private __goodsData: GoodsData = null;\n    /** 附属类:RecommendPop */\n    private __recommendPop: RecommendPop = null;\n    /** 附属类:BankrupData */\n    private __bankrupData: BankrupData = null;\n    /** 附属类:ShopInfo */\n    private __shopInfo: ShopInfo = null;\n    /** 附属类:TaskInfo */\n    private __TaskInfo: TaskInfo = null;\n    /** 附属类:MailInfo */\n    private __mailInfo: MailInfo = null;\n    /** 附属类:WatchMessage */\n    private __watchMessage: WatchMessage = null;\n    /** 附属类:SelectGame */\n    private __selectGame: SelectGame = null;\n    /** 附属类:ShareInfo */\n    private __shareInfo: ShareInfo = null;\n    /** 附属类:BackPack */\n    private __backPack: BackPack = null;\n    /** 附属类:MenuInfo */\n    private __menuInfo: MenuInfo = null;\n    /** 附属类:propsconf */\n    private __propsConf: PropsConf = null;\n\n    /** 附属类:RedDot */\n    private __redDot: RedDot = null;\n\n    /** 登录状态(GConstants.UserLoginState) */\n    private _loginState = 0;\n    /** 登录游戏房间状态 */\n    private _loginRoomState = false;\n\n    /** 用户基础信息 */\n    private _userInfo = {};\n    /** 资产信息 类型:PropertyType */\n    private _propertyInfo = {};\n    //历史登录信息\n    private _historyLoginInfo = null;\n    //上次登录的保存在本地的数据\n    private _lastlocalLoginInfo = null;\n    //用户登录次数记录\n    private _loginSuccessCountArray = null\n    //经验等级体系\n    private _levelExpConfig = null;\n    //道具信息\n    private _propsInfo = {};\n    //vip信息\n    private _vipInfo = {};\n    //玩的游戏记录\n    private _gamePlayInfoRecord = {};\n    /** 登录成功时间 */\n    private _loginSuccessTime: number = null;\n    /** 今日事件 */\n    private _todayEventData: Object = null;\n    /** 点击次数记录数据 */\n    private _clickedRecordData: Object = null;\n\n    //实例化\n    constructor() {\n        super(\"User\");\n        this.initSubClass()\n    };\n    /** 初始化附加类 */\n    public initSubClass() {\n        this.print(\">>>>初始化附加类<<<<\")\n        this.__goodsData = new GoodsData(this);\n        this.__recommendPop = new RecommendPop(this);\n        this.__shopInfo = new ShopInfo(this);\n        this.__TaskInfo = new TaskInfo(this);\n        this.__mailInfo = new MailInfo(this);\n        this.__watchMessage = new WatchMessage(this);\n        this.__selectGame = new SelectGame(this);\n        this.__shareInfo = new ShareInfo(this);\n        this.__activity = new Activity(this);\n        this.__bankrupData = new BankrupData(this);\n        this.__redDot = new RedDot(this);\n        this.__menuInfo = new MenuInfo(this);\n        this.__backPack = new BackPack(this);\n        this.__propsConf = new PropsConf(this);\n    }\n    /** 获取附属类 GoodsData */\n    public get GoodsData(): GoodsData {\n        return this.__goodsData;\n    }\n    /** 获取附属类 RecommendPop */\n    public get RecommendPop(): RecommendPop {\n        return this.__recommendPop;\n    }\n    /** 获取附属类 ShopInfo*/\n    public get ShopInfo(): ShopInfo {\n        return this.__shopInfo;\n    }\n    /** 获取附属类 TaskInfo*/\n    public get TaskInfo(): TaskInfo {\n        return this.__TaskInfo;\n    }\n    /** 获取附属类 Activity*/\n    public get Activity(): Activity {\n        return this.__activity;\n    }\n    /** 获取附属类 BankrupData*/\n    public get BankrupData(): BankrupData {\n        return this.__bankrupData;\n    }\n    /** 获取附属类 MailInfo*/\n    public get MailInfo(): MailInfo {\n        return this.__mailInfo;\n    }\n    /** 获取附属类 WatchMessage*/\n    public get WatchMessage(): WatchMessage {\n        return this.__watchMessage;\n    }\n    /** 获取附属类 SelectGame*/\n    public get SelectGame(): SelectGame {\n        return this.__selectGame;\n    }\n    /** 获取附属类 RedDot */\n    public get RedDot(): RedDot {\n        return this.__redDot;\n    }\n    /** 获取附属类 ShareInfo */\n    public get ShareInfo(): ShareInfo {\n        return this.__shareInfo;\n    }\n    /** 获取附属类 MenuInfo */\n    public get MenuInfo(): MenuInfo {\n        return this.__menuInfo;\n    }\n    /** 获取附属类 BackPack*/\n    public get BackPack(): BackPack {\n        return this.__backPack;\n    }\n\n    /** 获取附属类 PropsConf */\n    public get PropsConf(): PropsConf {\n        return this.__propsConf;\n    }\n\n\n    //登录成功后加载解析登录数据 （默认 0为true 1为false）\n    onloadLoginSuccessParams(user, game, account, otherEx = {}) {\n        user = Utils.table_verify(user);\n        game = Utils.table_verify(game);\n        account = Utils.table_verify(account);\n        //----------------------------------------------------------\n        //mid\n        user[\"mid\"] = Number(Utils.nullToDefault(user[\"mid\"], -1));\n        user[\"guid\"] = Utils.nullToDefault(user[\"guid\"], \"\");\n        user[\"appid\"] = Number(Utils.nullToDefault(user[\"appid\"], -1));\n        user[\"province\"] = user[\"province\"]\n        user[\"region\"] = user[\"region\"]\n        //昵称\n        user[\"nick\"] = Utils.nullToDefault(user[\"nick\"], \"\");\n        user[\"status\"] = Number(Utils.nullToDefault(user[\"status\"], -1));\n        //上次登录的时间\n        user[\"lastlogin\"] = Number(user[\"lastlogin\"]);\n        //性别 0 - 保密，1 - 男 ,2 - 女（默认显示男头像）\n        user[\"sex\"] = Number(Utils.nullToDefault(user[\"sex\"], 1))\n        user[\"join\"] = Number(user[\"join\"]);\n        user[\"ssid\"] = Utils.nullToDefault(user[\"ssid\"], \"\");\n        //城市\n        user[\"city\"] = Utils.nullToDefault(user[\"city\"], \"\");\n        user[\"platformid\"] = Utils.nullToDefault(user[\"platformid\"], \"\");\n        user[\"bagvol\"] = user[\"bagvol\"]\n        user[\"cid\"] = user[\"cid\"]\n        user[\"friend_des\"] = user[\"friend_des\"]\n        user[\"silverCrystalFlag\"] = user[\"silverCrystalFlag\"]\n        user[\"is_guide_by\"] = user[\"is_guide_by\"]\n        user[\"age\"] = Number(Utils.nullToDefault(user[\"age\"], 0))\n        //是否实名\n        user[\"is_real_name_auth\"] = user[\"is_real_name_auth\"] || false\n        //vip级别\n        user[\"vipLevel\"] = Number(Utils.nullToDefault(user[\"vipLevel\"], 0))\n        user[\"vipPrivileges\"] = user[\"vipPrivileges\"]\n        //今日首次登录\n        user[\"isFirstLogin\"] = Number(Utils.nullToDefault(user[\"isFirstLogin\"], 0)) == 0 ? true : false\n        user[\"avatar_auditing\"] = Number(Utils.nullToDefault(user[\"avatar_auditing\"], -1));\n        //通行证账号\n        user[\"byacc\"] = user[\"byacc\"]\n        //用户头像框\n        user[\"headBox\"] = Utils.nullToDefault(user[\"hdIcon\"], \"\");\n        user[\"hometown\"] = user[\"hometown\"]\n\n        //头像相关\n        user[\"avatar_s\"] = Utils.nullToDefault(user[\"avatar_s\"], \"\");  //小\n        user[\"avatar_m\"] = Utils.nullToDefault(user[\"avatar_m\"], \"\");  //中\n        user[\"avatar_b\"] = Utils.nullToDefault(user[\"avatar_b\"], \"\");  //大\n        user[\"avatar_auditing\"] = Number(Utils.nullToDefault(user[\"avatar_auditing\"], -1));\n        user[\"avatar_audit\"] = Utils.nullToDefault(user[\"avatar_audit\"], \"\");\n\n        //----------------------------------------------------------\n        //经验值\n        game[\"exp\"] = Utils.nullToDefault(Number(game[\"exp\"]), 0)\n        //游戏内金币\n        game[\"money\"] = Utils.nullToDefault(Number(game[\"money\"]), 0)\n        //用户总金币\n        game[\"totalmoney\"] = Utils.nullToDefault(Number(game[\"totalmoney\"]), 0)\n        //保险箱中的金币\n        game[\"safebox\"] = Utils.nullToDefault(Number(game[\"safebox\"]), 0)\n        //用户总金条\n        game[\"crystal\"] = Utils.nullToDefault(Number(game[\"crystal\"]), 0)\n        //保险箱中的金条\n        game[\"crystalsafebox\"] = Utils.nullToDefault(Number(game[\"crystalsafebox\"]), 0)\n        //用户总兑换券\n        game[\"bdiamond\"] = Utils.nullToDefault(Number(game[\"bdiamond\"]), 0)\n\n        game[\"silver\"] = Number(game[\"silver\"]);\n        //----------------------------------------------------------\n        account[\"access_token\"] = Utils.nullToDefault(account[\"access_token\"], \"\");\n        account[\"bid\"] = account[\"bid\"]\n        account[\"login_type\"] = Number(account[\"login_type\"]);\n        account[\"guid\"] = Utils.nullToDefault(account[\"guid\"], \"\").toString().trim()\n        account[\"register\"] = Number(account[\"register\"]);\n        account[\"utype\"] = Number(account[\"utype\"]);\n\n        this.saveCurLoginInfo(user, game, account, otherEx)\n\n        Utils.dump(user)\n        Utils.dump(game)\n        Utils.dump(account)\n        Utils.dump(otherEx)\n    }\n    //设置玩家的登录状态\n    setLoginState(param) {\n        let lastLoginState = this._loginState;\n        this._loginState = param;\n        let isChange = false;\n        //状态改变通知\n        //登录成功\n        if (param == GConstants.UserLoginState.LoginSuccess && lastLoginState != GConstants.UserLoginState.LoginSuccess) {\n            this.updateLastLoginTime();\n            this._todayEventData = null;\n            this.LoginRoomState = false;\n\n            this.updateLocalDataByLoginSuccess();\n            EventManager.dispatch(AppEvent.LOGIN_STATE_CHANGE, this._loginState);\n        }\n        //退出登录状态\n        if (lastLoginState == GConstants.UserLoginState.LoginSuccess && param != GConstants.UserLoginState.LoginSuccess) {\n            this._loginSuccessTime = null;\n            this.LoginRoomState = false;\n\n            EventManager.dispatch(AppEvent.LOGIN_STATE_CHANGE, this._loginState);\n        }\n    }\n    /** 用户登录成功:改变清除本地缓存 */\n    updateLocalDataByLoginSuccess() {\n        let lastClientVer = LocalStorage.get(StoreKey.SYS_ClientVer, ClientInfo.AppVer);\n        let isSameVer = (String(lastClientVer) == String(ClientInfo.AppVer));\n        //版本号不一致时 当清除本地缓存\n        if (isSameVer == false) {\n            // this.RecommendPop.initLocalData();\n        } else {\n            this.RecommendPop.reloadLocalData();\n        }\n        //初始化大厅游戏配置\n        this.SelectGame.initHallGameConfigByLocal();\n\n        this.PropsConf.initDataByLocal();\n        this.MailInfo.getDataByLocal();\n        this.RedDot.reloadLocalData();\n       \n\n    }\n    /**\n     * 更新用户今日事件(本地存储)\n     * @param key \n     * @param data \n     */\n    setTodayLocalRecord(key, saveData = null) {\n        if (Utils.string_isEmpty(key)) {\n            return false;\n        }\n        let uid = String(this.getUserMid());\n        let realKey = Utils.string_format(StoreKey.USER_TODAY_EVENT, uid);\n        if (!this._todayEventData) {\n            let oldData = LocalStorage.get(realKey, null);\n            oldData = Encrypt.JsonDecode(oldData);\n            oldData = Utils.table_verify(oldData);\n            this._todayEventData = oldData;\n        }\n        key = String(key);\n        this._todayEventData[key] = saveData;\n        this.print(\"更新用户今日事件==> key:\", key, saveData, this._todayEventData);\n        LocalStorage.set(realKey, Encrypt.JsonEncode2(this._todayEventData));\n        return true\n    }\n    /**\n     * 获取用户今日事件(本地存储)\n     * @param key\n     * @param def 默认值\n     */\n    getTodayLocalRecord(key, def = null) {\n        if (Utils.string_isEmpty(key)) {\n            return null;\n        }\n        if (!this._todayEventData) {\n            let uid = String(this.getUserMid());\n            let realKey = Utils.string_format(StoreKey.USER_TODAY_EVENT, uid);\n            let oldData = LocalStorage.get(realKey, null);\n            oldData = Encrypt.JsonDecode(oldData);\n            oldData = Utils.table_verify(oldData);\n            this._todayEventData = oldData;\n        }\n        key = String(key);\n        console.log(\"获取用户今日事件==>\", key, this._todayEventData[key])\n        return (this._todayEventData[key] != null ? this._todayEventData[key] : def);\n    }\n    /**\n     * 更新上次登录的时间(只有成功登录了才会更新)\n     */\n    updateLastLoginTime() {\n        this._loginSuccessTime = Utils.time();\n        let key = Utils.string_format(StoreKey.USER_LOGIN_LAST_TIME, this.getUserMid());\n        let lastLoginTime = LocalStorage.get(key, null);\n        if (lastLoginTime == null || Utils.time_isSampleDay(this._loginSuccessTime, lastLoginTime) == false) {\n            //非同一天 清除今日记录\n            this.cleanTodayLocalRecord();\n        }\n        LocalStorage.set(key, this._loginSuccessTime);\n    }\n    /**\n     * 清除今日记录\n     */\n    cleanTodayLocalRecord() {\n        let uid = String(this.getUserMid());\n        let realKey = Utils.string_format(StoreKey.USER_TODAY_EVENT, uid);\n        LocalStorage.set(realKey, null);\n        this._todayEventData = null;\n        console.log(\"清除今日记录结果\", LocalStorage.get(realKey))\n    }\n\n    /**\n     * 更新用户点击操作次数(本地存储)\n     * @param key 点击的标识\n     * @returns \n     */\n    updateClickRecord(key) {\n        if (Utils.string_isEmpty(key)) {\n            return false;\n        }\n        let uid = String(this.getUserMid());\n        let realKey = Utils.string_format(StoreKey.USER_CLICKED_RECORD, uid);\n        if (!this._clickedRecordData) {\n            let oldData = LocalStorage.get(realKey, null);\n            oldData = Encrypt.JsonDecode(oldData);\n            oldData = Utils.table_verify(oldData);\n            this._clickedRecordData = oldData;\n        }\n        key = String(key);\n        this._clickedRecordData[key] = Utils.number_valueOf(this._clickedRecordData[key], 0) + 1;\n        this.print(\"更新用户点击操作次数==> key:\", key, this._clickedRecordData[key], this._clickedRecordData);\n        LocalStorage.set(realKey, Encrypt.JsonEncode2(this._clickedRecordData));\n        return true\n    }\n    /**\n     * 获取用户点击操作次数(本地存储)\n     * @param key:number|null\n     */\n    getClickRecord(key): number {\n        if (Utils.string_isEmpty(key)) {\n            return null;\n        }\n        if (!this._clickedRecordData) {\n            let uid = String(this.getUserMid());\n            let realKey = Utils.string_format(StoreKey.USER_CLICKED_RECORD, uid);\n            let oldData = LocalStorage.get(realKey, null);\n            oldData = Encrypt.JsonDecode(oldData);\n            oldData = Utils.table_verify(oldData);\n            this._clickedRecordData = oldData;\n        }\n        key = String(key);\n        console.log(\"获取用户点击操作次数==>\", key, this._clickedRecordData[key])\n        return Utils.number_valueOf(this._clickedRecordData[key], 0);\n    }\n\n    //获取玩家的登录状态\n    getLoginState() {\n        return this._loginState\n    }\n    //设置玩家游戏房间登录状态\n    set LoginRoomState(param: boolean) {\n        this._loginRoomState = param || false;\n    }\n    //获取玩家游戏房间登录状态\n    get LoginRoomState(): boolean {\n        return this._loginRoomState\n    }\n\n    /** 玩家是否登录成功 */\n    isLoginSuccesed(): boolean {\n        if (this._loginState == GConstants.UserLoginState.LoginSuccess) {\n            return true\n        }\n        return false\n    }\n    /** 玩家是否正在登录中 */\n    isLogining(): boolean {\n        if (this._loginState == GConstants.UserLoginState.Logining) {\n            return true\n        }\n        return false\n    }\n\n\n    /** 保存当前登录的信息 */\n    saveCurLoginInfo(user, game, account, otherEx = {}) {\n        this.setData(\"user\", user)\n        this.setData(\"game\", game)\n        this.setData(\"account\", account)\n\n        let data = {\n            imsi: ClientInfo.IMSI,\n            mid: user[\"mid\"],\n            guid: user[\"guid\"],\n            byacc: user[\"byacc\"],\n            nick: user[\"nick\"],\n            sex: user[\"sex\"],\n            uType: account[\"uType\"],\n            token: account[\"access_token\"],\n            bid: account[\"bid\"],\n            phoneNum: account[\"phone\"],\n            loginType: account[\"login_type\"],\n            registerTime: user[\"join\"],\n        };\n        for (let key in otherEx) {\n            if (Object.prototype.hasOwnProperty.call(otherEx, key) && data[key] == null) {\n                data[key] = otherEx[key];\n            }\n        }\n        this.saveLastlocalLoginInfo(data)\n\n        //通行证用户保存账号信息\n        if (data.uType == GConstants.UserUType.BoyaaPassport) {\n            this.addAccountInfo(user.byacc, null, account[\"bid\"], account[\"access_token\"])\n        }\n    }\n\n    getDataUser(key: string = null, del: any = null) {\n        if (key) {\n            let user = this.getData(\"user\")\n            if (user) {\n                if (user[key] != null && user[key] != undefined) {\n                    return user[key]\n                }\n            }\n        }\n        return del\n    }\n    getDataGame(key: string = null, del: any = null) {\n        if (key) {\n            let game = this.getData(\"game\")\n            if (game) {\n                if (game[key] != null && game[key] != undefined) {\n                    return game[key]\n                }\n            }\n        }\n        return null\n    }\n    getDataAccount(key: string = null, del: any = null) {\n        if (key) {\n            let account = this.getData(\"account\")\n            if (account[key] != null && account[key] != undefined) {\n                return account[key]\n            }\n        }\n        return null\n    }\n    //更新用户数据\n    updateDataUserKey(key: string = null, value: any = null) {\n        if (key) {\n            let user = this.getData(\"user\")\n            if (user) {\n                if (user[key] != null && user[key] != undefined) {\n                    user[key] = value\n                    this.setData(\"user\", user)\n                }\n            }\n        }\n    }\n    /** 获取玩家成功登录的时间 可能为空 */\n    getLoginSuccessTime(): number {\n        return this._loginSuccessTime\n    }\n\n    //更新用户游戏数据\n    updateDataGameKey(key: string = null, value: any = null) {\n        if (key) {\n            let game = this.getData(\"game\")\n            if (game) {\n                if (game[key] != null && game[key] != undefined) {\n                    game[key] = value\n                    this.setData(\"game\", game)\n                }\n            }\n        }\n    }\n    //更新用户Account数据\n    updateDataAccountKey(key: string = null, value: any = null) {\n        if (key) {\n            let account = this.getData(\"account\")\n            if (account) {\n                if (account[key] != null && account[key] != undefined) {\n                    account[key] = value\n                    this.setData(\"account\", account)\n                }\n            }\n        }\n    }\n\n    //保存上次登录的信息\n    saveLastlocalLoginInfo(param) {\n        let res = Encrypt.JsonEncode2(param)\n        if (res == \"\") {\n            res = null\n        }\n        if (res == null) {\n            this._lastlocalLoginInfo = null\n        }\n        LocalStorage.set(StoreKey.LOGIN_LAST_INFO, res);\n        this._lastlocalLoginInfo = null;\n    }\n    //清空上次登录\n    cleanLastlocalLoginInfo() {\n        LocalStorage.set(StoreKey.LOGIN_LAST_INFO, null)\n        this._lastlocalLoginInfo = null\n    }\n\n    //清空上次登录Token\n    cleanLastlocalLoginToken() {\n        let tab = this.getLastlocalLoginInfo();\n        if (Utils.table_isEmpty(tab) == false) {\n            tab[\"token\"] = null; // 地方是guid字段\n            LocalStorage.set(StoreKey.LOGIN_LAST_INFO, tab)\n        }\n        this._lastlocalLoginInfo = null\n    }\n\n    //获取上次登录的信息(Array)\n    getLastlocalLoginInfo() {\n        if (!this._lastlocalLoginInfo) {\n            this._lastlocalLoginInfo = LocalStorage.get(StoreKey.LOGIN_LAST_INFO, null)\n            if (this._lastlocalLoginInfo) {\n                this._lastlocalLoginInfo = Encrypt.JsonDecode(this._lastlocalLoginInfo)\n            }\n        }\n\n        return this._lastlocalLoginInfo\n    }\n\n    /** 获取上次登录的某一个key的value */\n    getLastLoginValueByKey(key: string, def: any = null) {\n        if (!key) {\n            return def\n        }\n\n        if (this.getLastlocalLoginInfo()) {\n            return this._lastlocalLoginInfo[key] || def\n        }\n        return def\n    }\n\n    //获取上次登录的类型\n    getLastlocalLoginType() {\n        if (!this._lastlocalLoginInfo) {\n            this.getLastlocalLoginInfo()\n        }\n        if (!this._lastlocalLoginInfo) {\n            return GConstants.UserLoginType.NONE\n        }\n        return this._lastlocalLoginInfo[\"loginType\"] || GConstants.UserLoginType.NONE\n    }\n\n    //获取上次登录的Token\n    getLastlocalLoginToken() {\n        if (!this._lastlocalLoginInfo) {\n            this.getLastlocalLoginInfo()\n        }\n        if (!this._lastlocalLoginInfo) {\n            return null\n        }\n        return this._lastlocalLoginInfo[\"token\"] // 地方是guid字段\n    }\n\n    //获取上次登录的服务器配置地址\n    getLastlocalLoginServerConf() {\n        if (!this._lastlocalLoginInfo) {\n            this.getLastlocalLoginInfo();\n        }\n        if (!this._lastlocalLoginInfo) {\n            return null;\n        }\n        return this._lastlocalLoginInfo[\"serverConf\"];\n    }\n\n    //获取上次登录boyaa通行证\n    getLastlocalByacc() {\n        if (!this._lastlocalLoginInfo) {\n            this.getLastlocalLoginInfo()\n        }\n        if (!this._lastlocalLoginInfo) {\n            return null\n        }\n        return this._lastlocalLoginInfo[\"byacc\"] || null\n    }\n    //获取上次登录的token\n    getLastlocalToken() {\n        if (!this._lastlocalLoginInfo) {\n            this.getLastlocalLoginInfo()\n        }\n        if (!this._lastlocalLoginInfo) {\n            return null\n        }\n        return this._lastlocalLoginInfo[\"token\"] || null\n    }\n    //获取上次登录的Mid\n    getLastlocalMid() {\n        if (!this._lastlocalLoginInfo) {\n            this.getLastlocalLoginInfo()\n        }\n        if (!this._lastlocalLoginInfo) {\n            return null\n        }\n        return this._lastlocalLoginInfo[\"mid\"] || null\n    }\n    /**\n     * 获取玩家基础信息\n     * @param key 键 字符串\n     */\n    getUserInfoProp(key: string = null) {\n        if (key) {\n            if (Utils.isNull(this._userInfo[key])) {\n                return null;\n            }\n            return this._userInfo[key];\n        } else {\n            return this._userInfo;\n        }\n    }\n    /**\n     * 设置用户身份标识 \n     * 0标识普通用户，1标识付费用户，2标识vip用户, 3标识即是付费用户又vip用户\n     * @param keyCode \n     */\n    setIdentity(keyCode: number = 0) {\n        this.setData(\"Identity\", keyCode)\n    }\n    //获取用户身份标识 \n    getIdentity() {\n        return Utils.number_valueOf(this.getData(\"Identity\"), 0)\n    }\n    //是否是付费用户\n    getIsPayUser(): boolean {\n        let identity = this.getIdentity();\n        return identity == GConstants.UserIdentity.Rmb || identity == GConstants.UserIdentity.RmbAndVip;\n    }\n\n    //获取用户的Mid\n    getUserMid(del: any = null) {\n        return this.getDataUser(\"mid\", del)\n    }\n    //获取用户的cid\n    getUserCid(del: any = null) {\n        return this.getDataUser(\"cid\", this.getDataUser(\"mid\", del))\n    }\n    //获取用户的APPID\n    getUserAppID(del: any = null) {\n        return this.getDataUser(\"appid\", del)\n    }\n    //获取用户的Guid\n    getUserGuid(del: any = null) {\n        return this.getDataUser(\"guid\", del)\n    }\n\n    //获取用户的昵称\n    getUserName(del: any = null) {\n\n        return this.getDataUser(\"nick\", del)\n    }\n    //获取用户的性别\n    getUserSex(del: any = null) {\n        return this.getDataUser(\"sex\", del)\n    }\n    //获取用户的城市\n    getUserCity(del: any = null) {\n        return this.getDataUser(\"city\", del)\n    }\n    //获取用户头像数组\n    getUserHeadArray(del: any = null) {\n        let headArray = {\n            s: this.getDataUser(\"avatar_s\", del),\n            m: this.getDataUser(\"avatar_m\", del),\n            b: this.getDataUser(\"avatar_b\", del)\n        }\n        return headArray\n    }\n\n    //获取用户头像数组\n    getUserHeadBox(del: any = null) {\n        return this.getDataUser(\"headBox\", del)\n    }\n\n    //获取用户兑换券\n    getUserDiamond(del: any = null) {\n        return this.getDataGame(\"bdiamond\", del == null ? 0 : del)\n    }\n    //获取用户金条\n    getUserCrystal(del: any = null) {\n        return this.getDataGame(\"crystal\", del == null ? 0 : del)\n    }\n    /** 获取用户保险箱金条 */\n    getUserCrystalSafeBox(del: any = null) {\n        return this.getDataGame(\"crystalsafebox\", del == null ? 0 : del)\n    }\n\n    /** 获取用户总银币 */\n    getUserSilver(del: any = null) {\n        let all = this.getDataGame(\"totalmoney\", del == null ? 0 : del)\n        this.print(\"获取总银币==>\", all)\n        return this.getDataGame(\"totalmoney\", del == null ? 0 : del)\n    }\n    /** 获取用户现金银币 */\n    getUserGameSilver(del: any = null) {\n        let a = this.getDataGame(\"money\", del == null ? 0 : del);\n        this.print(\"获取用户现金银币==>\", a)\n        return a\n    }\n\n    getUserGameExp(del: any = null) {\n        return this.getDataGame(\"exp\", del == null ? 0 : del)\n    }\n    /**\n     * 根据货币类型 获取用户身上的money\n     * @param moneyID 货币类型 0:银币，1：金条 2：兑换券\n     * @param isAll 是否是所有 默认非所有\n     */\n    getUserMoneyByID(moneyID: number = 0, isAll: boolean = false) {\n        this.print(\"根据货币类型 获取用户身上的money===>moneyID=\", moneyID)\n        if (moneyID == 0) {\n            if (isAll) {\n                return this.getUserSilver()\n            } else {\n                return this.getUserGameSilver()\n            }\n        } else if (moneyID == 1) {\n            if (isAll) {\n                return (this.getUserCrystal() + this.getUserCrystalSafeBox())\n            } else {\n                return this.getUserCrystal()\n            }\n        } else if (moneyID == 2) {\n            return this.getUserDiamond()\n        }\n        return 0\n    }\n\n    /**\n     * 根据货币类型 更新用户身上的money\n     * @param moneyID 货币类型 0:银币，1：金条 2：兑换券\n     * @param value 数值\n     */\n    updateUserMoneyByID(moneyID: number = 0, value: number = 0, isAll: boolean = false) {\n        let oldNum = null;\n        let newNum = null;\n        if (moneyID == GConstants.PropertyType.SILVER_COIN) {\n            if (isAll) {\n                oldNum = this.getDataGame(\"totalmoney\", 0);\n                this.updateDataGameKey(\"totalmoney\", value)\n                newNum = this.getDataGame(\"totalmoney\", oldNum);\n            } else {\n                oldNum = this.getDataGame(\"money\", 0);\n                this.updateDataGameKey(\"money\", value);\n                newNum = this.getDataGame(\"money\", oldNum);\n            }\n        } else if (moneyID == GConstants.PropertyType.GOLD_BAR) {\n            oldNum = this.getDataGame(\"crystal\", 0);\n            this.updateDataGameKey(\"crystal\", value);\n            newNum = this.getDataGame(\"crystal\", oldNum);\n        } else if (moneyID == GConstants.PropertyType.DIAMOND) {\n            oldNum = this.getDataGame(\"bdiamond\", 0);\n            this.updateDataGameKey(\"bdiamond\", value);\n            newNum = this.getDataGame(\"bdiamond\", oldNum);\n        }\n        if (oldNum != null) {\n            if (oldNum != newNum) {\n                this.print(`>>>资产有变更 货币类型:${moneyID} 变更前:${oldNum} 变更后:${newNum}`);\n                let sendBody = {\n                    type: moneyID,\n                    num: newNum,\n                }\n                //通知:资产变更\n                EventManager.dispatch(AppEvent.USER_UPDATE_PROPERTY, sendBody)\n            }\n        }\n    }\n\n    /** 今日首次登录 */\n    isFirstLoginToday(): boolean {\n        if (this.getLoginSuccessCount(this.getUserMid()) == 1) {\n            if (this.isRegisterToday()) {\n                return true\n            } else {\n                let lastLoginTime = this.getDataUser(\"lastlogin\", null)\n                let currowTime = Utils.time()\n                return Utils.time_isSampleDay(lastLoginTime, currowTime)\n            }\n        }\n        return false\n    }\n    /** 当前首次登录 */\n    isFirstLoginCurrow(): boolean {\n        let mid = this.getUserMid()\n        if (this.isFirstLoginToday() && !Utils.string_isEmpty(mid)) {\n            return this.getLoginSuccessCount(mid) == 1\n        }\n        return false\n    }\n    /** 今日注册 */\n    isRegisterToday(): boolean {\n        let joinTime = this.getDataUser(\"join\", null)\n        let currowTime = Utils.time()\n        if (!Utils.isNull(joinTime)) {\n            return Utils.time_isSampleDay(joinTime, currowTime)\n        }\n        return false\n    }\n\n    //账号历史\n    getAccountHistory() {\n        if (!this._historyLoginInfo) {\n            this._historyLoginInfo = LocalStorage.get(StoreKey.LOGIN_USER_HISTORY, null)\n            if (this._historyLoginInfo) {\n                this._historyLoginInfo = Encrypt.JsonDecode(this._historyLoginInfo)\n            }\n        }\n        return this._historyLoginInfo || {}\n    }\n    //更新账号历史\n    updateAccountHistory(param) {\n        if (Utils.string_isEmpty(param)) {\n            return\n        }\n        let temp = Encrypt.JsonEncode2(param)\n        if (temp) {\n            LocalStorage.set(StoreKey.LOGIN_USER_HISTORY, temp)\n        }\n        return this.getAccountHistory()\n    }\n\n    //添加新的账号信息\n    addAccountInfo(loginAccount, loginPsd, bid, access_token) {\n        if (Utils.string_isEmpty(loginAccount)) {\n            return\n        }\n        let data = this.getAccountHistory();\n\n        for (let index = 0; index < data.length; index++) {\n            let value = data[index];\n            if (value && value[\"loginAccount\"] == loginAccount) {\n                data.splice(index, 0)\n                break;\n            }\n        }\n        let temp = {\n            loginAccount: loginAccount,\n            loginPsd: loginPsd,\n            access_token: access_token,\n        }\n        data.unshift(temp)\n        this.updateAccountHistory(data)\n    }\n    //检查账号记录中是否存在记录\n    checkIsExsitAccountInfo(loginAccount) {\n        let recode = this.getAccountHistory()\n        let isExsit = false;\n        let key = null;\n        let temp = {};\n\n        for (let index = 0; index < recode.length; index++) {\n            let value = recode[key];\n            if (value[\"loginAccount\"] && value[\"loginAccount\"] == loginAccount) {\n                isExsit = true\n                key = index\n                temp = value\n                break;\n            }\n        }\n        return [isExsit, key, temp]\n    }\n    //更新登录次数成功的记录\n    updateLoginSuccessCount() {\n        let mid = this.getUserMid()\n        if (Utils.string_isEmpty(mid)) {\n            return null\n        }\n        let lastCount = this.getLoginSuccessCount(mid)\n        this._loginSuccessCountArray[mid] = lastCount + 1\n        //保存\n        let jsonStr = Encrypt.JsonEncode2(this._loginSuccessCountArray)\n        if (Utils.string_isEmpty(jsonStr)) {\n            jsonStr = null\n            return null\n        }\n        this.print(\"更新登录次数成功的记录 ==>new = \" + this._loginSuccessCountArray[mid])\n        LocalStorage.set(StoreKey.LOGIN_SUCCESS_COUNT, jsonStr)\n        return this._loginSuccessCountArray[mid]\n    }\n\n    //用户经验等级配置\n    updateLevelExpConfig(body) {\n        if (Utils.isNull(body)) {\n            return\n        }\n        let oneArray = [\n            \"exp\",\n            \"name\",\n            \"level\"\n        ]\n        //已经排序过了\n        this._levelExpConfig = []\n\n        let map = new Map()\n        for (let level in body) {\n            if (Object.prototype.hasOwnProperty.call(body, level)) {\n                let expArray = body[level];\n                if (expArray) {\n                    expArray = this.mergeArray(oneArray, expArray)\n                }\n                if (expArray) {\n                    map.set(level, expArray)\n                }\n            }\n        }\n        if (map.size > 0) {\n            let arrayLike = Array.from(map)\n            //得到的array中索引0为map中的key,索引1为map中的value\n            arrayLike.sort(function (a, b) {\n                return a[0] - b[0]\n            })\n            for (let index = 0; index < arrayLike.length; index++) {\n                arrayLike[index][1][\"level\"] = arrayLike[index][0]\n                this._levelExpConfig.push(arrayLike[index][1])\n            }\n        }\n        return this._levelExpConfig\n    }\n    //用户经验等级配置\n    getLevelExpConfig() {\n        return this._levelExpConfig\n    }\n    //更新经验值获取等级\n    getLevelByExp(exp, del: any = 0) {\n        if (!this._levelExpConfig) {\n            return del\n        }\n        exp = Utils.number_valueOf(exp)\n        let level = null\n        let levelExpConf = null\n        for (let index = 0; index < this._levelExpConfig.length; index++) {\n            let levelExp = this._levelExpConfig[index];\n            if (levelExp && Utils.isNull(levelExp[\"exp\"]) == false) {\n                if (Utils.number_valueOf(levelExp[\"exp\"]) > exp) {\n                    if (this._levelExpConfig[index - 1]) {\n                        levelExpConf = this._levelExpConfig[index - 1]\n                        level = levelExpConf[\"level\"]\n                    }\n                    break;\n                } else if (Utils.number_valueOf(levelExp[\"exp\"]) == exp) {\n                    levelExpConf = this._levelExpConfig[index]\n                    level = levelExpConf[\"level\"]\n                    break;\n                }\n            }\n        }\n        if (!level) {\n            let valueConf = this._levelExpConfig[this._levelExpConfig.length - 1]\n            if (Utils.number_valueOf(valueConf[\"exp\"] < exp)) {\n                levelExpConf = valueConf\n                level = levelExpConf[\"level\"]\n            }\n        }\n        return level\n    }\n\n    //更新用户身上的道具信息\n    updatePropsInfo(body) {\n        if (Utils.isNull(body)) {\n            return\n        }\n        let props = {};\n        let vipInfo = null;\n        body = Utils.table_verify(body)\n        for (let i in body) {\n            if (Object.prototype.hasOwnProperty.call(body, i)) {\n                let item = {\n                    \"type\": Utils.number_valueOf(body[i][\"propsType\"], -1),   //道具类型\n                    \"expires\": Utils.number_valueOf(body[i][\"expires\"], 0),   //过期时间\n                    \"allowTimes\": Utils.number_valueOf(body[i][\"allow_times\"], 0),  //道具个数\n                    \"updateTime\": Utils.time(),\n                };\n                if (item.type == GConstants.UserPropsType.TYPE_VIP) {\n                    vipInfo = item;\n                }\n                props[item.type] = item;\n            }\n        }\n        this.setVipInfo(vipInfo);\n        this._propsInfo = props;\n    }\n    //获取用户身上的道具信息\n    getPropsInfo() {\n        return this._propsInfo || {};\n    }\n    //获取用户身上的道具信息(根据道具类型)\n    getPropsInfoByType(propType) {\n        if (Utils.isNull(propType)) {\n            return null;\n        }\n        return this._propsInfo[propType] || null;\n    }\n    //获取用户身上的道具个数(根据道具类型)\n    getPropsNumInfoByType(propType) {\n        let info = this.getPropsInfoByType(propType);\n        let num = 0;\n        if (info) {\n            if (this.isExpireProps(propType)) {\n                return 0;\n            }\n            num = info[\"allowTimes\"];\n        }\n        return num;\n    }\n    //道具是否过期\n    isExpireProps(propType) {\n        let info = this.getPropsInfoByType(propType)\n        if (!info) {\n            return true;\n        }\n        if (info[\"expires\"] <= 0) {\n            return false;\n        }\n        let time = Utils.time() - info[\"updateTime\"]\n        if (time >= info[\"expires\"]) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    //设置Vip信息\n    setVipInfo(body) {\n        if (Utils.table_isEmpty(body)) {\n            this.setIdentity(GConstants.UserIdentity.Normal);\n        } else if (body?.type == GConstants.UserPropsType.TYPE_VIP) {\n            let isPayUser = this.getIsPayUser();\n            this.setVipTime(body[\"expires\"]);\n            if (isPayUser) {\n                this.setIdentity(GConstants.UserIdentity.RmbAndVip);\n            } else {\n                this.setIdentity(GConstants.UserIdentity.Vip);\n            }\n        }\n    }\n    //viptime vip到期时间 -1表示无限制， 0表示过期  \n    setVipTime(time: number) {\n        let leftTime = Utils.number_valueOf(time); //单位为秒\n        this.setData(\"vipTime\", leftTime)\n    }\n\n\n    //获取登录次数成功的记录\n    getLoginSuccessCount(mid: string): number {\n        if (!this._loginSuccessCountArray || !this._loginSuccessCountArray[mid]) {\n            let record = LocalStorage.get(StoreKey.LOGIN_SUCCESS_COUNT, null)\n            if (record) {\n                record = Encrypt.JsonDecode(record)\n            }\n            this._loginSuccessCountArray = Utils.table_verify(record)\n        }\n\n        let lastCount = 0\n        if (!Utils.isNull(this._loginSuccessCountArray[mid])) {\n            lastCount = this._loginSuccessCountArray[mid]\n            lastCount = Number(lastCount)\n        }\n        this.print(\"登录成功的次数===>\" + lastCount)\n        return lastCount\n    }\n\n    /**\n     * 计算需要取出多少银币\n     * @param minMoney 场次银币下限\n     * @param maxMoney 场次银币上限\n     * @param money    用户现金\n     * @param totalMoney 用户总银币\n     */\n    calTakeOutHowMuchMoney(minMoney, maxMoney, money, totalMoney) {\n        let getMoney = 2 * minMoney - money;\n        getMoney = Math.min(getMoney, totalMoney - money);//不能超过保险箱中的银币\n        if (maxMoney != -1) {\n            getMoney = Math.min(getMoney, maxMoney - money - 1);//不能超过银币上限(前闭后开)\n        }\n        return getMoney;\n    }\n\n    //获取玩家进入房间所需的信息\n    getUserLoginInfoByIntoGame(gameID: number) {\n        gameID = Utils.number_valueOf(gameID, null);\n        if (Utils.isNull(gameID)) {\n            return null;\n        }\n\n        let headArray = this.getUserHeadArray()\n        let commonInfo = {\n            userId: this.getUserMid(0),\n            cid: this.getUserCid(0),\n            nickName: this.getUserName(\"\"),\n            sex: this.getUserSex(1),\n            city: this.getUserCity(\"\"),\n            gold: this.getUserGameSilver(0),\n            money: this.getUserGameSilver(0), //根据货币类型取得的资产数据,游戏重启马上重连时levelId不正确故此时资产类型不准\n            diamond: this.getUserDiamond(0),\n            crystal: this.getUserCrystal(),\n            m_identity: this.getIdentity(),\n            avatar_s: headArray[\"s\"] || \"\",\n            avatar_m: headArray[\"m\"] || \"\",\n            avatar_b: headArray[\"b\"] || \"\",\n            headBox: this.getUserHeadBox(\"\"),\n            level: this.getLevelByExp(this.getUserGameExp(0), 0),\n            exp: this.getUserGameExp(0),\n            //输赢平记录\n            loseCount: Utils.nullToDefault(this.getGamePlayRecordByKey(gameID, GConstants.UserGameRecodeState.Lose), 0),\n            winCount: Utils.nullToDefault(this.getGamePlayRecordByKey(gameID, GConstants.UserGameRecodeState.Win), 0),\n            drawCount: Utils.nullToDefault(this.getGamePlayRecordByKey(gameID, GConstants.UserGameRecodeState.Draw), 0),\n            ladderScore: Utils.nullToDefault(this.getGamePlayRecordByKey(gameID, GConstants.UserGameRecodeState.LadderScore), 0),\n\n            appid: this.getUserAppID(),\n\n        }\n        return commonInfo\n    }\n\n    /**\n     * 同步下发玩的游戏记录\n     * @param gameID 游戏ID\n     * @param body \n     * @returns 成功返回数据 失败返回空\n     */\n    syncGamePlayRecord(gameID, body) {\n        gameID = Utils.number_valueOf(gameID, null);\n        if (Utils.isNull(gameID)) {\n            return null;\n        }\n        let info = {\n            \"wintimes\": 0,     //赢的局数\n            \"losetimes\": 0,    //输的局数\n            \"drawtimes\": 0,    //平局\n            \"winmax\": 0,       //最大赢钱数\n            \"points\": 0,\n            \"group\": \"\",\n            \"eloscore\": 0,     //天梯分\n        }\n        let _info = this.mergeArrayDefault(info, body);\n        this._gamePlayInfoRecord[gameID] = _info;\n        return this._gamePlayInfoRecord[gameID];\n    }\n    /**\n     * 获取某个游戏的玩的记录\n     * @param gameID 游戏ID\n     * @param itemKey 要获取的键值 为空则获取所有 详见UserGameRecodeState\n     * @returns 成功返回数据 失败返回空\n     */\n    getGamePlayRecordByKey(gameID: number, itemKey = null) {\n        gameID = Utils.number_valueOf(gameID, null);\n        if (Utils.isNull(gameID)) {\n            return null;\n        }\n        if (Utils.isNull(this._gamePlayInfoRecord[gameID])) {\n            return null;\n        }\n        if (Utils.isNull(itemKey)) {\n            return this._gamePlayInfoRecord[gameID];\n        }\n        let key = null;\n        switch (itemKey) {\n            case GConstants.UserGameRecodeState.Win:\n                key = \"wintimes\";\n                break;\n            case GConstants.UserGameRecodeState.Lose:\n                key = \"losetimes\";\n                break;\n            case GConstants.UserGameRecodeState.Draw:\n                key = \"drawtimes\";\n                break;\n            case GConstants.UserGameRecodeState.WinMax:\n                key = \"winmax\";\n                break;\n            case GConstants.UserGameRecodeState.LadderScore:\n                key = \"eloscore\";\n                break;\n            default:\n                break;\n        }\n        if (key) {\n            return this._gamePlayInfoRecord[gameID][key];\n        }\n        return null;\n    }\n    /**\n     * 更新某个游戏的玩的记录 每次加+1\n     * @param gameID 游戏ID\n     * @param itemKey 要更新的键值 详见UserGameRecodeState\n     */\n    updateGamePlayRecordByKey(gameID: number, itemKey = null) {\n        gameID = Utils.number_valueOf(gameID, null);\n        if (Utils.isNull(gameID)) {\n            return null;\n        }\n        if (Utils.isNull(this._gamePlayInfoRecord[gameID])) {\n            return null;\n        }\n        let key = null;\n        switch (itemKey) {\n            case GConstants.UserGameRecodeState.Win:\n                key = \"wintimes\";\n                break;\n            case GConstants.UserGameRecodeState.Lose:\n                key = \"losetimes\";\n                break;\n            case GConstants.UserGameRecodeState.Draw:\n                key = \"drawtimes\";\n                break;\n            case GConstants.UserGameRecodeState.WinMax:\n                key = \"winmax\";\n                break;\n            case GConstants.UserGameRecodeState.LadderScore:\n                key = \"eloscore\";\n                break;\n            default:\n                break;\n        }\n\n        if (key) {\n            let oldNum = this._gamePlayInfoRecord[gameID][key];\n            if (typeof (oldNum) == \"number\") {\n                this._gamePlayInfoRecord[gameID][key] = oldNum + 1;\n            }\n            return this._gamePlayInfoRecord[gameID][key];\n        }\n        return null\n    }\n    /** 获取开放数据域要保存的数据 */\n    getCloudStorageSaveList(callFunc = null) {\n        let headFrame = this.getUserInfoProp(\"picture_frame\");\n\n        Platform.downloadFile(headFrame, (res) => {\n            if (res[\"code\"] === 200) {\n                headFrame = res[\"filePath\"];\n            } else {\n                headFrame = \"\";\n            }\n            let param = [\n                { key: CloundKey.USER_LOGIN_TIME, value: this.getLoginSuccessTime() },\n                { key: CloundKey.USER_HEAD_FRAME, value: headFrame },\n                { key: CloundKey.USER_UID, value: this.getUserMid() },\n            ]\n            if (callFunc) {\n                callFunc(param);\n            }\n        });\n    }\n    /** 获取开放数据域key队列 */\n    getCloudStorageKeys(): Array<String> {\n        let keys = [\n            CloundKey.USER_LOGIN_TIME,\n            CloundKey.USER_HEAD_FRAME,\n            CloundKey.USER_UID,\n        ]\n        return keys\n    }\n    /** 获取开放数据域要传递的数据 */\n    getCloudStorageParam() {\n        //当前用户openID的数据\n        let key_openid = Utils.string_format(StoreKey.LOGIN_USER_OPENID, this.getUserMid());\n        let currentOpenid = LocalStorage.get(key_openid, '');\n        console.log('当前用户的openid', currentOpenid);\n\n        let shareOptions = {}\n        if (Utils.table_verify(this.__shareInfo.ShareConfig.friend)) {\n            let shopShareMsg = this.__shareInfo.getShareConfigByType(GConstants.ShareSceneConf.friend)\n            // 空数组返回 true\n            if (Utils.table_isEmpty(shopShareMsg)) {\n                shareOptions = {\n                    title: GameTxt.share_wx_friends_txt, //通用标题\n                    imageUrl: GameRes.AppCommon_Share_Friend_Comm.path, //通用img\n                }\n            } else {\n                shareOptions = {\n                    title: shopShareMsg[0]['title'], //转发标题，不传则默认使用当前小游戏的昵称\n                    imageUrl: shopShareMsg[0]['img'],\n                }\n\n            }\n        }\n        console.log('邀请好友分享的数据', shareOptions)\n\n        return {\n            maxFriends: 100,\n            myopenID: currentOpenid,\n            keyList: this.getCloudStorageKeys(),\n            shareOptions: shareOptions,\n        }\n\n    }\n}\n"]}