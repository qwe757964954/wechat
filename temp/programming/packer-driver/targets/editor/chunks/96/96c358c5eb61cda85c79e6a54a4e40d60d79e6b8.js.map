{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/activity/scripts/atyCenterPrefabCtr.ts"],"names":["Color","Label","Layout","Node","ScrollView","Sprite","SpriteFrame","UITransform","_decorator","instantiate","GCache","AppEvent","AppSound","GConstants","ReportConfig","UIID","Utils","Encrypt","resLoader","EventManager","BaseComponent","Platform","ccclass","property","menu","atyCenterPrefabCtr","tooltip","type","currowChooseTabID","currowChooseSubID","currowChooseData","tabLayer","atyData","noticeData","showData","_redDotView","_initSize","panelActivity","noticePic","onInitModuleEvent","addModelListener","NOTIFY_UPDATE_RED_DOT","refreshRedDot","onLoad","tabNode1","tabNode2","RedDotConf","ActivityNormal","ActivityNotice","getData","findFirstShowAct","initView","start","TaskInfo","NoticeData","active","panelNotice","cloneSubtab","width","getComponent","height","noticeContent","updateTabList","updateSubList","updateRightView","showIndexByRed","findIndex","item","showIndexByFirst","respAtyCenterConfig","event","receiveData","reqData","code","keyType","params","nodeOrList","imgRedDot","Array","forEach","node","index","getChildByName","setSpriteFrame","path","string_isHttp","self","loadRemote","ext","err","imageAsset","isValid","spriteFrame","image_ImageAssetToSpriteFrame","pngNode","create_2DSprite","bgPanelActivity","setAdaptivePng","addSchedulerOnce","addChild","sizeConf","isOnlyWidth","scale","scW","scH","uiTransComp","pngWidth","pngHeight","scWidth","scHeight","sprite","sizeMode","key","v","select","img_reddot","String","__getSubConfByBigID","bigID","data","redKey","redUpdateFunc","RedDot","update_Activity_NormalRed","update_Activity_NoticeRed","smallTabConf","table_verify","max","length","subTabLayer","children","i","nodeItem","destroy","nodeTxt","titleLabel","tag_hot","mark_url","string","title","hasRedDot","color","call","updateLayout","onClickSubTab","target","dispatch","SYS_PLAY_EFFECT","CommClick","console","log","table_isEmpty","taskPanelActivity","removeAllChildren","noticeTitle","noticeScrollow","scrollToTop","checkSpeActivityTask","parentNode","atyType","onClickActivity","REPORT_CLIENT_CLICK","eventID","activityCenter_1","onClickNotice","activityCenter_2","onClickClose","onClickActJump","activityCenter_4","_jumpData","JsonDecode","jmmpCmd","Number","mallScene","JumpViewConf","POS_ACT_MALL","VIEW_UI_OPEN","MallPrefab","id","pay_scene","POS_ACT_DESK_SIGN_POS_ACT_SPECIALGIFT","POS_ACT_DESK_TAG","POS_ACT_CUSTOMER_SERVICE","shareKefuData","ShareInfo","getShareConfigByType","ShareSceneConf","kefugift","shareParams","sessionFrom","success","fail","complete","showMessageCard","sendMessageTitle","sendMessagePath","sendMessageImg","shareID","openCustomerServiceConversation","handler","__doCallBackSerCon","POS_ACT_SPECIALGIFT_TAG","GiftDiscountPrefab","POS_ACT_SIGN_TAG","SigninPrefab","POS_ACT_GAME","SYS_TOAST_TIP","content","POS_ACT_FRIEND","FriendPrefab","POS_ACT_HALL","POS_ACT_USERINFO","PlayerInfoCenter","_jumpGoodsData","jmmpGoodsType","jmmpGoodsID","goodsProp","ShopInfo","getShopDataByGoodsID","activityCenter_5","body","gsubname","ShopBigTabType","SILVER_COIN","goodsItem","param","DialogTitle","Goods_content","itemData","isConfirm","callFunc","pData","__paySure","payID","PayType","RMB","price","BuyDialogPrefab","PROPS","paramProp","goodsId","scene","PayModel","shop_props","BuyPropDialogPrefab","payData","SILVER","OTHER_PAY_WILL","gid","CurrowPaySceneType","UBPaySceneConfig","kHallMarketGold","state","option","NET_REQ_SHARE_AWARD","ReqUrl","shareType","other","onDestroy","NET_CMD_REQ_TASK_ACT_CONFIG"],"mappings":"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","sourcesContent":["\nimport { Color, EventTouch, Label, Layout, Node, ScrollView, Sprite, SpriteFrame, UITransform, _decorator, instantiate } from 'cc';\nimport { GCache } from '../../../cache/GCache';\nimport { AppEvent } from '../../../config/AppEvent';\nimport { AppSound } from '../../../config/AppSound';\nimport { GConstants } from '../../../config/GameConstant';\nimport { ReportConfig } from '../../../config/ReportConfig';\nimport { UIID } from '../../../config/UIConfig';\nimport { Utils } from '../../../framework/Utils';\nimport { Encrypt } from '../../../framework/crypto/Encrypto';\nimport { resLoader } from '../../../framework/loader/ResLoader';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { Platform } from '../../../platform/Platform';\nconst { ccclass, property, menu } = _decorator;\n\n/**\n * Name = atyCenterPrefabCtr\n * URL = db://assets/package/hall/scripts/atyCenterPrefabCtr.ts\n * Time = (中国标准时间)\n * Author = Tomoe\n *\t活动中心\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n */\n\n@ccclass('atyCenterPrefabCtr')\n//方便编辑器识别的菜单项目\n@menu('prefab/activity/atyCenterPrefabCtr')\nexport class atyCenterPrefabCtr extends BaseComponent {\n\n    //页面标签\n    @property({ tooltip: \"页面标签\", type: Node })\n    private tabNode1: Node | null = null;\n\n    //页面标签\n    @property({ tooltip: \"页面标签\", type: Node })\n    private tabNode2: Node | null = null;\n\n    //内容标签Layer\n    @property({ tooltip: \"内容标签Layer\", type: Node })\n    private subTabLayer: Node | null = null;\n\n    //小标签\n    @property({ tooltip: \"小标签\", type: Node })\n    private cloneSubtab: Node | null = null;\n\n    //活动内容节点\n    @property({ tooltip: \"暂无内容节点\", type: Node })\n    private panelActivity: Node | null = null;\n\n    //活动内容背景节点\n    @property({ tooltip: \"活动内容背景节点\", type: Node })\n    private bgPanelActivity: Node | null = null;\n\n    //活动内容玩牌任务节点\n    @property({ tooltip: \"活动内容玩牌任务节点\", type: Node })\n    private taskPanelActivity: Node | null = null;\n\n    //公告内容节点\n    @property({ tooltip: \"暂无内容节点\", type: Node })\n    private panelNotice: Node | null = null;\n\n    //公告具体内容节点\n    @property({ tooltip: \"暂无内容节点\", type: Node })\n    private noticeContent: Node | null = null;\n\n    //公告滚动容器节点\n    @property({ tooltip: \"公告滚动容器节点\", type: Node })\n    private noticeScrollow: Node | null = null;\n\n    //公告标题\n    @property({ tooltip: \"公告标题\", type: Label })\n    private noticeTitle: Label | null = null;\n\n    //无内容图片\n    @property({ tooltip: \"暂无内容节点\", type: SpriteFrame })\n    private noContent: SpriteFrame | null = null;\n\n    //公告背景图片\n    @property({ tooltip: \"公告背景图片\", type: SpriteFrame })\n    private sprBgNotice: SpriteFrame | null = null;\n\n    /** 当前选择菜单 */\n    currowChooseTabID: number = 0;\n    /** 当前选择小标签 */\n    currowChooseSubID: number = null;\n\n    /** 当前右侧页面数据 */\n    currowChooseData = null;\n\n    /** 大标签 */\n    tabLayer = {};\n\n    atyData = null;\n    noticeData = null;\n    showData = null;\n    /** 红点UI队列 */\n    private _redDotView: { [key: string]: Node | Array<Node> } = {};\n\n    private _initSize = {\n        panelActivity: null,\n        noticePic: null,\n    };/**初始化添加事件绑定 */\n    protected onInitModuleEvent(): void {\n        /** 礼包红点更新 */\n        this.addModelListener(AppEvent.NOTIFY_UPDATE_RED_DOT, this.refreshRedDot);\n\n    }\n\n    onLoad() {\n        this.tabLayer = {\n            0: this.tabNode1,\n            1: this.tabNode2,\n        }\n        this._redDotView = {\n            [GConstants.RedDotConf.ActivityNormal]: this.tabNode1,\n            [GConstants.RedDotConf.ActivityNotice]: this.tabNode2,\n        };\n\n        this.getData();\n        this.findFirstShowAct()\n        this.initView();\n\n    };\n\n    start() {\n\n    };\n\n    getData() {\n        this.atyData = GCache.TaskInfo.atyData;\n        this.noticeData = GCache.TaskInfo.NoticeData;\n    }\n    initView() {\n        this.panelActivity.active = false;\n        this.panelNotice.active = false;\n        this.cloneSubtab.active = false;\n        this._initSize[\"panelActivity\"] = { width: this.panelActivity.getComponent(UITransform).width, height: this.panelActivity.getComponent(UITransform).height };\n        this._initSize[\"noticePic\"] = { width: this.noticeContent.getComponent(UITransform).width, height: this.noticeContent.getComponent(UITransform).height };\n\n        this.updateTabList();\n        this.updateSubList();\n        this.updateRightView();\n\n    }\n    /** 活动中心优先展示的活动*/\n    findFirstShowAct() {\n        //判断红点展示\n        let showIndexByRed = this.atyData.findIndex((item) => { return item['red_dot_type'] == 1 })\n        //判断进入活动中心优先要展示的活动数据 \n        let showIndexByFirst = this.atyData.findIndex((item) => { return item['is_first'] == 1 })\n        //  配置了某一条需要优先展示\n        if (showIndexByFirst > -1) {\n            this.currowChooseSubID = showIndexByFirst\n        }\n        //只有红点\n        if (showIndexByRed > -1 && showIndexByFirst == -1) {\n            this.currowChooseSubID = showIndexByRed\n        }\n        //既没有红点也没有配置特殊要展示的  默认展示第 0个下标数据\n        this.currowChooseSubID = 0\n    }\n\n    /** 活动中心配置返回 */\n    respAtyCenterConfig(event, receiveData, reqData) {\n        if (receiveData.code != 0) {\n            return;\n        }\n        this.getData();\n        this.updateSubList();\n        this.updateRightView();\n    }\n\n    /** 红点更新  函数有问题 但是暂不影响功能*/\n    refreshRedDot(event = null, keyType = null, params = null) {\n        if (keyType == null) {\n            for (let keyType in this._redDotView) {\n                let nodeOrList = this._redDotView[keyType];\n\n                let imgRedDot = null;\n                if (nodeOrList instanceof Array) {\n                    nodeOrList.forEach((node, index) => {\n                        imgRedDot = node.getChildByName(\"img_reddot\");\n\n                        if (imgRedDot) {\n                            imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                        }\n                    })\n                } else {\n                    imgRedDot = nodeOrList.getChildByName(\"img_reddot\");\n                    if (imgRedDot) {\n                        imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                    }\n\n                }\n            }\n        } else {\n            if (this._redDotView[keyType] == null) {\n                return;\n            }\n            let nodeOrList = this._redDotView[keyType];\n            let imgRedDot = null;\n            if (nodeOrList instanceof Array) {\n                nodeOrList.forEach((node, index) => {\n                    imgRedDot = node.getChildByName(\"img_reddot\");\n                    if (imgRedDot) {\n                        imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                    }\n                })\n            } else {\n                imgRedDot = nodeOrList.getChildByName(\"img_reddot\");\n                if (imgRedDot) {\n                    imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                }\n\n            }\n        }\n    }\n\n\n    /**设置远端图片 */\n    setSpriteFrame(node, path) {\n        if (!path) {\n            return\n        }\n        if (Utils.string_isHttp(path)) {\n\n            let self = this;\n            resLoader.loadRemote(path, { ext: '.jpg' }, (err, imageAsset) => {\n                if (!imageAsset) { //资源可能还在加载中\n                    return\n                }\n                if (!self.node || self.node.isValid == false) {\n                    return;\n                }\n                let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAsset)\n                if (spriteFrame) {\n                    let pngNode = Utils.create_2DSprite(spriteFrame);\n                    if (self.bgPanelActivity == node) {\n                        self.setAdaptivePng(self._initSize.panelActivity, pngNode, false);\n                    } else if (self.noticeContent == node) {\n                        self.setAdaptivePng(self._initSize.noticePic, pngNode);\n                    }\n                    self.addSchedulerOnce(0.01, () => {\n                        node.addChild(pngNode);\n                    })\n                }\n            })\n        }\n    }\n\n    /** 设置图片适配 */\n    setAdaptivePng(sizeConf, pngNode: Node, isOnlyWidth: boolean = true) {\n        if (!sizeConf || sizeConf.width == null || sizeConf.height == null) {\n            return;\n        }\n        this.addSchedulerOnce(0, () => {\n            let scale = [1, 1, 1];\n            let scW = 1;\n            let scH = 1;\n\n            let uiTransComp = pngNode.getComponent(UITransform);\n\n            let pngWidth = uiTransComp.width;\n            let pngHeight = uiTransComp.height;\n            if (sizeConf.width > pngWidth) {\n                let scWidth = pngWidth / sizeConf.width;\n                let scHeight = pngHeight / sizeConf.width;\n\n                scW = (scWidth > scHeight ? scHeight : scWidth);\n            } else if (sizeConf.width < pngWidth) {\n                let scWidth = sizeConf.width / pngWidth;\n                let scHeight = sizeConf.width / pngHeight;\n\n                scW = (scWidth > scHeight ? scHeight : scWidth);\n            }\n\n            if (isOnlyWidth == false) {\n                let sprite = pngNode.getComponent(Sprite);\n                sprite.sizeMode = 1;\n                sprite.type = 0;\n                uiTransComp.width = sizeConf.width;\n                uiTransComp.height = sizeConf.height;\n            } else {\n                uiTransComp.width = scW * pngWidth;\n                uiTransComp.height = scW * pngHeight;\n            }\n        })\n    }\n    /** 更新大标签 */\n    updateTabList() {\n        if (this.currowChooseTabID == null || this.currowChooseTabID >= 2 || this.currowChooseTabID < 0) {\n            this.currowChooseTabID = 0;\n        }\n        for (let key in this.tabLayer) {\n            let v = this.tabLayer[key];\n            let select = v.getChildByName(\"tab_selected\");\n            let img_reddot = v.getChildByName(\"img_reddot\");\n            if (key == String(this.currowChooseTabID)) {\n                img_reddot.active = false;\n                select.active = true;\n            } else {\n                select.active = false;\n            }\n        }\n    }\n    /** 根据大类型ID获取二级标签数据 */\n    __getSubConfByBigID(bigID) {\n        if (bigID == 0) {\n            return {\n                data: this.atyData,\n                redKey: GConstants.RedDotConf.ActivityNormal,\n                redUpdateFunc: GCache.RedDot.update_Activity_NormalRed\n            }\n        } else if (bigID == 1) {\n            return {\n                data: this.noticeData,\n                redKey: GConstants.RedDotConf.ActivityNotice,\n                redUpdateFunc: GCache.RedDot.update_Activity_NoticeRed\n            }\n        }\n        return {};\n    }\n    /**更新二级标签*/\n    updateSubList() {\n        if (this.currowChooseSubID == null) {\n            this.currowChooseSubID = 0;\n        }\n        let smallTabConf = this.__getSubConfByBigID(this.currowChooseTabID);\n        let data = Utils.table_verify(smallTabConf.data, true);\n        let max = data.length;\n\n        if (max == 0) {\n            this.currowChooseSubID = null;\n            this.currowChooseData = null;\n        }\n\n        if (max < this.subTabLayer.children.length) {\n            max = this.subTabLayer.children.length;\n        }\n        for (let i = (max - 1); i >= 0; i--) {\n            let nodeItem = this.subTabLayer.children[i];\n            if (nodeItem && !data[i]) {\n                nodeItem.destroy();\n            }\n        }\n        for (let i = 0; i < data.length; i++) {\n            let nodeItem = this.subTabLayer.children[i];\n            if (!nodeItem) {\n                nodeItem = instantiate(this.cloneSubtab);\n                this.subTabLayer.addChild(nodeItem);\n            }\n\n            let nodeTxt = nodeItem.getChildByName(\"label_title\");\n            let titleLabel = nodeTxt.getComponent(Label);\n\n            let tag_hot = nodeItem.getChildByName(\"tag_hot\");\n            let img_reddot = nodeItem.getChildByName(\"img_reddot\");\n            let select = nodeItem.getChildByName(\"img_selected\");\n\n            if (this.currowChooseTabID == 0) {//只有活动才有标签\n                this.setSpriteFrame(tag_hot, data[i].mark_url);\n                tag_hot.active = true;\n            } else {\n                tag_hot.active = false;\n            }\n            titleLabel.string = data[i].title;\n\n            nodeItem[\"currowChooseSubID\"] = i;\n            nodeItem[\"data\"] = data[i];\n            // 全部更新一次红点\n            img_reddot.active = GCache.RedDot.hasRedDot(smallTabConf.redKey, data[i][\"config_id\"]);\n            if (i == this.currowChooseSubID) {\n                titleLabel.color = new Color(136, 86, 45);\n                smallTabConf.redUpdateFunc.call(GCache.RedDot, data[i], false);\n                select.active = true;\n                this.currowChooseData = nodeItem[\"data\"];\n            } else {\n                select.active = false;\n                titleLabel.color = new Color(242, 206, 179);\n                //未选中的更新红点\n                img_reddot.active = GCache.RedDot.hasRedDot(smallTabConf.redKey, data[i][\"config_id\"]);\n            }\n            nodeItem.active = true;\n        }\n        this.subTabLayer.getComponent(Layout).updateLayout();\n    }\n\n    /** 点击了二级标签 */\n    onClickSubTab(event: EventTouch) {\n        let node = event.target;\n        if (this.currowChooseSubID == node[\"currowChooseSubID\"]) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\n        this.currowChooseSubID = node[\"currowChooseSubID\"];\n        this.currowChooseData = Utils.table_verify(node[\"data\"]);\n        this.updateSubList();\n        this.updateRightView();\n    }\n    /** 更新右侧界面 */\n    updateRightView() {\n        console.log(\"当前数据==>\", this.currowChooseData)\n        if (!this.currowChooseData || Utils.table_isEmpty(this.currowChooseData)) {\n            if (this.currowChooseTabID == 0) {\n                this.bgPanelActivity[\"ReloadUrl\"] = null;\n                this.taskPanelActivity[\"AtyType\"] = null;\n                this.bgPanelActivity.removeAllChildren();\n                this.taskPanelActivity.removeAllChildren();\n                this.panelActivity.active = true;\n                this.panelNotice.active = false;\n            } else {\n                this.noticeTitle.string = \"\";\n                this.noticeScrollow.getComponent(ScrollView).scrollToTop(0, false);\n                this.noticeContent.removeAllChildren();\n                this.panelNotice.active = true;\n                this.panelActivity.active = false;\n            }\n            return;\n        }\n        if (this.currowChooseTabID == 0) {\n            if (this.bgPanelActivity[\"ReloadUrl\"] != this.currowChooseData[\"bg_pic\"]) {\n                this.bgPanelActivity.removeAllChildren();\n                this.setSpriteFrame(this.bgPanelActivity, this.currowChooseData[\"bg_pic\"]);\n                this.bgPanelActivity[\"ReloadUrl\"] = this.currowChooseData[\"bg_pic\"];\n            } else {\n                this.bgPanelActivity.active = true;\n            }\n            //牌局任务界面\n            this.checkSpeActivityTask(this.taskPanelActivity, this.currowChooseData[\"aty_type\"]);\n            this.panelActivity.active = true;\n            this.panelNotice.active = false;\n        } else {\n            this.noticeTitle.string = this.currowChooseData[\"title\"];\n            this.noticeContent.removeAllChildren();\n            this.setSpriteFrame(this.noticeContent, this.currowChooseData[\"content\"])\n            this.noticeScrollow.getComponent(ScrollView).scrollToTop(0, false);\n            this.panelActivity.active = false;\n            this.panelNotice.active = true;\n        }\n    }\n    /** 检查特殊的任务 */\n    checkSpeActivityTask(parentNode: Node, atyType) {\n        return false;\n    }\n    /** 点击了活动 */\n    onClickActivity(event) {\n        if (this.currowChooseTabID == 0) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        EventManager.dispatch(AppEvent.REPORT_CLIENT_CLICK, { eventID: ReportConfig.activityCenter_1 });\n        this.currowChooseTabID = 0;\n        this.currowChooseSubID = 0;\n        this.currowChooseData = null;\n        this.updateTabList();\n        this.updateSubList();\n        this.updateRightView();\n    }\n    /** 点击了公告 */\n    onClickNotice(event) {\n        if (this.currowChooseTabID == 1) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        EventManager.dispatch(AppEvent.REPORT_CLIENT_CLICK, { eventID: ReportConfig.activityCenter_2 });\n        this.currowChooseTabID = 1;\n        this.currowChooseSubID = 0;\n        this.currowChooseData = null;\n        this.updateTabList();\n        this.updateSubList();\n        this.updateRightView();\n    }\n    /** 点击了关闭 */\n    onClickClose(event) {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        this.node.destroy();\n    }\n    /** 点击了当前活动执行对应的跳转 */\n    onClickActJump(event) {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        EventManager.dispatch(AppEvent.REPORT_CLIENT_CLICK, { eventID: ReportConfig.activityCenter_4 });\n        if (this.currowChooseData['is_jump'] == 1) {\n            //跳转位置\n            let _jumpData = Encrypt.JsonDecode(this.currowChooseData['jump_code'])\n            let jmmpCmd = Number(_jumpData['cmd']) || 0\n            let mallScene = _jumpData['tag'] || 0\n            // 只要进行跳转都是关掉活动中心\n            this.node.destroy();\n            switch (jmmpCmd) {\n                //跳转到商城\n                case GConstants.JumpViewConf.POS_ACT_MALL:\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.MallPrefab, { id: Number(mallScene), pay_scene: 0 }, {});\n                    this.node.destroy();\n                    break;\n                case GConstants.JumpViewConf.POS_ACT_DESK_SIGN_POS_ACT_SPECIALGIFT:\n                    switch (mallScene) {\n                        //添加到桌面\n                        case GConstants.JumpViewConf.POS_ACT_DESK_TAG:\n                            break;\n                        //联系客服有奖\n                        case GConstants.JumpViewConf.POS_ACT_CUSTOMER_SERVICE:\n                            let shareKefuData = GCache.ShareInfo.getShareConfigByType(GConstants.ShareSceneConf.kefugift)\n                            let shareParams = {\n                                sessionFrom: \"\",\n                                success: () => { },// 成功的回调\n                                fail: () => { },// 失败的回调\n                                complete: () => { },// 失败或者的回调\n                                showMessageCard: true,//是否发送小程序气泡消息\n                                sendMessageTitle: shareKefuData[0]['title'], //转发标题，不传则默认使用当前小游戏的昵称\n                                sendMessagePath: '',//气泡消息小程序路径\n                                sendMessageImg: shareKefuData[0]['img'],// 转发图片\n                                shareID: shareKefuData[0]['share_id']\n                            }\n                            Platform.openCustomerServiceConversation(shareParams, Utils.handler(this, this.__doCallBackSerCon))\n                            break;\n                        // 跳转到特价礼包\n                        case GConstants.JumpViewConf.POS_ACT_SPECIALGIFT_TAG:\n                            EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.GiftDiscountPrefab, { id: 0, pay_scene: 0 }, {});\n                            break;\n                        // 跳转到签到\n                        case GConstants.JumpViewConf.POS_ACT_SIGN_TAG:\n                            EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.SigninPrefab);\n                            break;\n                    }\n                    break;\n                case GConstants.JumpViewConf.POS_ACT_GAME:\n                    EventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: \"去玩牌,待玩牌完成之后介入\" });\n                    break;\n                // 跳转到好友\n                case GConstants.JumpViewConf.POS_ACT_FRIEND:\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.FriendPrefab, null, null, null, true);\n                    this.node.destroy();\n                    break;\n                // 跳转到大厅\n                case GConstants.JumpViewConf.POS_ACT_HALL:\n                    //销毁活动中心\n                    this.node.destroy();\n                    break;\n                // 跳转到个人信息\n                case GConstants.JumpViewConf.POS_ACT_USERINFO:\n                    this.node.destroy();\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.PlayerInfoCenter);\n                    break;\n            }\n        }\n        // 点击打开到商场某个商品的支付\n        let _jumpGoodsData = this.currowChooseData\n        let jmmpGoodsType = Number(_jumpGoodsData['goods_type']) || 0\n        let jmmpGoodsID = Number(_jumpGoodsData['goods_id']) || 0\n        let goodsProp = GCache.ShopInfo.getShopDataByGoodsID(jmmpGoodsID)\n        EventManager.dispatch(AppEvent.REPORT_CLIENT_CLICK, { eventID: ReportConfig.activityCenter_5, body: { gsubname: goodsProp[\"gid\"] } });\n        let self = this\n        if (jmmpGoodsID) {\n            switch (jmmpGoodsType) {\n                case GConstants.ShopBigTabType.SILVER_COIN:\n                    let goodsItem = GCache.ShopInfo.getShopDataByGoodsID(jmmpGoodsID)\n                    let param = {\n                        title: GConstants.DialogTitle.Goods_content,\n                        itemData: goodsItem,\n                        isConfirm: goodsItem['specialDesc'] ? false : true, //没有加赠 值为 'false  \n                        callFunc: (pData) => {\n                            //模拟支付\n                            self.__paySure(pData, { payID: GConstants.PayType.RMB, price: goodsItem['price'] });\n                        }\n                    }\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.BuyDialogPrefab, param);\n                    break\n                case GConstants.ShopBigTabType.PROPS:\n\n                    let paramProp = {\n                        goodsId: goodsProp[\"gid\"],\n                        scene: GConstants.PayModel.shop_props\n                    }\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.BuyPropDialogPrefab, paramProp);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n    /**支付确认 */\n    __paySure(data, payData) {\n        if (Utils.table_isEmpty(data) || Utils.table_isEmpty(payData)) {\n            return;\n        }\n        switch (payData.payID) {\n            case GConstants.PayType.SILVER:\n                EventManager.dispatch(AppEvent.OTHER_PAY_WILL, GConstants.ShopBigTabType.SILVER_COIN, data.gid);\n                break;\n            case GConstants.PayType.RMB:\n                GCache.CurrowPaySceneType = GConstants.UBPaySceneConfig.kHallMarketGold;\n                EventManager.dispatch(AppEvent.OTHER_PAY_WILL, GConstants.ShopBigTabType.SILVER_COIN, data.gid);\n                break;\n        }\n    }\n    //联系客服的回调\n    __doCallBackSerCon(state, option = null) {\n        if (!state) {\n            return;\n        }\n\n        EventManager.dispatch(AppEvent.NET_REQ_SHARE_AWARD, option[\"shareID\"], GConstants.ReqUrl.shareType.other, false)\n    }\n    //销毁\n    onDestroy() {\n        //获取活动中心配置数据\n        EventManager.dispatch(AppEvent.NET_CMD_REQ_TASK_ACT_CONFIG);\n    };\n\n}\n\n"]}