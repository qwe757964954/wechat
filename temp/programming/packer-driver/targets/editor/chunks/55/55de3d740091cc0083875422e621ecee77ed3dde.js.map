{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/game/module/ai/src/Ai.ts"],"names":["Node","_decorator","EventManager","BaseComponent","PlayerMgr","FXJEvent","GameEvent","ccclass","property","Ai","onInitModuleEvent","addModelListener","VIEW_PLAYER_AI_SHOW","modifyPlayerDeposit","node","on","EventType","TOUCH_END","onOprationTouchEnd","event","respData","mid","getInstance","getMyPlayerInfo","userId","active","ai","isAi","dispatch","NET_REQ_GAME_USER_AI"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,I,OAAAA,I;AAAMC,MAAAA,U,OAAAA,U;;AACNC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;oBAGaQ,E,WADZF,OAAO,CAAC,IAAD,C,gBAAR,MACaE,EADb;AAAA;AAAA,0CACsC;AAErC;AACUC,QAAAA,iBAAiB,GAAG;AAC7B,eAAKC,gBAAL,CAAsB;AAAA;AAAA,sCAAUC,mBAAhC,EAAqD,KAAKC,mBAA1D;AACA,eAAKC,IAAL,CAAUC,EAAV,CAAaf,IAAI,CAACgB,SAAL,CAAeC,SAA5B,EAAuC,KAAKC,kBAA5C,EAAgE,IAAhE;AACA;;AACDL,QAAAA,mBAAmB,CAACM,KAAD,EAAQC,QAAR,EAAiB;AACnC,cAAIA,QAAQ,CAACC,GAAT,IAAgB,IAApB,EAA0B;AACzB,gBAAID,QAAQ,CAACC,GAAT,IAAgB;AAAA;AAAA,wCAAUC,WAAV,GAAwBC,eAAxB,GAA0CC,MAA9D,EAAsE;AACrE,mBAAKV,IAAL,CAAUW,MAAV,GAAmBL,QAAQ,CAACM,EAA5B;AACA;AACD;AACD;;AACDR,QAAAA,kBAAkB,GAAE;AACnB,cAAG;AAAA;AAAA,sCAAUI,WAAV,GAAwBC,eAAxB,GAA0CI,IAA7C,EAAkD;AACjD;AAAA;AAAA,8CAAaC,QAAb,CAAsB;AAAA;AAAA,sCAASC,oBAA/B,EAAqD,CAAC;AAAA;AAAA,wCAAUP,WAAV,GAAwBC,eAAxB,GAA0CI,IAAhG;AACA;AACD;;AAlBoC,O","sourcesContent":["\nimport { Node, _decorator } from 'cc';\nimport { EventManager } from '../../../../../framework/manager/EventManager';\nimport { BaseComponent } from '../../../../../framework/vc/BaseComponent';\nimport { PlayerMgr } from '../../../cache/PlayerMgr';\nimport { FXJEvent } from '../../../common/FXJEvent';\nimport { GameEvent } from '../../../common/GameEvent';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = ai\n * URL = db://assets/package/game/module/ai/src/ai.ts\n * Time = Wed Aug 23 2023 19:33:00 GMT+0800 (中国标准时间)\n * Author = qwe757964\n *\n * Life: onLoad-->onInitModuleEvent-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n */\n \n@ccclass('Ai')\nexport class Ai extends BaseComponent {\n\t\n\t/** override 初始化模块事件 */\n\tprotected onInitModuleEvent() {\n\t\tthis.addModelListener(GameEvent.VIEW_PLAYER_AI_SHOW, this.modifyPlayerDeposit);\n\t\tthis.node.on(Node.EventType.TOUCH_END, this.onOprationTouchEnd, this);\n\t};\n\tmodifyPlayerDeposit(event, respData){\n\t\tif (respData.mid != null) {\n\t\t\tif (respData.mid == PlayerMgr.getInstance().getMyPlayerInfo().userId) {\n\t\t\t\tthis.node.active = respData.ai;\n\t\t\t}\n\t\t}\n\t}\n\tonOprationTouchEnd(){\n\t\tif(PlayerMgr.getInstance().getMyPlayerInfo().isAi){\n\t\t\tEventManager.dispatch(FXJEvent.NET_REQ_GAME_USER_AI, !PlayerMgr.getInstance().getMyPlayerInfo().isAi);\n\t\t}\n\t}\n}\n\n"]}