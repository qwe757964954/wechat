{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/giftbag/script/giftFirstPayPrefabCtr.ts"],"names":["Node","Sprite","_decorator","GCache","AppEvent","AppSound","GConstants","Utils","resLoader","EventManager","BaseComponent","Platform","ccclass","property","menu","giftFirstPayPrefabCtr","tooltip","type","_firstPayConf","onInitModuleEvent","addModelListener","ACTIVITY_UPDATE_FIRSTPAY_CONF","updateView","NET_RESP_SHARE_AWARD","respShareAndAdsAward","NET_RESP_ADS_AWARD","NOTIFY_UPDATE_RED_DOT","redDotUpdate","NET_FORWARD_REPORT_PAY_ORDER","respPayOrder","onLoad","initView","detailData","dispatch","NET_REQ_FIRST_PAY_CONFIG","RedDot","update_reddot_gift_firstpay","Activity","getFirstPayPackage","start","buyBtn","active","console","log","table_isEmpty","node","destroy","refreshImageBgAndButton","self","loadRemote","ext","err","imageAsset","isValid","spriteFrame","image_ImageAssetToSpriteFrame","bgNode","getComponent","onClickBuyButton","event","_buyItem","goodsId","number_valueOf","payData","ShopInfo","getPriceByGoodsSceneId","GoodsListID","GiftPack","payID","SYS_TOAST_TIP","content","PayType","RMB","CurrowPaySceneType","OTHER_PAY_WILL","SHARE","_allowShareMsg","ShareInfo","shareTimeAllowed","ShareSceneConf","shopshare","shareWXFriends","handler","__doCallBackShare","VIDEO","playerAdVideo","__doCallBackWatchADs","status","goodsID","NET_REQ_ADS_AWARD","ReqUrl","shareType","shop","NET_REQ_SHARE_AWARD","isSuccess","respData","reqData","onClickClose","SYS_PLAY_EFFECT","CommClick","onDestroy","keyType","RedDotConf","FirstPay"],"mappings":"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","sourcesContent":["\nimport { EventTouch, Node, Sprite, _decorator } from 'cc';\nimport { GCache } from '../../../cache/GCache';\nimport { AppEvent } from '../../../config/AppEvent';\nimport { AppSound } from '../../../config/AppSound';\nimport { GConstants } from '../../../config/GameConstant';\nimport { Utils } from '../../../framework/Utils';\nimport { resLoader } from '../../../framework/loader/ResLoader';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { Platform } from '../../../platform/Platform';\n\nconst { ccclass, property, menu } = _decorator;\n\n/**\n * Name = giftFirstPayPrefabCtr\n * URL = db://assets/package/activity/script/giftFirstPayPrefabCtr.ts\n * Time = Tue Aug 01 2023 16:31:29 GMT+0800 (中国标准时间)\n * Author = flychenliuwang\n *\n * Life: onLoad-->onInitModuleEvent-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n */\n@ccclass('giftFirstPayPrefabCtr')\n//方便编辑器识别的菜单项目\n@menu('prefab/activity/giftFirstPayPrefabCtr')\nexport class giftFirstPayPrefabCtr extends BaseComponent {\n\n    @property({ tooltip: \"背景\", type: Node })\n    private bgNode: Node | null = null;\n\n    @property({ tooltip: \"购买按钮\", type: Node })\n    private buyBtn: Node | null = null;\n\n    /** 首充配置 */\n    private _firstPayConf = null;\n\n    /** override 初始化模块事件 */\n    protected onInitModuleEvent() {\n        //首充数据更新则更新界面\n        this.addModelListener(AppEvent.ACTIVITY_UPDATE_FIRSTPAY_CONF, this.updateView);\n        /** 请求分享领奖返回 */\n        this.addModelListener(AppEvent.NET_RESP_SHARE_AWARD, this.respShareAndAdsAward);\n        /** 请求看视频领奖返回 */\n        this.addModelListener(AppEvent.NET_RESP_ADS_AWARD, this.respShareAndAdsAward);\n        /** 首充礼包红点更新 */\n        this.addModelListener(AppEvent.NOTIFY_UPDATE_RED_DOT, this.redDotUpdate);\n        //rmb支付回调\n        this.addModelListener(AppEvent.NET_FORWARD_REPORT_PAY_ORDER, this.respPayOrder);\n    };\n\n    onLoad() {\n        this.initView();\n        this.detailData();\n        this.updateView();\n        //请求限时折扣配置数据\n        EventManager.dispatch(AppEvent.NET_REQ_FIRST_PAY_CONFIG);\n        GCache.RedDot.update_reddot_gift_firstpay();\n    };\n\n    /** 处理数据 */\n    detailData() {\n        this._firstPayConf = GCache.Activity.getFirstPayPackage();\n    }\n\n    start() {\n\n    };\n\n    /** 初始化界面 */\n    initView() {\n        this.buyBtn.active = false;\n\n    };\n\n    /** 更新界面 */\n    updateView() {\n        this.detailData();\n        console.log(\"数据更新了\", this._firstPayConf)\n        if (Utils.table_isEmpty(this._firstPayConf)) {\n            console.log(\"数据更新了为空\", this._firstPayConf);\n            this.buyBtn.active = false;\n            this.node.destroy();\n            return;\n        }\n        this.refreshImageBgAndButton();\n        this.buyBtn.active = true;\n    };\n\n    //更新背景\n    refreshImageBgAndButton() {\n        let self = this;\n        if (this._firstPayConf && this._firstPayConf[\"goodsBaseMap\"] != \"\" && this._firstPayConf[\"button\"] != \"\") {\n            resLoader.loadRemote(this._firstPayConf[\"goodsBaseMap\"], { ext: `.jpg` }, (err, imageAsset) => {\n                if (!imageAsset) { //资源可能还在加载中\n                    return\n                }\n                if (!self.node || self.node.isValid == false) {\n                    return;\n                }\n                let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAsset)\n                if (spriteFrame) {\n                    this.bgNode.getComponent(Sprite).spriteFrame = spriteFrame;\n                }\n            });\n\n            resLoader.loadRemote(this._firstPayConf[\"button\"], { ext: `.jpg` }, (err, imageAsset) => {\n                if (!imageAsset) { //资源可能还在加载中\n                    return\n                }\n                if (!self.node || self.node.isValid == false) {\n                    return;\n                }\n                let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAsset)\n                if (spriteFrame) {\n                    this.buyBtn.getComponent(Sprite).spriteFrame = spriteFrame;\n                }\n            });\n        }\n    }\n\n\n    /** 点击了购买 */\n    onClickBuyButton(event: EventTouch) {\n        console.log(\"点击购买\")\n        this._buyItem();\n    }\n\n    /**\n     * 点击购买每日特价礼包\n     */\n    _buyItem() {\n        let goodsId = Utils.number_valueOf(this._firstPayConf['gid'], 0)\n        let payData = GCache.ShopInfo.getPriceByGoodsSceneId(GConstants.GoodsListID.GiftPack, goodsId);\n        console.log(\"paydata:\", payData)\n        let payID = Utils.number_valueOf(payData['payID'], null)\n        if (!payID) {\n            EventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: \"err:首充礼包找不到商品支付方式，支付失败\" });\n            return;\n        }\n        switch (payID) {\n            case GConstants.PayType.RMB: //rmb 1\n                GCache.CurrowPaySceneType = GConstants.GoodsListID.GiftPack;\n                EventManager.dispatch(AppEvent.OTHER_PAY_WILL, GConstants.GoodsListID.GiftPack, goodsId);\n                break;\n            case GConstants.PayType.SHARE://分享支付\n                let self = this;\n                let _allowShareMsg = GCache.ShareInfo.shareTimeAllowed(goodsId, GConstants.ShareSceneConf.shopshare)\n                if (_allowShareMsg['allowShare']) {\n                    Platform.shareWXFriends(_allowShareMsg['shareParams'], Utils.handler(self, self.__doCallBackShare), goodsId);\n                } else {\n                    // 请勿在短时间内重复分享\n                    EventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: `请勿在短时间内重复分享` });\n                }\n                break;\n            case GConstants.PayType.VIDEO://看视频\n                Platform.playerAdVideo(Utils.handler(this, this.__doCallBackWatchADs), goodsId)\n                break;\n            default:\n                EventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: \"err:不支持的支付方式 code=\" + payID });\n                break;\n        }\n    }\n\n\n\n    /**\n     * 看完视频广告发奖励\n     * @param status 是否成功\n     * @param goodsID 商品ID\n     * @returns \n     */\n    __doCallBackWatchADs(status: boolean, goodsID) {\n        if (status != true) {\n            EventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: \"err:看广告失败\" });\n            return;\n        }\n        EventManager.dispatch(AppEvent.NET_REQ_ADS_AWARD, goodsID, GConstants.ReqUrl.shareType.shop, true)\n    }\n\n    /**\n     * 分享完商品发放奖励发奖励\n     * @param goodsID 商品ID\n     */\n    __doCallBackShare(goodsID) {\n        EventManager.dispatch(AppEvent.NET_REQ_SHARE_AWARD, goodsID, GConstants.ReqUrl.shareType.shop, true);\n    }\n\n\n    /** 请求看视频领奖和分享领奖返回 */\n    respShareAndAdsAward(event, isSuccess, respData, reqData) {\n        console.log(\"首充看视频领奖和分享领奖返回\", isSuccess, respData, reqData)\n        if (isSuccess == false) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.NET_REQ_FIRST_PAY_CONFIG);\n    }\n\n    /** 支付订单返回 */\n    respPayOrder(event, isSuccess, respData, reqData) {\n        console.log(\"respPayOrder:firstpay\", isSuccess, respData, reqData)\n        if (isSuccess == false) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.NET_REQ_FIRST_PAY_CONFIG);\n    }\n\n\n    /**\n     * 点击了关闭\n     * @param event \n     */\n    onClickClose(event: EventTouch) {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        this.node.destroy();\n    };\n\n    //销毁\n    onDestroy() {\n\n    };\n\n\n    /**\n     * 红点更新\n     * @param event \n     * @param keyType 红点类型\n     */\n    redDotUpdate(event, keyType) {\n        if (keyType == GConstants.RedDotConf.FirstPay) {\n\n        }\n    }\n\n}\n\n"]}