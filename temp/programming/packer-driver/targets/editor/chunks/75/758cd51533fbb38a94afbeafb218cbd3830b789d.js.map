{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/framework/vc/PopWindowComponent.ts"],"names":["Label","LabelComponent","Node","ScrollView","Sprite","UITransform","Vec3","_decorator","AppEvent","AppSound","GameTxt","EventManager","Utils","BaseComponent","ccclass","property","menu","PopWindowComponent","tooltip","type","_params","clickFuncList","_labelAddHeight","onLoad","title","txt_title","txt_desc","dec_fontSize","alignLeftTop","notshowClose","notAutoClickClose","buttonsMap","web_url","comp","node","getComponent","getParams","labelTitle","active","sprTitle","updateView","start","string","chooseType","string_isEmpty","TwoLabelMain","horizontalAlign","verticalAlign","num","isHaveShowBtn","length","TwoButtonsParent","OneButtonsParent","key","Object","prototype","hasOwnProperty","call","btnConf","btn","getChildByName","btnLabel","labelComm","label","common_btn_queding","click","common_btn_cancle","OneLabelParent","TwoLabelParent","box","AllLabelbox","scrollview","OneScrollView","labelDesc","OneLabelDesc","compScrollView","compBox","fontSize","height","position","x","y","z","addSchedulerOnce","countNum","vertical","verticalScrollBar","newPosY","setPosition","TwoScrollView","TwoLabelDesc","smallBox","TwoLabelbox","compSmallBox","closeNode","onDestroy","onClickLeftByTwoButton","event","dispatch","SYS_PLAY_EFFECT","CommClick","getCurrentTarget","destroy","name","onClickRightByTwoButton","onClicByOneButton","onClickClose"],"mappings":"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","sourcesContent":["\nimport { EventTouch, Label, LabelComponent, Node, ScrollView, Sprite, UITransform, Vec3, _decorator } from 'cc';\nimport { AppEvent } from '../../config/AppEvent';\nimport { AppSound } from '../../config/AppSound';\nimport { GameTxt } from '../../config/GameTxt';\nimport { inf_PopWindowButton, inf_PopWindowParams } from '../InterfaceDefines';\nimport { EventManager } from '../manager/EventManager';\nimport { Utils } from '../Utils';\nimport { BaseComponent } from './BaseComponent';\nconst { ccclass, property, menu } = _decorator;\n\n/**\n * Name = PopWindowComponent\n * Time = Wed Apr 13 2022 16:27:07 GMT+0800 (中国标准时间)\n * Author = Aby\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * 通用对话框\n */\n\n@ccclass('PopWindowComponent')\n\n//方便编辑器识别的菜单项目\n@menu('vc/PopWindowComponent')\n\n\nexport class PopWindowComponent extends BaseComponent {\n\n\t//正文标题\n\t@property({ tooltip: \"标题内容-文本\", type: Label })\n\tlabelTitle: Label = null!;\n\t//正文标题\n\t@property({ tooltip: \"标题内容-图片\", type: Sprite })\n\tsprTitle: Sprite = null!;\n\n\t//所有label的box\n\t@property({ tooltip: \"所有label的box\", type: Node })\n\tAllLabelbox: Node = null!;\n\n\t//包含只有一个label的父节点\n\t@property({ tooltip: \"包含只有一个label的父节点\", type: Node })\n\tOneLabelParent: Node = null!;\n\t//包含只有一个label的ScrollView\n\t@property({ tooltip: \"包含只有一个label的ScrollView\", type: ScrollView })\n\tOneScrollView: ScrollView = null!;\n\t//包含只有一个label的Label\n\t@property({ tooltip: \"包含只有一个label的Label\", type: Label })\n\tOneLabelDesc: Label = null!;\n\n\t//包含两个label的父节点\n\t@property({ tooltip: \"包含两个label的父节点\", type: Node })\n\tTwoLabelParent: Node = null!;\n\t//包含两个label的Label desc的box\n\t@property({ tooltip: \"包含两个label的Label desc的box\", type: Node })\n\tTwoLabelbox: Node = null!;\n\t//包含两个label的ScrollView\n\t@property({ tooltip: \"包含两个label的ScrollView\", type: ScrollView })\n\tTwoScrollView: ScrollView = null!;\n\t//包含两个label的Label desc\n\t@property({ tooltip: \"包含只有一个label的Label\", type: Label })\n\tTwoLabelDesc: Label = null!;\n\t//包含两个label的Label main\n\t@property({ tooltip: \"包含只有一个label的Label\", type: Label })\n\tTwoLabelMain: Label = null!;\n\n\t//包含两个按钮的父节点\n\t@property({ tooltip: \"包含两个按钮的父节点\", type: Node })\n\tTwoButtonsParent: Node = null!;\n\n\t//包含一个按钮的父节点\n\t@property({ tooltip: \"包含一个按钮的父节点\", type: Node })\n\tOneButtonsParent: Node = null!;\n\n\t//关闭按钮\n\t@property({ tooltip: \"关闭按钮\", type: Node })\n\tcloseNode: Node = null!;\n\n\t//传递的参数(详见 PopWindowParams的配置)\n\t_params: inf_PopWindowParams;\n\t//点击的回调函数\n\tclickFuncList = {};\n\t//没有按钮的情况下 label额外添加的高度\n\t_labelAddHeight = 80;\n\n\tonLoad() {\n\t\tthis._params = {\n\t\t\ttitle: \"\",            //窗口标题名\n\t\t\ttxt_title: \"\",         //正文大标题\n\t\t\ttxt_desc: \"\",          //正文内容\n\t\t\tdec_fontSize: 32,      //正文内容大小\n\t\t\talignLeftTop: false,   //正文是否从左上开始\n\t\t\tnotshowClose: false,   //不显示关闭按钮\n\t\t\tnotAutoClickClose: false,   //点击后不自动关闭\n\t\t\tbuttonsMap: [],        //按钮配置队列\n\t\t\tweb_url: \"\",            //网页地址\n\t\t};\n\t\tlet comp = null;\n\t\tcomp = this.node.getComponent(\"DelegateComponent\")\n\t\tif (comp) {\n\t\t\tthis._params = comp.getParams()\n\t\t}\n\t\tthis.labelTitle.node.active = false;\n\t\tthis.sprTitle.node.active = false;\n\t\tthis.updateView();\n\t};\n\n\tstart() {\n\n\n\t};\n\t//更新界面\n\tupdateView() {\n\t\tif (this._params?.title) {\n\t\t\tthis.labelTitle.string = this._params?.title;\n\t\t\tthis.labelTitle.node.active = true;\n\t\t\tthis.sprTitle.node.active = false;\n\t\t} else {\n\t\t\tthis.labelTitle.node.active = false;\n\t\t\tthis.sprTitle.node.active = true;\n\t\t}\n\t\t//当前是选择只有一个文本框的还是有两个文本框的 或者webview\n\t\tlet chooseType = 1;\n\t\tif (Utils.string_isEmpty(this._params?.web_url)) {\n\t\t\tif (this._params[\"txt_title\"] != null) {\n\t\t\t\tchooseType = 2;\n\t\t\t\tthis.TwoLabelMain.string = this._params.txt_title;\n\t\t\t\tthis.TwoLabelMain.horizontalAlign = 1;\n\t\t\t\tthis.TwoLabelMain.verticalAlign = 1;\n\t\t\t}\n\t\t} else {\n\t\t\tchooseType = 3;\n\t\t}\n\n\t\t//按钮配置\n\t\tlet num = 1;\n\t\tlet isHaveShowBtn = false;\n\t\tif (this._params?.buttonsMap) {\n\t\t\tswitch (this._params.buttonsMap.length) {\n\t\t\t\tcase 1:\n\t\t\t\t\tisHaveShowBtn = true;\n\t\t\t\t\tthis.TwoButtonsParent.active = false;\n\t\t\t\t\tthis.OneButtonsParent.active = true;\n\n\t\t\t\t\tfor (let key in this._params.buttonsMap) {\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(this._params.buttonsMap, key)) {\n\t\t\t\t\t\t\tlet btnConf: inf_PopWindowButton = this._params.buttonsMap[key];\n\t\t\t\t\t\t\tlet btn = this.OneButtonsParent.getChildByName(\"btn_\" + num)\n\t\t\t\t\t\t\tif (btn) {\n\t\t\t\t\t\t\t\tbtn.active = true;\n\t\t\t\t\t\t\t\tlet btnLabel = btn.getChildByName(\"Label\");\n\t\t\t\t\t\t\t\tif (btnLabel) {\n\t\t\t\t\t\t\t\t\tlet labelComm = btnLabel.getComponent(LabelComponent)\n\t\t\t\t\t\t\t\t\tif (labelComm) {\n\t\t\t\t\t\t\t\t\t\tlabelComm.string = btnConf?.label || GameTxt.common_btn_queding;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.clickFuncList[\"btn_\" + num] = btnConf?.click || null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnum = num + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.TwoButtonsParent.active = true;\n\t\t\t\t\tthis.OneButtonsParent.active = false;\n\t\t\t\t\tisHaveShowBtn = true;\n\n\t\t\t\t\tfor (let key in this._params.buttonsMap) {\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(this._params.buttonsMap, key)) {\n\t\t\t\t\t\t\tlet btnConf: inf_PopWindowButton = this._params.buttonsMap[key];\n\t\t\t\t\t\t\tlet btn = this.TwoButtonsParent.getChildByName(\"btn_\" + num)\n\t\t\t\t\t\t\tif (btn) {\n\t\t\t\t\t\t\t\tbtn.active = true;\n\t\t\t\t\t\t\t\tlet btnLabel = btn.getChildByName(\"Label\");\n\t\t\t\t\t\t\t\tif (btnLabel) {\n\t\t\t\t\t\t\t\t\tlet labelComm = btnLabel.getComponent(LabelComponent)\n\t\t\t\t\t\t\t\t\tif (labelComm) {\n\t\t\t\t\t\t\t\t\t\tlabelComm.string = btnConf?.label || (num == 1 ? GameTxt.common_btn_queding : GameTxt.common_btn_cancle);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.clickFuncList[\"btn_\" + num] = btnConf?.click || null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnum = num + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tisHaveShowBtn = false;\n\t\t\t\t\tthis.TwoButtonsParent.active = false;\n\t\t\t\t\tthis.OneButtonsParent.active = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tisHaveShowBtn = false;\n\t\t\tthis.TwoButtonsParent.active = false;\n\t\t\tthis.OneButtonsParent.active = false;\n\t\t}\n\t\t//文本区域\n\t\tif (chooseType == 1) {\n\t\t\tthis.OneLabelParent.active = true;\n\t\t\tthis.TwoLabelParent.active = false;\n\n\t\t\tlet box = this.AllLabelbox;\n\t\t\tlet scrollview = this.OneScrollView;\n\t\t\tlet labelDesc = this.OneLabelDesc;\n\t\t\tlet compScrollView = scrollview.getComponent(UITransform);\n\t\t\tlet compBox = box.getComponent(UITransform);\n\n\t\t\tif (this._params?.alignLeftTop == true) {\n\t\t\t\tlabelDesc.horizontalAlign = 0;\n\t\t\t\tlabelDesc.verticalAlign = 0;\n\t\t\t} else {\n\t\t\t\t//居中对齐\n\t\t\t\tlabelDesc.horizontalAlign = 1;\n\t\t\t\tlabelDesc.verticalAlign = 0;\n\t\t\t}\n\n\t\t\tif (this._params?.dec_fontSize) {\n\t\t\t\tlabelDesc.fontSize = this._params.dec_fontSize //设置正文文字大小\n\t\t\t}\n\t\t\tlabelDesc.string = this._params?.txt_desc || \"\";\n\t\t\tif (isHaveShowBtn == false) {\n\t\t\t\tcompBox.height = compBox.height + this._labelAddHeight;\n\t\t\t\tbox.position = new Vec3(box.position.x, box.position.y - (this._labelAddHeight / 4), box.position.z)\n\t\t\t}\n\t\t\t//如果文本超出滚动可视区域\n\t\t\tthis.addSchedulerOnce(0, () => {\n\t\t\t\tlet countNum = compScrollView.height / labelDesc.node.getComponent(UITransform).height;\n\t\t\t\tif (countNum < 1) {\n\t\t\t\t\tscrollview.vertical = true;\n\t\t\t\t\tscrollview.verticalScrollBar.node.active = true;\n\t\t\t\t} else {\n\t\t\t\t\tscrollview.vertical = false;\n\t\t\t\t\tscrollview.verticalScrollBar.node.active = false;\n\t\t\t\t\tif (countNum >= 2) {\n\t\t\t\t\t\tlet newPosY = 0 - (compScrollView.height - labelDesc.node.getComponent(UITransform).height) / 2;\n\t\t\t\t\t\tnewPosY = newPosY / 2;\n\t\t\t\t\t\tlabelDesc.node.setPosition(new Vec3(labelDesc.node.position.x, newPosY, labelDesc.node.position.z))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t} else if (chooseType == 2) {\n\t\t\tthis.OneLabelParent.active = false;\n\t\t\tthis.TwoLabelParent.active = true;\n\n\t\t\tlet box = this.AllLabelbox;\n\t\t\tlet scrollview = this.TwoScrollView;\n\t\t\tlet labelDesc = this.TwoLabelDesc;\n\t\t\tlet compScrollView = scrollview.getComponent(UITransform);\n\t\t\tlet compBox = box.getComponent(UITransform);\n\n\t\t\tlet smallBox = this.TwoLabelbox;\n\t\t\tlet compSmallBox = smallBox.getComponent(UITransform);\n\n\t\t\tif (this._params?.alignLeftTop == true) {\n\t\t\t\tlabelDesc.horizontalAlign = 0;\n\t\t\t\tlabelDesc.verticalAlign = 0;\n\t\t\t} else {\n\t\t\t\t//居中对齐\n\t\t\t\tlabelDesc.horizontalAlign = 1;\n\t\t\t\tlabelDesc.verticalAlign = 0;\n\t\t\t}\n\t\t\tif (this._params?.dec_fontSize) {\n\t\t\t\tlabelDesc.fontSize = this._params.dec_fontSize //设置正文文字大小\n\t\t\t}\n\t\t\tlabelDesc.string = this._params?.txt_desc || \"\";\n\n\t\t\tif (isHaveShowBtn == false) {\n\t\t\t\tcompBox.height = compBox.height + this._labelAddHeight;\n\t\t\t\tbox.position = new Vec3(box.position.x, box.position.y - (this._labelAddHeight / 4), box.position.z)\n\t\t\t}\n\t\t\t//如果文本超出滚动可视区域\n\t\t\tthis.addSchedulerOnce(0.02, () => {\n\t\t\t\tif (labelDesc.getComponent(UITransform).height > compScrollView.height) {\n\t\t\t\t\tscrollview.vertical = true;\n\t\t\t\t\tscrollview.verticalScrollBar.node.active = true;\n\t\t\t\t} else {\n\t\t\t\t\tscrollview.vertical = false;\n\t\t\t\t\tscrollview.verticalScrollBar.node.active = false;\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (chooseType == 3) {\n\t\t\tthis.OneLabelParent.active = false;\n\t\t\tthis.TwoLabelParent.active = false;\n\t\t} else {\n\t\t\tthis.OneLabelParent.active = false;\n\t\t\tthis.TwoLabelParent.active = false;\n\t\t}\n\t\t//关闭按钮的显示与隐藏\n\t\tif (this._params?.notshowClose != null) {\n\t\t\tthis.closeNode.active = !this._params.notshowClose;\n\t\t} else {\n\t\t\tthis.closeNode.active = true;\n\t\t}\n\t}\n\n\t//销毁\n\tonDestroy() {\n\n\t};\n\t//点击了两个按钮中的左边一个\n\tonClickLeftByTwoButton(event: EventTouch) {\n\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\tlet node: Node = event.getCurrentTarget();\n\t\tif (this._params?.notAutoClickClose != true) {\n\t\t\tthis.node.destroy();\n\t\t}\n\t\tif (this.clickFuncList[node.name]) {\n\t\t\tthis.clickFuncList[node.name]();\n\t\t}\n\t}\n\t//点击了两个按钮中的右边一个\n\tonClickRightByTwoButton(event: EventTouch) {\n\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\tlet node: Node = event.getCurrentTarget();\n\t\tif (this._params?.notAutoClickClose != true) {\n\t\t\tthis.node.destroy();\n\t\t}\n\t\tif (this.clickFuncList[node.name]) {\n\t\t\tthis.clickFuncList[node.name]();\n\t\t}\n\t}\n\t//点击了一个按钮\n\tonClicByOneButton(event: EventTouch) {\n\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\tlet node: Node = event.getCurrentTarget();\n\t\tif (this._params?.notAutoClickClose != false) {\n\t\t\tthis.node.destroy();\n\t\t}\n\t\tif (this.clickFuncList[node.name]) {\n\t\t\tthis.clickFuncList[node.name]();\n\t\t}\n\t}\n\n\t//点击了关闭\n\tonClickClose(event: EventTouch) {\n\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\tthis.node.destroy();\n\t}\n\n\n}\n\n"]}