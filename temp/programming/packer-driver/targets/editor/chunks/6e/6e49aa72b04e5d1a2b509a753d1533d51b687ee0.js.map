{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/game/scripts/NodeCardCtr.ts"],"names":["MeshRenderer","Node","Texture2D","_decorator","resLoader","Utils","BaseComponent","FXJRes","CardUtil","ccclass","property","NodeCardCtr","tooltip","type","byte","onInitModuleEvent","setCardByte","cardStr","getCardValue","path","string_format","Picture_Game_Card","load","bundle","err","tex","console","log","nodeCardMesh","getComponent","material","setProperty"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,Y,OAAAA,Y;AAAcC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;;AAC/BC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,K,iBAAAA,K;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;6BAGaQ,W,WADZF,OAAO,CAAC,aAAD,C,UAGHC,QAAQ,CAAC;AAAEE,QAAAA,OAAO,EAAE,QAAX;AAAqBC,QAAAA,IAAI,EAAEZ;AAA3B,OAAD,C,2BAHb,MACaU,WADb;AAAA;AAAA,0CAC+C;AAAA;AAAA;;AAAA;;AAAA,eAKpCG,IALoC,GAKrB,CALqB;AAAA;;AAO3C;AACUC,QAAAA,iBAAiB,GAAG,CAE7B;;AAEMC,QAAAA,WAAW,CAACF,IAAD,EAAe;AAC7B,eAAKA,IAAL,GAAYA,IAAZ;AACA,cAAIG,OAAO,GAAG;AAAA;AAAA,oCAASC,YAAT,CAAsBJ,IAAtB,CAAd;AAEA,cAAIK,IAAI,GAAG;AAAA;AAAA,8BAAMC,aAAN,CAAoB;AAAA;AAAA,gCAAOC,iBAAP,CAAyBF,IAA7C,EAAmDF,OAAnD,CAAX,CAJ6B,CAK7B;;AACA;AAAA;AAAA,sCAAUK,IAAV,CAAe;AAAA;AAAA,gCAAOD,iBAAP,CAAyBE,MAAxC,EAAgDJ,IAAhD,EAAsDjB,SAAtD,EAAiE,CAACsB,GAAD,EAAoBC,GAApB,KAA4B;AACzF,gBAAID,GAAJ,EAAS;AACLE,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,aAA3B,EAA0CH,GAA1C;AACA;AACH;;AACD,gBAAIC,GAAJ,EAAS;AACL,mBAAKG,YAAL,CAAkBC,YAAlB,CAA+B7B,YAA/B,EAA8C8B,QAA9C,CAAwDC,WAAxD,CAAoE,WAApE,EAAiFN,GAAjF;AACH;AACJ,WARD;AASH;;AA3B0C,O;;;;;iBAGP,I","sourcesContent":["\nimport { MeshRenderer, Node, Texture2D, _decorator } from 'cc';\nimport { resLoader } from '../../../framework/loader/ResLoader';\nimport { Utils } from '../../../framework/Utils';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { FXJRes } from '../common/FXJRes';\nimport { CardUtil } from '../util/CardUtil';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = NodeCardCtr\n * URL = db://assets/package/game/scripts/NodeCardCtr.ts\n * Time = Tue Aug 08 2023 15:30:03 GMT+0800 (中国标准时间)\n * Author = harvyson\n *\n * Life: onLoad-->onInitModuleEvent-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n */\n\n@ccclass('NodeCardCtr')\nexport class NodeCardCtr extends BaseComponent {\n    // 手牌模型节点\n    @property({ tooltip: \"手牌模型节点\", type: Node })\n    private nodeCardMesh: Node | null = null;\n\n    public byte: number = 0;\n\n    /** override 初始化模块事件 */\n    protected onInitModuleEvent() {\n\n    };\n\n    public setCardByte(byte: number) {\n        this.byte = byte;\n        let cardStr = CardUtil.getCardValue(byte);\n\n        let path = Utils.string_format(FXJRes.Picture_Game_Card.path, cardStr)\n        // console.log(\"NodeCardCtr\", \"setCardByte\", \"path\", path)\n        resLoader.load(FXJRes.Picture_Game_Card.bundle, path, Texture2D, (err: Error | null, tex) => {\n            if (err) {\n                console.log(\"NodeCardCtr\", \"setCardByte\", err)\n                return\n            }\n            if (tex) {\n                this.nodeCardMesh.getComponent(MeshRenderer)!.material!.setProperty('albedoMap', tex);\n            }\n        })\n    }\n\n}\n\n"]}