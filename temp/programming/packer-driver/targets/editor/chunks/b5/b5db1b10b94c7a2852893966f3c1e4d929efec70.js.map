{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/activity/scripts/getPopPrefabCtr.ts"],"names":["Label","Layout","Node","Sprite","_decorator","instantiate","AppEvent","AppSound","GameRes","Utils","DelegateComponent","EventManager","BaseComponent","ccclass","property","menu","animConfig","get","get_TS","light","GetRoles","getPopPrefabCtr","tooltip","type","awardData","onLoad","getComp","initView","showGetPropsAnim","hideMaskNode","maskNode","node","parent","getChildByName","active","comp","getComponent","getParams","table_verify","start","itemLayout","itemNode","playItemAnim","isGold","self","goldAni","resConf","Spine_Get_Item","aniName","parentNode","goldAnim","trackIndex","isLoop","callStartFunc","dispatch","SYS_PLAY_EFFECT","GetGoodsCoin","getLoopAni","itemBgAnim","showItem","SYS_ANI_PLAY","GetGoods","param1","removeAllChildren","callEndFunc","isValid","table_isEmpty","item","itemIdList","children","destroy","max","length","childLength","childs","i","nodeItem","j","data","addChild","num","name","str","numStr","string_moneyToShortNumber","string_isEmpty","String","itemName","itemCoin","string","getPreLoaderRemoteRes","imageAsset","spriteFrame","image_ImageAssetToSpriteFrame","updateLayout","onCloseClick","console","log","onDestroy"],"mappings":"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","sourcesContent":["import { Label, Layout, Node, Sprite, _decorator, instantiate } from 'cc';\nimport { AppEvent } from '../../../config/AppEvent';\nimport { AppSound } from '../../../config/AppSound';\nimport { GameRes } from '../../../config/GameRes';\nimport { inf_GetPropItem, inf_SpineAniCreate } from '../../../framework/InterfaceDefines';\nimport { Utils } from '../../../framework/Utils';\nimport { DelegateComponent } from '../../../framework/layer/DelegateComponent';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nconst { ccclass, property, menu } = _decorator;\n\n/**\n * Name = getPopPrefabCtr\n * URL = db://assets/package/hall/scripts/getPopPrefabCtr.ts\n * Time = Wed Nov 16 2022 17:50:14 GMT+0800 (中国标准时间)\n * Author = Tomoe\n *\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n */\n\nlet animConfig = {\n\tget: [\"doudou\", \"get\", \"get_loop\"],\n\tget_TS: [\"TS_light_chuchang\", \"TS_light_loop\", \"TS_tihuan\"],\n\tlight: [\"light\"],//skin:[\"A\",\"B\",\"S\",\"SS\"]\n\tGetRoles: [\"getroles\", \"getroles_loop\"],//skin:[\"A\",\"B\",\"S\",\"SS\"]\n}\n\n@ccclass('getPopPrefabCtr')\n//方便编辑器识别的菜单项目\n@menu('prefab/activity/getPopPrefabCtr')\nexport class getPopPrefabCtr extends BaseComponent {\n\n\t//道具页面\n\t@property({ tooltip: \"道具页面\", type: Node })\n\tprivate itemLayout: Node | null = null;\n\n\t//道具背景动画节点\n\t@property({ tooltip: \"道具动画节点\", type: Node })\n\tprivate itemBgAnim: Node | null = null;\n\n\t//道具父节点\n\t@property({ tooltip: \"用户头像框\", type: Node })\n\tprivate itemIdList: Node | null = null;\n\t//道具节点\n\t@property({ tooltip: \"道具节点\", type: Node })\n\tprivate itemNode: Node | null = null;\n\n\t//金豆动画\n\t@property({ tooltip: \"金豆动画\", type: Node })\n\tprivate goldAnim: Node | null = null;\n\n\t//奖品数据\n\tprivate awardData: Array<inf_GetPropItem> = [];\n\n\tonLoad() {\n\t\tthis.getComp();\n\t\tthis.initView();\n\t\tthis.showGetPropsAnim();\n\t};\n\t/** 隐藏遮罩层 */\n\thideMaskNode() {\n\t\tlet maskNode = this.node.parent.getChildByName(\"Mask\");\n\t\tif (maskNode) {\n\t\t\tmaskNode.active = false;\n\t\t}\n\t}\n\tgetComp() {\n\t\tlet comp = this.node.getComponent(DelegateComponent);\n\t\tif (comp) {\n\t\t\tthis.awardData = comp.getParams()\n\t\t}\n\t\tthis.awardData = Utils.table_verify(this.awardData, true);\n\t}\n\n\tstart() {\n\t\tthis.hideMaskNode();\n\t};\n\n\tinitView() {\n\t\tthis.itemLayout.active = false;\n\t\tthis.itemNode.active = false;\n\t}\n\n\t/** 显示道具获得动画 */\n\tshowGetPropsAnim() {\n\t\tthis.itemLayout.active = true;\n\t\tthis.playItemAnim();\n\t}\n\n\tplayItemAnim(isGold: boolean = false) {\n\t\tlet self = this;\n\t\tlet goldAni: inf_SpineAniCreate = {\n\t\t\tresConf: GameRes.Spine_Get_Item,\n\t\t\taniName: animConfig.get[0],\n\t\t\tparentNode: this.goldAnim,\n\t\t\ttrackIndex: null,\n\t\t\tisLoop: false,\n\t\t\tcallStartFunc: () => {\n\t\t\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.GetGoodsCoin);\n\t\t\t}\n\t\t}\n\n\t\tlet getLoopAni: inf_SpineAniCreate = {\n\t\t\tresConf: GameRes.Spine_Get_Item,\n\t\t\taniName: animConfig.get[2],\n\t\t\tparentNode: this.itemBgAnim,\n\t\t\ttrackIndex: null,\n\t\t\tisLoop: true,\n\t\t\tcallStartFunc: () => {\n\t\t\t\tself.showItem();\n\t\t\t\tif (isGold == true) {\n\t\t\t\t\tEventManager.dispatch(AppEvent.SYS_ANI_PLAY, goldAni);\n\t\t\t\t} else {\n\t\t\t\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.GetGoods);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet param1: inf_SpineAniCreate = {\n\t\t\tresConf: GameRes.Spine_Get_Item,\n\t\t\taniName: animConfig.get[1],\n\t\t\tparentNode: this.itemBgAnim,\n\t\t\ttrackIndex: null,\n\t\t\tisLoop: false,\n\t\t\tcallStartFunc: () => {\n\t\t\t\t// if (isGold == false) {\n\t\t\t\t// \t// EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.GetGoods);\n\t\t\t\t// }else{\n\t\t\t\t// \tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.GetGoodsCoin);\n\t\t\t\t// }\n\t\t\t\tself.itemBgAnim.removeAllChildren();\n\t\t\t\tEventManager.dispatch(AppEvent.SYS_ANI_PLAY, getLoopAni)\n\t\t\t},\n\t\t\tcallEndFunc: () => {\n\t\t\t\t// EventManager.dispatch(AppEvent.SYS_ANI_PLAY, getLoopAni)\n\t\t\t\t// if (isGold == true) {\n\t\t\t\t// \tEventManager.dispatch(AppEvent.SYS_ANI_PLAY, goldAni)\n\t\t\t\t// }\n\t\t\t}\n\t\t}\n\n\t\tEventManager.dispatch(AppEvent.SYS_ANI_PLAY, getLoopAni)\n\n\t}\n\n\tshowItem() {\n\t\tif (!this.node || this.node.isValid == false) {\n\t\t\treturn;\n\t\t}\n\t\tif (Utils.table_isEmpty(this.awardData)) {\n\t\t\tfor (let item of this.itemIdList.children) {\n\t\t\t\titem.destroy()\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tlet max: number = this.awardData.length\n\t\tlet childLength: number = this.itemIdList.children.length\n\t\tlet childs = this.itemIdList.children\n\t\tif (max < childLength) {\n\t\t\tmax = childLength;\n\t\t}\n\t\tfor (let i = (max - 1); i >= 0; i--) {\n\t\t\tlet nodeItem = childs[i]\n\t\t\tif (nodeItem && !this.awardData[i]) {\n\t\t\t\tnodeItem.destroy();\n\t\t\t}\n\t\t}\n\t\tfor (let j = 0; j < this.awardData.length; j++) {\n\t\t\tlet data: object = this.awardData[j]\n\t\t\tlet nodeItem = childs[j]\n\t\t\tif (!nodeItem) {\n\t\t\t\tnodeItem = instantiate(this.itemNode);\n\t\t\t\tthis.itemIdList.addChild(nodeItem)\n\t\t\t}\n\n\t\t\tlet type = data['type'];\n\t\t\tlet num = data['num'];\n\t\t\tlet name = data['name'];\n\t\t\tlet str = \"\";\n\t\t\tlet numStr = Utils.string_moneyToShortNumber(num,true);\n\t\t\tif (!Utils.string_isEmpty(name)) {\n\t\t\t\tstr = name + \"X\" + numStr;\n\t\t\t} else {\n\t\t\t\tstr = String(num);\n\t\t\t}\n\t\t\t\n\t\t\tlet itemName = nodeItem.getChildByName('numlabel').getComponent(Label)\n\t\t\tlet itemCoin = nodeItem.getChildByName('img_icon').getComponent(Sprite)\n\t\t\titemName.string = str;\n\t\t\titemCoin.node.active = false;\n\n\t\t\tthis.getPreLoaderRemoteRes(data['icon'], '.png', (imageAsset) => {\n\t\t\t\tif (!imageAsset) { //资源可能还在加载中\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (!itemCoin.node || itemCoin.node.isValid == false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAsset)\n\t\t\t\tif (spriteFrame) {\n\t\t\t\t\titemCoin.spriteFrame = spriteFrame;\n\t\t\t\t\titemCoin.node.active = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tnodeItem.active = true\n\t\t}\n\t\tthis.itemIdList.getComponent(Layout).updateLayout();\n\t\tthis.itemIdList.active = true;\n\t}\n\n\t//播放角色动画 暂时无\n\t// playRoleAnim(skin, roleID) {\n\t// \tthis.roleBgAnim.removeAllChildren();\n\t// \tlet param = {\n\t// \t\tresConf: GameRes.Spine_Get_Role,\n\t// \t\taniName: animConfig.GetRoles[1],\n\t// \t\tparentNode: this.roleBgAnim,\n\t// \t\ttrackIndex: null,\n\t// \t\tisLoop: true,\n\t// \t\tskin: skin,\n\t// \t}\n\t// \tEventManager.dispatch(AppEvent.SYS_ANI_PLAY, param)\n\n\t// \tlet param2 = {\n\t// \t\tresConf: GCache.GoodsData.getRoleAnimConfigById(roleID).path,\n\t// \t\taniName: GCache.GoodsData.getRoleAnimConfigById(roleID).standby[2],\n\t// \t\tparentNode: this.roleAnim,\n\t// \t\ttrackIndex: null,\n\t// \t\tisLoop: true,\n\t// \t}\n\t// \tEventManager.dispatch(AppEvent.SYS_ANI_PLAY, param2)\n\t// \tlet param3 = {\n\t// \t\tresConf: GameRes.Spine_Get_Close,\n\t// \t\taniName: animConfig.light[0],\n\t// \t\tparentNode: this.lightAnim,\n\t// \t\ttrackIndex: null,\n\t// \t\tisLoop: false,\n\t// \t\tskin: skin,\n\t// \t}\n\t// \tEventManager.dispatch(AppEvent.SYS_ANI_PLAY, param3)\n\t// }\n\n\tonCloseClick() {\n\t\tconsole.log(\"点击了\")\n\t\tthis.node.destroy()\n\t}\n\n\t//销毁\n\tonDestroy() {\n\n\t};\n\n}\n\n"]}