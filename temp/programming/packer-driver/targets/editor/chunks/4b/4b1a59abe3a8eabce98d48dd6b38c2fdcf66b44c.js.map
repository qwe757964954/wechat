{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/login/scripts/UserAgreePrivateCtr.ts"],"names":["Button","ImageAsset","Node","Sprite","_decorator","GCache","AppEvent","AppSound","StoreKey","GameRes","resLoader","LocalStorage","EventManager","Utils","BaseComponent","Platform","ccclass","property","UserAgreePrivateCtr","tooltip","type","constructor","_userAgreeRes","Map","_priRes","_curMaxResNum","_currowType","_isReportToPlatform","preLoad","firstRunLoadSuccess","self","i","Picture_UserPrivacyPolicy","length","oneResConf","load","bundle","path","err","imageAsset","delete","set","onLoadCallback","Picture_UserAgree","onLoad","comp","currowType","isHaveTag","node","getComponent","params","table_verify","getParams","privateHelpNode","active","checkPrivacyContract","nodeTab","updateView","onNeedPrivacyAuthorization_WX","start","onClickMenuUserAgree","onClickMenuPrivatePro","isAgree","get","LOGIN_LAST_CHECK_AGREE","nodeTwoBtn","nodeOneBtn","nodeNoTips","e","dispatch","SYS_PLAY_EFFECT","CommClick","clickSprite","menuUserAgree","getChildByName","clickBtn","interactable","grayscale","anotherSprite","menuPrivatePro","anotherBtn","onLoadUserAgree","onLoadPrivacyPolicy","onClickPrivateHelp","openPrivacyContract_WX","onClickSure","LOGIN_AGREE_PRIVATE","destroy","onClickNotSure","isValid","size","contentNode","removeAllChildren","imageAssert","spriteFrame","image_ImageAssetToSpriteFrame","addChild","creatorSpriteNode","create_2DSprite","onDestroy"],"mappings":"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","sourcesContent":["\nimport { Button, ImageAsset, Node, Sprite, SpriteFrame, _decorator } from 'cc';\nimport { GCache } from '../../../cache/GCache';\nimport { AppEvent } from '../../../config/AppEvent';\nimport { AppSound } from '../../../config/AppSound';\nimport { StoreKey } from '../../../config/GameConstant';\nimport { GameRes } from '../../../config/GameRes';\nimport { resLoader } from '../../../framework/loader/ResLoader';\nimport { LocalStorage } from '../../../framework/LocalStorage';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { Utils } from '../../../framework/Utils';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { Platform } from '../../../platform/Platform';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = UserAgreePrivateCtr\n * URL = db://assets/package/login/scripts/UserAgreePrivateCtr.ts\n * Time = Thu Aug 04 2022 17:12:23 GMT+0800 (中国标准时间)\n * Author = xueya\n *\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n * 用户协议和隐私政策\n */\n\n@ccclass('UserAgreePrivateCtr')\nexport class UserAgreePrivateCtr extends BaseComponent {\n\n\t//正文标题\n\t@property({ tooltip: \"隐私保护内容指引节点\", type: Node })\n\tprivateHelpNode: Node = null!;\n\t//正文标题\n\t@property({ tooltip: \"标题内容\", type: Node })\n\ttitleNode: Node = null!;\n\n\t//正文节点\n\t@property({ tooltip: \"正文节点\", type: Node })\n\tcontentNode: Node = null!;\n\n\t@property({ tooltip: \"滚动条节点\", type: Node })\n\tscrollowBarNode: Node = null!;\n\n\n\t@property({ tooltip: \"菜单标签-用户协议\", type: Node })\n\tmenuUserAgree: Node = null!;\n\n\t@property({ tooltip: \"菜单标签-隐私政策\", type: Node })\n\tmenuPrivatePro: Node = null!;\n\n\t@property({ tooltip: \"两个按钮的父节点\", type: Node })\n\tnodeTwoBtn: Node = null!;\n\n\t@property({ tooltip: \"一个按钮的父节点\", type: Node })\n\tnodeOneBtn: Node = null!;\n\n\t//无内容时的节点\n\t@property({ tooltip: \"无内容时的节点\", type: Node })\n\tnodeNoTips: Node = null!;\n\n\t//TAB标签\n\t@property({ tooltip: \"TAB标签\", type: Node })\n\tnodeTab: Node = null!;\n\n\t//用户协议图集\n\t_userAgreeRes: Map<number, ImageAsset> = new Map();\n\t//隐私政策图集\n\t_priRes: Map<number, ImageAsset> = new Map();\n\t//当前最大资源加载数量\n\t_curMaxResNum = -1;\n\t//当前类型\n\t_currowType = 0;\n\t//是否上报给平台\n\t_isReportToPlatform = false;\n\tconstructor() {\n\t\tsuper();\n\t\tthis.preLoad();\n\t}\n\t//预加载\n\tpreLoad() {\n\t\tif (!GCache.firstRunLoadSuccess) {\n\t\t\treturn;\n\t\t}\n\t\tlet self = this;\n\t\tfor (let i = 0; i < GameRes.Picture_UserPrivacyPolicy.length; i++) {\n\t\t\tlet oneResConf = GameRes.Picture_UserPrivacyPolicy[i];\n\t\t\tresLoader.load(oneResConf.bundle, oneResConf.path, ImageAsset, (err: Error | null, imageAsset) => {\n\t\t\t\tif (err || !self._priRes) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself._priRes.delete(i);\n\t\t\t\tself._priRes.set(i, imageAsset);\n\t\t\t\tif (self._currowType == 2) {\n\t\t\t\t\tself.onLoadCallback(self._currowType);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tfor (let i = 0; i < GameRes.Picture_UserAgree.length; i++) {\n\t\t\tlet oneResConf = GameRes.Picture_UserAgree[i];\n\t\t\tresLoader.load(oneResConf.bundle, oneResConf.path, ImageAsset, (err: Error | null, imageAsset) => {\n\t\t\t\tif (err || !self._userAgreeRes) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself._userAgreeRes.delete(i);\n\t\t\t\tself._userAgreeRes.set(i, imageAsset);\n\n\t\t\t\tif (self._currowType == 1) {\n\t\t\t\t\tself.onLoadCallback(self._currowType);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\tonLoad() {\n\t\tlet comp = null;\n\t\tlet currowType = null;\n\t\tlet isHaveTag = true;\n\n\t\tcomp = this.node.getComponent(\"DelegateComponent\")\n\t\tif (comp) {\n\t\t\tlet params = Utils.table_verify(comp.getParams());\n\t\t\tcurrowType = params[\"type\"];\n\t\t\tisHaveTag = params[\"isHaveTag\"] != false;\n\n\t\t}\n\t\tthis._isReportToPlatform = (currowType == null);\n\t\tthis.privateHelpNode.active = Platform.checkPrivacyContract();\n\t\tthis.nodeTab.active = isHaveTag;\n\t\tthis.updateView();\n\n\t\tthis._currowType = currowType ? currowType : 2;\n\n\t\tif (this._isReportToPlatform) {\n\t\t\tPlatform.onNeedPrivacyAuthorization_WX(\"exposureAuthorization\");\n\t\t}\n\t};\n\tstart() {\n\t\tif (this._currowType == 1) {\n\t\t\tthis.onClickMenuUserAgree();\n\t\t} else {\n\t\t\tthis.onClickMenuPrivatePro();\n\t\t}\n\t}\n\t/** 更新界面 */\n\tupdateView() {\n\t\tlet isAgree = LocalStorage.get(StoreKey.LOGIN_LAST_CHECK_AGREE, false);\n\t\tif (!isAgree) {\n\t\t\tthis.nodeTwoBtn.active = true;\n\t\t\tthis.nodeOneBtn.active = false;\n\t\t} else {\n\t\t\tthis.nodeTwoBtn.active = false;\n\t\t\tthis.nodeOneBtn.active = true;\n\t\t}\n\t\tthis.nodeNoTips.active = true;\n\t}\n\t//点击了用户协议\n\tonClickMenuUserAgree(e = null) {\n\t\tif (e) {\n\t\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\t}\n\t\tlet clickSprite = this.menuUserAgree.getChildByName(\"Sprite\");\n\t\tlet clickBtn = this.menuUserAgree.getChildByName(\"btn\");\n\t\tclickBtn.getComponent(Button).interactable = false;\n\t\tclickSprite.getComponent(Sprite).grayscale = false;\n\n\t\tlet anotherSprite = this.menuPrivatePro.getChildByName(\"Sprite\");\n\t\tlet anotherBtn = this.menuPrivatePro.getChildByName(\"btn\");\n\t\tanotherBtn.getComponent(Button).interactable = true;\n\t\tanotherSprite.getComponent(Sprite).grayscale = true;\n\n\t\tthis.onLoadUserAgree();\n\t}\n\n\t//点击了隐私协议\n\tonClickMenuPrivatePro(e = null) {\n\t\tif (e) {\n\t\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\t}\n\t\tlet clickSprite = this.menuPrivatePro.getChildByName(\"Sprite\");\n\t\tlet clickBtn = this.menuPrivatePro.getChildByName(\"btn\");\n\t\tclickBtn.getComponent(Button).interactable = false;\n\t\tclickSprite.getComponent(Sprite).grayscale = false;\n\n\t\tlet anotherSprite = this.menuUserAgree.getChildByName(\"Sprite\");\n\t\tlet anotherBtn = this.menuUserAgree.getChildByName(\"btn\");\n\t\tanotherBtn.getComponent(Button).interactable = true;\n\t\tanotherSprite.getComponent(Sprite).grayscale = true;\n\n\t\tthis.onLoadPrivacyPolicy();\n\t}\n\t/** 点击了隐私保护指引 */\n\tonClickPrivateHelp(e = null) {\n\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\tPlatform.openPrivacyContract_WX();\n\t}\n\t//点击了同意\n\tonClickSure() {\n\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\tLocalStorage.set(StoreKey.LOGIN_LAST_CHECK_AGREE, true);\n\t\tif (this._isReportToPlatform) {\n\t\t\tPlatform.onNeedPrivacyAuthorization_WX(\"agree\");\n\t\t}\n\t\tEventManager.dispatch(AppEvent.LOGIN_AGREE_PRIVATE,true)\n\t\t\n\t\tthis.node.destroy();\n\t}\n\n\t//点击了不同意\n\tonClickNotSure() {\n\t\tEventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\t\t// if (this._isReportToPlatform) {\n\t\t// \tPlatform.onNeedPrivacyAuthorization_WX(\"disagree\");\n\t\t// }\n\t\tthis.node.destroy();\n\t}\n\n\t/** 加载用户协议 */\n\tonLoadUserAgree() {\n\t\tthis._curMaxResNum = GameRes.Picture_UserAgree.length;\n\t\tthis._currowType = 1;\n\t\tthis.onLoadCallback(this._currowType);\n\t}\n\t/** 加载隐私政策 */\n\tonLoadPrivacyPolicy() {\n\t\tthis._curMaxResNum = GameRes.Picture_UserPrivacyPolicy.length;\n\t\tthis._currowType = 2;\n\t\tthis.onLoadCallback(this._currowType);\n\t}\n\t/** 加载完成的回调 */\n\tonLoadCallback(type: number = 0) {\n\t\tif (type == 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.node || this.node.isValid == false) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (type == 1 && this._userAgreeRes.size == this._curMaxResNum) {\n\t\t\tthis.contentNode.removeAllChildren();\n\t\t\tthis.nodeNoTips.active = false;\n\t\t\tfor (let i = 0; i < this._curMaxResNum; i++) {\n\t\t\t\tlet imageAssert = this._userAgreeRes.get(i);\n\t\t\t\tif (imageAssert) {\n\t\t\t\t\tlet spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAssert);\n\t\t\t\t\tif (spriteFrame) {\n\t\t\t\t\t\tthis.contentNode.addChild(this.creatorSpriteNode(spriteFrame));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t} else if (type == 2 && this._priRes.size == this._curMaxResNum) {\n\t\t\tthis.contentNode.removeAllChildren();\n\t\t\tthis.nodeNoTips.active = false;\n\t\t\tfor (let i = 0; i < this._curMaxResNum; i++) {\n\t\t\t\tlet imageAssert = this._priRes.get(i);\n\t\t\t\tif (imageAssert) {\n\t\t\t\t\tlet spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAssert);\n\t\t\t\t\tif (spriteFrame) {\n\t\t\t\t\t\tthis.contentNode.addChild(this.creatorSpriteNode(spriteFrame));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\tcreatorSpriteNode(spriteFrame: SpriteFrame): Node {\n\t\tlet node = Utils.create_2DSprite(spriteFrame, \"Sprite\");\n\t\treturn node;\n\t}\n\n\t//销毁\n\tonDestroy() {\n\t\t\n\t};\n\n}\n\n"]}