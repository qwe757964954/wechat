{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/game/module/bugang/src/Remain.ts"],"names":["Label","Node","_decorator","Utils","BaseComponent","RoomMgr","ccclass","property","Remain","_handlerTimeUpdate","onInitModuleEvent","onLoad","initView","startUpdateTime","stopScheduler","updateTime","addScheduler","handler","timeLabel","string","getNowTime","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","addZero","s","updateRemainCardsCount","remainCardLabel","getInstance","remainCardsCount","start","rootTimeNode","active","rootRemainCardNode","updateView","onClickClose","event","onDestroy"],"mappings":"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","sourcesContent":["\nimport { EventTouch, Label, Node, _decorator } from 'cc';\nimport { Utils } from '../../../../../framework/Utils';\nimport { BaseComponent } from '../../../../../framework/vc/BaseComponent';\nimport { RoomMgr } from '../../../cache/RoomMgr';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = Remain\n * URL = db://assets/package/game/module/bugang/src/Remain.ts\n * Time = Wed Aug 02 2023 20:46:16 GMT+0800 (中国标准时间)\n * Author = qwe757964\n *\n * Life: onLoad-->onInitModuleEvent-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n */\n\n@ccclass('Remain')\nexport class Remain extends BaseComponent {\n\t@property(Node)\n\tpublic rootTimeNode: Node | null = null;\n\t@property(Node)\n\tpublic rootRemainCardNode: Node | null = null;\n\n\t@property(Label)\n\tpublic timeLabel: Label | null = null;\n\t@property(Label)\n\tpublic remainCardLabel: Label | null = null;\n\n\t/** 时间更新句柄 */\n\t_handlerTimeUpdate = null;\n\n\t/** override 初始化模块事件 */\n\tprotected onInitModuleEvent() {\n\n\t};\n\n\tonLoad() {\n\t\tthis.initView();\n\t\tthis.startUpdateTime();\n\t};\n\n\t/** 开始更新时间 */\n\tstartUpdateTime() {\n\t\tif (this._handlerTimeUpdate) {\n\t\t\treturn;\n\t\t}\n\t\tthis.stopScheduler(this._handlerTimeUpdate);\n\t\tthis._handlerTimeUpdate = null;\n\t\tthis.updateTime();\n\t\tthis.addScheduler(1, Utils.handler(this, this.updateTime));\n\t}\n\n\t//更新时间\n\tupdateTime() {\n\t\tthis.timeLabel.string = this.getNowTime();\n\t}\n\n\t//获取时间\n\tgetNowTime() {\n\t\tvar date = new Date();\n\t\t//年 getFullYear()：四位数字返回年份\n\t\tvar year = date.getFullYear();  //getFullYear()代替getYear()\n\t\t//月 getMonth()：0 ~ 11\n\t\tvar month = date.getMonth() + 1;\n\t\t//日 getDate()：(1 ~ 31)\n\t\tvar day = date.getDate();\n\t\t//时 getHours()：(0 ~ 23)\n\t\tvar hour = date.getHours();\n\t\t//分 getMinutes()： (0 ~ 59)\n\t\tvar minute = date.getMinutes();\n\t\t//秒 getSeconds()：(0 ~ 59)\n\t\tvar second = date.getSeconds();\n\t\treturn `${hour}:${this.addZero(minute)}`;\n\t}\n\taddZero(s: number) {\n\t\treturn s < 10 ? ('0' + s) : s;\n\t}\n\n\tpublic updateRemainCardsCount() {\n\t\tthis.remainCardLabel.string = `${RoomMgr.getInstance().remainCardsCount}`;\n\t}\n\n\tstart() {\n\n\t};\n\n\t/** 初始化界面 */\n\tinitView() {\n\t\tthis.rootTimeNode.active = true;\n\t\tthis.rootRemainCardNode.active = true;\n\t\tthis.remainCardLabel.string = \"0\";\n\t\tthis.timeLabel.string = \"00:00\";\n\t};\n\n\t/** 更新界面 */\n\tupdateView() {\n\n\t};\n\n\t/** 点击了关闭 */\n\tonClickClose(event: EventTouch) {\n\n\t};\n\n\t//销毁\n\tonDestroy() {\n\n\t};\n\n}\n\n"]}