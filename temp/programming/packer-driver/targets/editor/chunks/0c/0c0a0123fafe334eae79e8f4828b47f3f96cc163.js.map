{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/login/scripts/UserAgreePrivateCtr.ts"],"names":["Button","ImageAsset","Node","ScrollView","Sprite","_decorator","GCache","AppEvent","AppSound","StoreKey","GameRes","LocalStorage","Utils","resLoader","EventManager","BaseComponent","Platform","ccclass","property","UserAgreePrivateCtr","tooltip","type","constructor","_userAgreeRes","Map","_priRes","_curMaxResNum","_currowType","_isReportToPlatform","preLoad","firstRunLoadSuccess","self","i","Picture_UserPrivacyPolicy","length","oneResConf","load","bundle","path","err","imageAsset","delete","set","onLoadCallback","Picture_UserAgree","onLoad","comp","currowType","isHaveTag","node","getComponent","params","table_verify","getParams","privateHelpNode","active","checkPrivacyContract","nodeTab","updateView","onNeedPrivacyAuthorization_WX","start","onClickMenuUserAgree","onClickMenuPrivatePro","isAgree","get","LOGIN_LAST_CHECK_AGREE","nodeTwoBtn","nodeOneBtn","nodeNoTips","e","dispatch","SYS_PLAY_EFFECT","CommClick","clickSprite","menuUserAgree","getChildByName","clickBtn","interactable","grayscale","anotherSprite","menuPrivatePro","anotherBtn","onLoadUserAgree","scrollContent","scrollToTop","onLoadPrivacyPolicy","onClickPrivateHelp","openPrivacyContract_WX","onClickSure","LOGIN_AGREE_PRIVATE","destroy","onClickNotSure","isValid","size","contentNode","removeAllChildren","imageAssert","spriteFrame","image_ImageAssetToSpriteFrame","addChild","creatorSpriteNode","create_2DSprite","onDestroy"],"mappings":"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","sourcesContent":["\nimport { Button, ImageAsset, Node, ScrollView, Sprite, SpriteFrame, _decorator } from 'cc';\nimport { GCache } from '../../../cache/GCache';\nimport { AppEvent } from '../../../config/AppEvent';\nimport { AppSound } from '../../../config/AppSound';\nimport { StoreKey } from '../../../config/GameConstant';\nimport { GameRes } from '../../../config/GameRes';\nimport { LocalStorage } from '../../../framework/LocalStorage';\nimport { Utils } from '../../../framework/Utils';\nimport { resLoader } from '../../../framework/loader/ResLoader';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { Platform } from '../../../platform/Platform';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = UserAgreePrivateCtr\n * URL = db://assets/package/login/scripts/UserAgreePrivateCtr.ts\n * Time = Thu Aug 04 2022 17:12:23 GMT+0800 (中国标准时间)\n * Author = xueya\n *\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n * 用户协议和隐私政策\n */\n\n@ccclass('UserAgreePrivateCtr')\nexport class UserAgreePrivateCtr extends BaseComponent {\n\n    //正文标题\n    @property({ tooltip: \"隐私保护内容指引节点\", type: Node })\n    privateHelpNode: Node = null!;\n    //正文标题\n    @property({ tooltip: \"标题内容\", type: Node })\n    titleNode: Node = null!;\n\n    //正文节点\n    @property({ tooltip: \"正文节点\", type: Node })\n    contentNode: Node = null!;\n    //滚动容器\n    @property({ tooltip: \"滚动容器\", type: Node })\n    scrollContent: Node = null!;\n\n    @property({ tooltip: \"滚动条节点\", type: Node })\n    scrollowBarNode: Node = null!;\n\n\n    @property({ tooltip: \"菜单标签-用户协议\", type: Node })\n    menuUserAgree: Node = null!;\n\n    @property({ tooltip: \"菜单标签-隐私政策\", type: Node })\n    menuPrivatePro: Node = null!;\n\n    @property({ tooltip: \"两个按钮的父节点\", type: Node })\n    nodeTwoBtn: Node = null!;\n\n    @property({ tooltip: \"一个按钮的父节点\", type: Node })\n    nodeOneBtn: Node = null!;\n\n    //无内容时的节点\n    @property({ tooltip: \"无内容时的节点\", type: Node })\n    nodeNoTips: Node = null!;\n\n    //TAB标签\n    @property({ tooltip: \"TAB标签\", type: Node })\n    nodeTab: Node = null!;\n\n    //用户协议图集\n    _userAgreeRes: Map<number, ImageAsset> = new Map();\n    //隐私政策图集\n    _priRes: Map<number, ImageAsset> = new Map();\n    //当前最大资源加载数量\n    _curMaxResNum = -1;\n    //当前类型\n    _currowType = 0;\n    //是否上报给平台\n    _isReportToPlatform = false;\n    constructor() {\n        super();\n        this.preLoad();\n    }\n    //预加载\n    preLoad() {\n        if (!GCache.firstRunLoadSuccess) {\n            return;\n        }\n        let self = this;\n        for (let i = 0; i < GameRes.Picture_UserPrivacyPolicy.length; i++) {\n            let oneResConf = GameRes.Picture_UserPrivacyPolicy[i];\n            resLoader.load(oneResConf.bundle, oneResConf.path, ImageAsset, (err: Error | null, imageAsset) => {\n                if (err || !self._priRes) {\n                    return;\n                }\n\n                self._priRes.delete(i);\n                self._priRes.set(i, imageAsset);\n                if (self._currowType == 2) {\n                    self.onLoadCallback(self._currowType);\n                }\n            });\n        };\n        for (let i = 0; i < GameRes.Picture_UserAgree.length; i++) {\n            let oneResConf = GameRes.Picture_UserAgree[i];\n            resLoader.load(oneResConf.bundle, oneResConf.path, ImageAsset, (err: Error | null, imageAsset) => {\n                if (err || !self._userAgreeRes) {\n                    return;\n                }\n                self._userAgreeRes.delete(i);\n                self._userAgreeRes.set(i, imageAsset);\n\n                if (self._currowType == 1) {\n                    self.onLoadCallback(self._currowType);\n                }\n            });\n        }\n\n    }\n    onLoad() {\n        let comp = null;\n        let currowType = null;\n        let isHaveTag = true;\n\n        comp = this.node.getComponent(\"DelegateComponent\")\n        if (comp) {\n            let params = Utils.table_verify(comp.getParams());\n            currowType = params[\"type\"];\n            isHaveTag = params[\"isHaveTag\"] != false;\n        }\n        this._isReportToPlatform = (currowType == null);\n        this.privateHelpNode.active = Platform.checkPrivacyContract();\n        this.nodeTab.active = isHaveTag;\n        this.updateView();\n        this._currowType = currowType ? currowType : 2;\n        if (this._isReportToPlatform) {\n            Platform.onNeedPrivacyAuthorization_WX(\"exposureAuthorization\");\n        }\n    };\n    start() {\n        if (this._currowType == 1) {\n            this.onClickMenuUserAgree();\n        } else {\n            this.onClickMenuPrivatePro();\n        }\n    }\n\n    /** 更新界面 */\n    updateView() {\n        let isAgree = LocalStorage.get(StoreKey.LOGIN_LAST_CHECK_AGREE, false);\n        if (!isAgree) {\n            this.nodeTwoBtn.active = true;\n            this.nodeOneBtn.active = false;\n        } else {\n            this.nodeTwoBtn.active = false;\n            this.nodeOneBtn.active = true;\n        }\n        this.nodeNoTips.active = true;\n    }\n    //点击了用户协议\n    onClickMenuUserAgree(e = null) {\n        if (e) {\n            EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        }\n        let clickSprite = this.menuUserAgree.getChildByName(\"Sprite\");\n        let clickBtn = this.menuUserAgree.getChildByName(\"btn\");\n        clickBtn.getComponent(Button).interactable = false;\n        clickSprite.getComponent(Sprite).grayscale = false;\n\n        let anotherSprite = this.menuPrivatePro.getChildByName(\"Sprite\");\n        let anotherBtn = this.menuPrivatePro.getChildByName(\"btn\");\n        anotherBtn.getComponent(Button).interactable = true;\n        anotherSprite.getComponent(Sprite).grayscale = true;\n        this.onLoadUserAgree();\n        this.scrollContent.getComponent(ScrollView).scrollToTop(0.01, false);\n\n    }\n\n    //点击了隐私协议\n    onClickMenuPrivatePro(e = null) {\n        if (e) {\n            EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        }\n        let clickSprite = this.menuPrivatePro.getChildByName(\"Sprite\");\n        let clickBtn = this.menuPrivatePro.getChildByName(\"btn\");\n        clickBtn.getComponent(Button).interactable = false;\n        clickSprite.getComponent(Sprite).grayscale = false;\n\n        let anotherSprite = this.menuUserAgree.getChildByName(\"Sprite\");\n        let anotherBtn = this.menuUserAgree.getChildByName(\"btn\");\n        anotherBtn.getComponent(Button).interactable = true;\n        anotherSprite.getComponent(Sprite).grayscale = true;\n\n        this.onLoadPrivacyPolicy();\n        this.scrollContent.getComponent(ScrollView).scrollToTop(0.01, false);\n\n    }\n    /** 点击了隐私保护指引 */\n    onClickPrivateHelp(e = null) {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        Platform.openPrivacyContract_WX();\n    }\n    //点击了同意\n    onClickSure() {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        LocalStorage.set(StoreKey.LOGIN_LAST_CHECK_AGREE, true);\n        if (this._isReportToPlatform) {\n            Platform.onNeedPrivacyAuthorization_WX(\"agree\");\n        }\n        EventManager.dispatch(AppEvent.LOGIN_AGREE_PRIVATE, true)\n\n        this.node.destroy();\n    }\n\n    //点击了不同意\n    onClickNotSure() {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        // if (this._isReportToPlatform) {\n        // \tPlatform.onNeedPrivacyAuthorization_WX(\"disagree\");\n        // }\n        this.node.destroy();\n    }\n\n    /** 加载用户协议 */\n    onLoadUserAgree() {\n        this._curMaxResNum = GameRes.Picture_UserAgree.length;\n        this._currowType = 1;\n        this.onLoadCallback(this._currowType);\n    }\n    /** 加载隐私政策 */\n    onLoadPrivacyPolicy() {\n        this._curMaxResNum = GameRes.Picture_UserPrivacyPolicy.length;\n        this._currowType = 2;\n        this.onLoadCallback(this._currowType);\n    }\n    /** 加载完成的回调 */\n    onLoadCallback(type: number = 0) {\n        if (type == 0) {\n            return;\n        }\n        if (!this.node || this.node.isValid == false) {\n            return;\n        }\n\n        if (type == 1 && this._userAgreeRes.size == this._curMaxResNum) {\n            this.contentNode.removeAllChildren();\n            this.nodeNoTips.active = false;\n            for (let i = 0; i < this._curMaxResNum; i++) {\n                let imageAssert = this._userAgreeRes.get(i);\n                if (imageAssert) {\n                    let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAssert);\n                    if (spriteFrame) {\n                        this.contentNode.addChild(this.creatorSpriteNode(spriteFrame));\n                    }\n                }\n\n            }\n        } else if (type == 2 && this._priRes.size == this._curMaxResNum) {\n            this.contentNode.removeAllChildren();\n            this.nodeNoTips.active = false;\n            for (let i = 0; i < this._curMaxResNum; i++) {\n                let imageAssert = this._priRes.get(i);\n                if (imageAssert) {\n                    let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAssert);\n                    if (spriteFrame) {\n                        this.contentNode.addChild(this.creatorSpriteNode(spriteFrame));\n                    }\n                }\n\n            }\n        }\n\n    }\n\n    creatorSpriteNode(spriteFrame: SpriteFrame): Node {\n        let node = Utils.create_2DSprite(spriteFrame, \"Sprite\");\n        return node;\n    }\n\n    //销毁\n    onDestroy() {\n\n    };\n\n}\n\n"]}