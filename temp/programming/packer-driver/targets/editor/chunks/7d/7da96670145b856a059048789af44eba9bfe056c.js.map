{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/framework/Utils.ts"],"names":["Color","error","ImageAsset","Layers","Node","ResolutionPolicy","screen","Sprite","SpriteFrame","sys","Texture2D","UITransform","Vec2","Vec3","view","GameConfig","GameTxt","Logger","UNIT_TYPE","NONE","K","M","B","T","clone","data","console","log","Array","temp","forEach","item","key","undefined","Object","res","constructor","dump","args","length","backLog","realLog","backContent","color","deLog","stack","call","getDateString","platform","Platform","DESKTOP_BROWSER","realTable","i","type","index","e","Error","lines","split","result","line","substring","lineBreak","push","list","splitList","value","a","concat","start","lastIndexOf","end","r","handler","obj","func","isNull","param","isNaN","isNotNull","nullToDefault","del","mergeArray","params","objectNum","formList","apply","mergeObject","prototype","hasOwnProperty","mergeObjectSelf","number_mod","b","c","Math","abs","number_formatToHex","number_valueOf","str","toString","d","num","Number","number_textOf","retainNum","numLen","numString","replace","floor","pow","getFormatNumber","dot","_k","_m","_b","_t","originNum","__number","u","ndot","ndecimal","s","biaodian_index","indexOf","unit_k","unit_m","unit_b","unit_t","string_matchStr","letter","isShowPN","PorN","appendStr","tempNum","tempstr","slice","string_moneyToShortNumber","money","isSimplify","findTab","String","endStr","string_moneyToChange","isWager","isSign","isEnglish","getNumberStr","standardNum","strMoney","string_codeToASCII","aa","charCodeAt","string_getBytesLength","totalLength","charCode","string_isEmpty","string_isHttp","toLowerCase","search","string_isAllOneBytes","curStrTable","byteLen","string_subString","maxlen","isByte","byteLenth","curLen","curStr","string_isViolation","violationList","violationString","string_format","reg","RegExp","string_formatByLua","keyList","splitTab","newStr","newTab","isNeedInsert","currowIndex","count","v","nextStr","string_startWith","chars","position","startsWith","string_endsWith","endsWith","string_trim","string_clearBr","string_replaceLast","findStr","replaceStr","endIndex","one","two","string_splitFileName","filePath","hasSuffix","pathName","trim","dotIndex","string_spliteTwoByChar","input","char","table_isEmpty","JSON","stringify","table_delEmpty","keys","isArray","isObject","table_keyof","hashtable","table_length","table","table_verify","propty","table_DeepClone","objClone","Data","table_sortAscii_AtoZ","caseIgnore","sort","s1","s2","x1","x2","toUpperCase","map","Map","set","size","arrayLike","from","timeEx","Date","getTime","time","round","Utils","timeToDataArray","date","array","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","time_getWeekday","weekday","getDay","timeParse","strFormat","time_isSampleDay","onetime","twotime","oneArray","twoArray","time_Remaining","isToTxt","hours","onDayAllTime","onHoursAllTime","onMinutesAllTime","onSecondsAllTime","endTime","txt","file_saveForBrowser","textToWrite","fileNameToSaveAs","isBrowser","textFileAsBlob","Blob","downloadLink","document","createElement","download","innerHTML","window","webkitURL","href","createObjectURL","click","image_ImageAssetToSpriteFrame","imageAsset","spriteFrame","texture","image","image_CreateDefaultSpriteFrame","width","height","Uint8Array","j","g","reset","_data","_compressed","format","PixelFormat","RGBA8888","packable","node_PositionSizeToScreen","node","UIComp","getComponent","updateWorldTransform","worldPos","getWorldPosition","canvasSize","windowSize","ratio","devicePixelRatio","desiginSize","getDesignResolutionSize","desiginType","instance","ResolutionPolicyType","scale","FIXED_WIDTH","FIXED_HEIGHT","x","y","pos","node_PositionCanvasToWorldPos","canvasPos","visibleSize","getVisibleSize","viewPosX","viewPosY","SHOW_ALL","create_2DNode","name","layer","Enum","UI_2D","uiTrans","addComponent","anchorPoint","enabled","create_2DSprite","sprite","sizeMode","getBezierPos","ctrlPosArr","precison","resArr","number","warn","yangHuiArr","getYangHuiTriangle","t","tmpX","tmpY","countPointInSegmentByY","point1","point2","insertPtY","resPoint","k","err","rotate3DAround","point","theta","moon","isValid","getPosition","radian","PI","posx","z","posy","pntx","pnty","radius","distance","radianStart","atan2","sin","cos","outx","outy","setPosition","eulerAngles","setRotationFromEuler","rotate3DAroundByPositionRotaion","rotaionEuler"],"mappings":"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","sourcesContent":["import { Color, error, ImageAsset, Layers, Node, ResolutionPolicy, screen, Sprite, SpriteFrame, sys, Texture2D, UITransform, Vec2, Vec3, view } from \"cc\";\nimport { GameConfig } from \"../config/GameConfig\";\nimport { GameTxt } from \"../config/GameTxt\";\nimport { Logger } from \"./log/Logger\";\n\n/**\n * Name = Utils\n * URL = db://assets/framework/Utils.ts\n * Time = Fri Apr 08 2022 14:34:14 GMT+0800 (中国标准时间)\n * Author = xueya\n *\n */\n\n//货币单位\nconst UNIT_TYPE = {\n\tNONE: 0,\n\tK: 1,\n\tM: 2,\n\tB: 3,\n\tT: 4,\n}\n\n\n\nexport namespace Utils {\n\t/** 克隆对象 */\n\texport function clone(data) {\n\t\tif (data == null) {\n\t\t\treturn null;\n\t\t}\n\t\tif (typeof data === 'symbol') {           //Symbol 暂未处理\n\t\t\tconsole.log(\"暂未处理symbol\", data);\n\t\t\treturn data;\n\t\t} else if (typeof data != 'object') {      //基本类型\n\t\t\treturn data;\n\t\t} else if (data instanceof Array) {      //Array\n\t\t\tlet temp = [];\n\t\t\tdata.forEach((item, key) => {\n\t\t\t\tif (item == null || item == undefined) {\n\t\t\t\t\ttemp[key] = null;\n\t\t\t\t} else {\n\t\t\t\t\ttemp[key] = clone(item);\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn temp;\n\t\t} else if (data instanceof Object) {   //Object\n\t\t\tlet res = {};\n\t\t\tfor (let key in data) {\n\t\t\t\tif (data[key] == null || data[key] == undefined) {\n\t\t\t\t\tres[key] = null;\n\t\t\t\t} else {\n\t\t\t\t\tres[key] = clone(data[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t} else {                                //系统对象、自定义对象\n\t\t\tif (data.constructor) {\n\t\t\t\treturn new data.constructor(data);\n\t\t\t} else {\n\t\t\t\tconsole.log(\"错误\", typeof data, data)\n\t\t\t\treturn null\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/** 日志输出 替换console.table */\n\texport function dump(...args: any[]) {\n\t\tif (args.length < 0) {\n\t\t\treturn;\n\t\t}\n\t\tlet backLog = Logger.realLog;\n\t\tlet backContent = backLog;\n\t\tlet color = \"color:#ee7700;\";\n\t\tlet deLog = stack(3) + stack(4);\n\t\tbackLog.call(null, \"%c%s%s:\", color, Logger.getDateString(), deLog);\n\n\t\tif (sys.platform == sys.Platform.DESKTOP_BROWSER) {\n\t\t\tbackContent = Logger.realTable;\n\t\t}\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tlet type = args[i] ? typeof (args[i]) : null;\n\t\t\tif (args[i] && typeof (args[i]) == \"object\") {\n\t\t\t\tbackContent.call(null, args[i]);\n\t\t\t} else {\n\t\t\t\tbackContent.call(null, args[i]);\n\t\t\t}\n\t\t}\n\t}\n\t/** 堆栈 */\n\texport function stack(index: number): string {\n\t\tlet e = new Error();\n\t\tlet lines = e.stack!.split(\"\\n\");\n\t\tlet result: Array<any> = [];\n\t\tlines.forEach((line) => {\n\t\t\tline = line.substring(7);\n\t\t\tlet lineBreak = line.split(\" \");\n\t\t\tif (lineBreak.length < 2) {\n\t\t\t\tresult.push(lineBreak[0]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult.push({ [lineBreak[0]]: lineBreak[1] });\n\t\t\t}\n\t\t});\n\n\t\tlet list: string[] = [];\n\t\tlet splitList: Array<string> = [];\n\t\tif (index < result.length - 1) {\n\t\t\tlet value: string;\n\t\t\tfor (let a in result[index]) {\n\t\t\t\tlet splitList = a.split(\".\");\n\t\t\t\tif (splitList.length == 2) {\n\t\t\t\t\tlist = splitList.concat();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue = result[index][a];\n\t\t\t\t\tlet start = value!.lastIndexOf(\"/\");\n\t\t\t\t\tlet end = value!.lastIndexOf(\".\");\n\t\t\t\t\tif (start > -1 && end > -1) {\n\t\t\t\t\t\tlet r = value!.substring(start + 1, end);\n\t\t\t\t\t\tlist.push(r);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlist.push(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (list.length == 1) {\n\t\t\treturn \"[\" + list[0] + \".ts]\";\n\t\t}\n\t\telse if (list.length == 2) {\n\t\t\treturn \"[\" + list[0] + \".ts->\" + list[1] + \"]\";\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\t/**针对this指向性问题 */\n\texport function handler(obj: Object, func: Function) {\n\t\treturn (...args: any[]) => {\n\t\t\treturn func.call(obj, ...args)\n\t\t}\n\t}\n\t/** 判断空 */\n\texport function isNull(param): boolean {\n\t\tif (typeof (param) == \"number\" && isNaN(param) == false) {\n\t\t\treturn false;\n\t\t}\n\t\tif (param != null && param != undefined) {\n\t\t\treturn false\n\t\t}\n\t\treturn true\n\t}\n\t/** 判断都不为空 */\n\texport function isNotNull(...args: any[]): boolean {\n\t\tlet res = true;\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tif (isNull(args[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\n\t/** 为空设置默认值 */\n\texport function nullToDefault(param, del: any = null) {\n\t\tif (isNull(param)) {\n\t\t\treturn del\n\t\t}\n\t\treturn param\n\t}\n\t/**\n\t * 合并数组 返回一个新数组\n\t * @param args 多个 Array参数 必须全是 []\n\t * @returns \n\t */\n\texport function mergeArray(...args: any[]) {\n\t\tlet params = new Array();\n\t\tlet objectNum = 0;\n\t\tlet formList = [];\n\t\t[].push.apply(formList, args)\n\t\tif (formList.length > 0) {\n\t\t\tformList.forEach((item, index) => {\n\t\t\t\tif (item instanceof Array) {\n\t\t\t\t\tobjectNum = objectNum + 1;\n\t\t\t\t\tfor (let i = 0; i < item.length; i++) {\n\t\t\t\t\t\tlet value = item[i];\n\t\t\t\t\t\tparams.push(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (objectNum == 0) {\n\t\t\treturn params\n\t\t}\n\t\treturn params\n\t}\n\n\t/**\n\t * 合并对象 返回一个新对象\n\t * @param args 多个 Object参数 必须全是 {}\n\t * @returns \n\t */\n\texport function mergeObject(...args: any[]) {\n\t\tlet params = {}\n\t\tlet objectNum = 0;\n\t\tlet formList = [];\n\t\t[].push.apply(formList, args)\n\t\tif (formList.length > 0) {\n\t\t\tformList.forEach((item, index) => {\n\t\t\t\tif (item && typeof (item) == \"object\") {\n\t\t\t\t\tobjectNum = objectNum + 1\n\t\t\t\t\tfor (let key in item) {\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(item, key)) {\n\t\t\t\t\t\t\tlet value = item[key];\n\t\t\t\t\t\t\tif (value != null && params[key] != null) {//注意：null的类型为object\n\t\t\t\t\t\t\t\tif (typeof (value) == \"object\" && typeof (params[key]) == \"object\") {\n\t\t\t\t\t\t\t\t\tvalue = mergeObject(params[key], value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparams[key] = value\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (objectNum == 0) {\n\t\t\treturn {}\n\t\t}\n\t\treturn params\n\t}\n\t/**\n\t * 合并对象 返回第一个遇见的对象(原始表)\n\t * @param args 多个 Object参数 必须全是 {}\n\t * @returns \n\t */\n\texport function mergeObjectSelf(...args: any[]) {\n\t\tlet params = null;\n\t\tlet objectNum = 0;\n\t\tlet formList = [];\n\t\t[].push.apply(formList, args)\n\t\tif (formList.length > 0) {\n\t\t\tformList.forEach((item, index) => {\n\t\t\t\tif (item && typeof (item) == \"object\") {\n\t\t\t\t\tobjectNum = objectNum + 1\n\t\t\t\t\tif (!params) {\n\t\t\t\t\t\tparams = item;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let key in item) {\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(item, key)) {\n\t\t\t\t\t\t\tlet value = item[key];\n\t\t\t\t\t\t\tif (value != null && params[key] != null) {//注意：null的类型为object\n\t\t\t\t\t\t\t\tif (typeof (value) == \"object\" && typeof (params[key]) == \"object\") {\n\t\t\t\t\t\t\t\t\tvalue = mergeObject(params[key], value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (objectNum == 0) {\n\t\t\treturn {}\n\t\t}\n\t\treturn params\n\t}\n\n\t//**number扩展 */  -15  4  = 1   -15  -4  = -3\n\t/**\n\t * number取模\n\t * @param a \n\t * @param b \n\t * @returns number\n\t */\n\texport function number_mod(a: number, b: number): number {\n\t\tlet c = Math.abs(a) % Math.abs(b)\n\t\tif (a < 0) {\n\t\t\tif (b < 0) {\n\t\t\t\tc = 0 - c;\n\t\t\t} else {\n\t\t\t\tif (c != 0) {\n\t\t\t\t\tc = 0 - c;\n\t\t\t\t\tc = c + b;\n\t\t\t\t}\n\n\t\t\t}\n\t\t} else {\n\t\t\tif (b < 0) {\n\t\t\t\tif (c != 0) {\n\t\t\t\t\tc = 0 - c;\n\t\t\t\t\tc = c + Math.abs(b);\n\t\t\t\t\tc = 0 - c;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn c;\n\t}\n\t//转换成0x0000格式的十六进制数\n\texport function number_formatToHex(param) {\n\t\tparam = number_valueOf(param)\n\t\tlet str = param.toString(16)\n\t\treturn \"0x\" + str\n\t}\n\n\t/**\n\t * 转换成数字，若无法转换成数字，返回默认值，没给定默认值则返回0\n\t * @param param \n\t * @param d \n\t * @returns \n\t */\n\texport function number_valueOf(param, d: any = 0) {\n\t\tlet num = Number(param)\n\t\tif (isNaN(num)) {\n\t\t\treturn d\n\t\t}\n\t\treturn num\n\t}\n\n\t//判断数字长度，超出限制转化为文字显示\n\texport function number_textOf(param: number, retainNum: number) {//传入一个需要保留的位数：\n\t\tif (!param) {\n\t\t\treturn \"\"\n\t\t}\n\t\tlet numLen: number = param.toString().length;\n\t\tlet numString: string;\n\t\tif (numLen >= 3 && numLen <= 5) {\n\t\t\tnumString = param.toString().replace(/(\\d)(?=(\\d{3})+$)/g, '$1,');\n\t\t} else if (numLen > 5 && numLen <= 8) {\n\t\t\tlet a = Math.floor(param / 10000);\n\t\t\tlet b = Math.floor((param % 10000) / Math.pow(10, 4 - retainNum));\n\t\t\tif (retainNum == 0) {\n\t\t\t\tnumString = `${a}万`\n\t\t\t} else {\n\t\t\t\tnumString = `${a}.${b}万`\n\t\t\t}\n\n\t\t} else if (numLen > 8) {\n\t\t\tlet a = Math.floor(param / 100000000);\n\t\t\tlet b = Math.floor((param % 100000000) / Math.pow(10, 8 - retainNum));\n\t\t\tif (retainNum == 0) {\n\t\t\t\tnumString = `${a}亿`\n\t\t\t} else {\n\t\t\t\tnumString = `${a}.${b}亿`\n\t\t\t}\n\t\t}\n\t\treturn numString;\n\t}\n\n\t//小数点后最多dot位 例如：(23458, 3, 2)->(2.35万, 2.35, 1)\n\texport function getFormatNumber(param: number, dot: number = 2) {\n\t\tlet _k = 10000 //K\n\t\tlet _m = 1000000 //M\n\t\tlet _b = 1000000000 //B\n\t\tlet _t = 1000000000000 //T\n\n\t\tparam = param || 0\n\n\t\tlet originNum = param\n\n\t\tlet b = 0 > param\n\t\tlet __number = Math.abs(param)\n\n\t\tlet u = UNIT_TYPE.NONE\n\t\tif (__number >= _t) {\n\t\t\t__number = __number / _t\n\t\t\tu = UNIT_TYPE.T\n\t\t} else if (__number >= _b) {\n\t\t\t__number = __number / _b\n\t\t\tu = UNIT_TYPE.B\n\t\t} else if (__number >= _m) {\n\t\t\t__number = __number / _m\n\t\t\tu = UNIT_TYPE.M\n\t\t} else if (__number >= _k) {\n\t\t\t__number = __number / _k\n\t\t\tu = UNIT_TYPE.K\n\t\t}\n\n\t\tif (u >= UNIT_TYPE.NONE) {\n\t\t\tlet ndot = Math.pow(10, dot)\n\t\t\tlet ndecimal = 1 / ndot\n\t\t\t//修正小数精度问题\n\t\t\t__number = __number + 0.000001\n\t\t\t__number = __number - __number % ndecimal\n\n\t\t\tif (originNum > 0 && originNum < 0.01) {\n\t\t\t\t__number = 0.01\n\t\t\t}\n\n\t\t}\n\t\t/** 修正高精度数字不太精准问题 */\n\t\tlet s = __number.toString()\n\t\tlet biaodian_index = s.indexOf(\".\")\n\t\tif (biaodian_index > 0) {\n\t\t\ts = s.substring(0, biaodian_index + dot + 1)\n\t\t}\n\n\t\tswitch (u) {\n\t\t\tcase UNIT_TYPE.K:\n\t\t\t\ts = s + GameTxt.unit_k\n\t\t\t\tbreak;\n\t\t\tcase UNIT_TYPE.M:\n\t\t\t\ts = s + GameTxt.unit_m\n\t\t\t\tbreak;\n\t\t\tcase UNIT_TYPE.B:\n\t\t\t\ts = s + GameTxt.unit_b\n\t\t\t\tbreak;\n\t\t\tcase UNIT_TYPE.T:\n\t\t\t\ts = s + GameTxt.unit_t\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tif (b) {\n\t\t\ts = \"-\" + s\n\t\t}\n\t\treturn s\n\t}\n\t//返回插入特殊字符后的人民币 数字，88,888,888]]\n\t/**\n\t * 数字按千分位转换 88,888,888 \n\t * @param num 要转换的数字\n\t * @param letter 用来填充的字符\n\t * @param isShowPN 是否显示正负 默认显示\n\t * @returns \n\t */\n\texport function string_matchStr(num: number = null, letter: string = \",\", isShowPN: boolean = true): string | null {\n\t\tnum = Number(num);\n\t\tif (num == null || num == undefined || isNaN(num)) {\n\t\t\treturn null\n\t\t}\n\t\t//正或负\n\t\tlet PorN: boolean = num >= 0\n\t\tlet appendStr = \"\"\n\t\tlet tempNum = Math.abs(num)\n\t\tlet tempstr = \"\"\n\n\t\twhile (tempNum > 0) {\n\t\t\tif (tempNum < 1000) {\n\t\t\t\ttempstr = (tempNum % 1000) + \"\"\n\t\t\t\tif (appendStr.length > 0) {\n\t\t\t\t\tappendStr = tempstr + letter + appendStr\n\t\t\t\t\ttempNum = Math.floor(tempNum / 1000)\n\t\t\t\t} else {\n\t\t\t\t\tappendStr = tempstr + \"\" + appendStr\n\t\t\t\t\ttempNum = Math.floor(tempNum / 1000)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (appendStr.length == 0) {\n\t\t\t\t\ttempstr = (1000 + tempNum % 1000) + \"\"\n\t\t\t\t\tappendStr = appendStr + \"\" + tempstr.slice(1, 4)\n\t\t\t\t\ttempNum = Math.floor(tempNum / 1000)\n\t\t\t\t} else {\n\t\t\t\t\ttempstr = (1000 + tempNum % 1000) + \"\"\n\t\t\t\t\tappendStr = tempstr.slice(1, 4) + letter + appendStr\n\t\t\t\t\ttempNum = Math.floor(tempNum / 1000)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (appendStr.length == 0) {\n\t\t\tappendStr = tempNum + \"\"\n\t\t}\n\t\tif (isShowPN) {\n\t\t\tif (!PorN) {\n\t\t\t\tappendStr = \"-\" + appendStr\n\t\t\t}\n\t\t}\n\t\treturn appendStr\n\t}\n\t/**\n\t * 将长数值转为以“万”或“亿”结尾的数值\n\t * uihelper.to_short_number(1234567) -> 123.46万\n\t * uihelper.to_short_number(1230000) -> 123万\n\t * @param money \n\t * @param isSimplify 是否小数去零 默认false 不取\n\t * @returns \n\t */\n\texport function string_moneyToShortNumber(money, isSimplify = false): string {\n\t\tmoney = number_valueOf(money);\n\t\tlet str = \"\";\n\n\t\tif (money >= 100000000) {\n\t\t\tmoney = Number(money / 100000000);\n\t\t\tlet findTab = String(money).split(\".\");\n\t\t\tstr = str + String(findTab[0]);\n\t\t\tif (findTab.length == 2) {\n\t\t\t\tlet endStr = String(findTab[1]).slice(0, 2);\n\n\t\t\t\tif (isSimplify) {\n\t\t\t\t\tfor (let i = endStr.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (endStr.substring(i + 1, i) == \"0\") {\n\t\t\t\t\t\t\tendStr = endStr.substring(0, i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (endStr.length > 0) {\n\t\t\t\t\tstr = str + \".\" + endStr;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstr = str + \"亿\";\n\t\t\treturn str;\n\t\t}\n\t\tif (money >= 10000) {\n\t\t\tmoney = Number(money / 10000);\n\t\t\tlet findTab = String(money).split(\".\");\n\t\t\tstr = str + String(findTab[0]);\n\t\t\tif (findTab.length == 2) {\n\t\t\t\tlet endStr = String(findTab[1]).slice(0, 2);\n\n\t\t\t\tif (isSimplify) {\n\t\t\t\t\tfor (let i = endStr.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (endStr.substring(i + 1, i) == \"0\") {\n\t\t\t\t\t\t\tendStr = endStr.substring(0, i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (endStr.length > 0) {\n\t\t\t\t\tstr = str + \".\" + endStr;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstr = str + \"万\";\n\t\t\treturn str;\n\t\t}\n\t\tstr = String(money);\n\t\treturn str;\n\t}\n\t/**\n\t * 格式化货币\n\t * @param money 要格式化的数值\n\t * @param isWager 是否取整\n\t * @param isSimplify 是否小数去零\n\t * @param isSign 是否加+ -\n\t * @param isEnglish 是否英文单位\n\t */\n\texport function string_moneyToChange(money, isWager = false, isSimplify = false, isSign = false, isEnglish = false) {\n\t\tmoney = number_valueOf(money);\n\t\tlet str = \"\";\n\t\tif (isSign) {\n\t\t\tif (money < 0) {\n\t\t\t\tmoney = money - (money * 2);\n\t\t\t\tstr = \"-\";\n\t\t\t} else if (money > 0) {\n\t\t\t\tstr = \"+\";\n\t\t\t}\n\t\t}\n\t\t//换算的位算\n\t\tlet getNumberStr = function (standardNum) {\n\t\t\t//1234567 若standardNum = 5  a=123 b=45\n\t\t\tlet strMoney = String(money);\n\t\t\tlet a = strMoney.substring(0, strMoney.length - standardNum + 1);\n\t\t\tif (isWager) {\n\t\t\t\treturn a;\n\t\t\t};\n\t\t\t//后续两位\n\t\t\tlet b = strMoney.substring(strMoney.length - standardNum + 1, strMoney.length - standardNum + 3);\n\t\t\tif (isSimplify) {\n\t\t\t\tfor (let i = b.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (b.substring(i + 1, i) == \"0\") {\n\t\t\t\t\t\tb = b.substring(0, i);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (b.length < 1) {\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn a + \".\" + b;\n\t\t}\n\t\tif (money >= 100000000) {\n\t\t\tstr = str + getNumberStr(9) + \"亿\";\n\t\t} else if (money >= 10000) {\n\t\t\tif (isEnglish) {\n\t\t\t\tstr = str + getNumberStr(5) + \"w\";\n\t\t\t} else {\n\t\t\t\tstr = str + getNumberStr(5) + \"万\";\n\t\t\t}\n\t\t} else {\n\t\t\tstr = str + String(money);\n\t\t}\n\t\treturn str;\n\t}\n\t//**string扩展 */\n\t//英文字母转成ascii数字 得到的是个十进制数\n\texport function string_codeToASCII(param: string): number | null {\n\t\tlet res = null;\n\t\tparam = String(param);\n\t\tif (param && param.length) {\n\n\t\t\tfor (let i = 0; i < param.length; i++) {\n\t\t\t\tlet aa = param.charCodeAt(i)\n\n\t\t\t\tif (!isNaN(aa)) {\n\t\t\t\t\tif (!res) {\n\t\t\t\t\t\tres = \"\"\n\t\t\t\t\t}\n\t\t\t\t\tres = res + aa\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (res) {\n\t\t\t\tres = Number(res)\n\t\t\t}\n\t\t}\n\n\t\treturn res\n\t}\n\t//获取字符串字节长度\n\texport function string_getBytesLength(param: string): number {\n\t\tlet totalLength = 0;\n\t\tparam = String(param);\n\t\tif (param && param.length) {\n\t\t\tlet charCode;\n\t\t\tfor (let i = 0; i < param.length; i++) {\n\t\t\t\tcharCode = param.charCodeAt(i);\n\t\t\t\tif (charCode < 0x007f) {\n\t\t\t\t\ttotalLength++;\n\t\t\t\t} else if ((0x0080 <= charCode) && (charCode <= 0x07ff)) {\n\t\t\t\t\ttotalLength += 2;\n\t\t\t\t} else if ((0x0800 <= charCode) && (charCode <= 0xffff)) {\n\t\t\t\t\ttotalLength += 3;\n\t\t\t\t} else {\n\t\t\t\t\ttotalLength += 4;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn totalLength;\n\t}\n\n\t/** 判断字符串是否为空 */\n\texport function string_isEmpty(param: string): boolean {\n\t\tif (isNull(param)) {\n\t\t\treturn true\n\t\t}\n\t\tif (param == \"\") {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\t/** 判断字符串是否为HTTP地址 */\n\texport function string_isHttp(param: string): boolean {\n\t\tlet res = string_isEmpty(param);\n\t\tif (res) {\n\t\t\treturn false;\n\t\t}\n\t\tlet str = String(param).toLowerCase();\n\t\tif (str.search(\"http://\") > -1) {\n\t\t\treturn true;\n\t\t} else if (str.search(\"https://\") > -1) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false\n\t}\n\n\n\t/** 当前字符串是否都是一个字节的 */\n\texport function string_isAllOneBytes(param: string): boolean {\n\t\tif (!param) {\n\t\t\treturn false;\n\t\t}\n\t\tparam = String(param);\n\n\t\tlet curStrTable = param.split(\"\");\n\n\t\tfor (let i = 0; i < curStrTable.length; i++) {\n\t\t\tlet byteLen = this.string_getBytesLength(curStrTable[i]);\n\t\t\tif (byteLen > 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\n\n\t/**\n\t * 指定字符长度缩略（1中文 = 1长度） 如果字符串长度大于x位，第x位后的用\"...\"显示;\n\t * @param param 要缩略的字符串\n\t * @param maxlen 最大字符(节)长度\n\t * @param isByte 是否字节\n\t * @param del 用来替换的字符\n\t * @returns \n\t */\n\texport function string_subString(param: string, maxlen: number, isByte: boolean = false, del: string = \"...\") {//传入一个数字，表示多少位后的字符串需要省略\n\t\tif (!param) {\n\t\t\treturn \"\"\n\t\t}\n\t\tparam = String(param);\n\t\tlet byteLenth = this.string_getBytesLength(param);\n\t\tlet str: string;\n\n\t\tif (isByte) {\n\t\t\tif (byteLenth > maxlen) {\n\t\t\t\t// str = param.slice(0, maxlen)\n\t\t\t\tlet curLen = 0;\n\t\t\t\tlet curStrTable = param.split(\"\");\n\t\t\t\tlet curStr = \"\";\n\n\t\t\t\tfor (let i = 0; i < curStrTable.length; i++) {\n\t\t\t\t\tlet byteLen = this.string_getBytesLength(curStrTable[i]);\n\t\t\t\t\tif ((byteLen + curLen) > maxlen) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurLen = curLen + byteLen;\n\t\t\t\t\t\tcurStr = curStr + curStrTable[i]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstr = curStr + del;\n\t\t\t} else {\n\t\t\t\tstr = param;\n\t\t\t}\n\t\t\treturn str;\n\t\t}\n\n\t\tif (param.length > maxlen) {\n\t\t\tstr = param.slice(0, maxlen)\n\t\t\tstr = str + del;\n\t\t} else {\n\t\t\tstr = param;\n\t\t}\n\t\treturn str;\n\t}\n\t//判断字符串是否违规\n\texport function string_isViolation(param: string) {\n\t\tlet violationList = [];//违规字符的示例数组\n\t\tlet str: string;\n\t\tfor (let violationString of violationList) {\n\t\t\tif (param.indexOf(violationString) != -1) {\n\t\t\t\tstr = param.replace(violationString, \"*\");//如果含有违规字符，则替换成*\n\t\t\t} else {\n\t\t\t\tstr = param;\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n\t//字符串格式化\n\texport function string_format(str, ...args: any[]): string {\n\t\tif (!str || args.length == 0) {\n\t\t\treturn \"\"\n\t\t}\n\t\tlet result = String(str);\n\t\tif (args.length == 1 && typeof (args[0]) == \"object\" && args[0] != null) {\n\t\t\tfor (let key in args[0]) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(args[0], key)) {\n\t\t\t\t\tlet reg = new RegExp(\"({\" + key + \"})\", \"g\");\n\t\t\t\t\tresult = result.replace(reg, args[0][key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\t\tlet reg = new RegExp(\"({[\" + i + \"]})\", \"g\");\n\t\t\t\tresult = result.replace(reg, String(args[i]));\n\t\t\t}\n\t\t}\n\t\treturn result\n\t}\n\n\t/** 字符串格式化(str为符合lua规范的字符串) */\n\texport function string_formatByLua(str, ...args: any[]): string {\n\t\tlet keyList = { \"s\": true, \"d\": true };\n\t\tstr = String(str);\n\t\tlet splitTab = str.split(\"\");\n\t\tlet newStr = \"\";\n\t\tlet newTab = [];\n\t\tlet isNeedInsert = false;\n\t\tlet currowIndex = 0;\n\t\tlet count = 0;\n\t\tfor (let i = 0; i < splitTab.length; i++) {\n\n\t\t\tisNeedInsert = false;\n\t\t\tlet v = splitTab[currowIndex];\n\t\t\tif (v) {\n\t\t\t\tif (v == \"%\" && splitTab[currowIndex + 1] != null) {\n\t\t\t\t\tlet nextStr = splitTab[currowIndex + 1];\n\t\t\t\t\t//比较小写字符串\n\t\t\t\t\tif (keyList[String(nextStr).toLowerCase()] != null) {\n\t\t\t\t\t\tnewTab.push(\"{\" + count + \"}\");\n\t\t\t\t\t\tcount = count + 1;\n\t\t\t\t\t\tcurrowIndex = currowIndex + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewTab.push(v);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnewTab.push(v);\n\t\t\t\t}\n\t\t\t\tcurrowIndex = currowIndex + 1;\n\t\t\t\tif (currowIndex > splitTab.length) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (let i = 0; i < newTab.length; i++) {\n\t\t\tnewStr = newStr + newTab[i];\n\t\t};\n\t\treturn string_format(newStr, ...args);\n\t}\n\t/**\n\t * 检查字符串是否以给定字符开头 大小写敏感\n\t * @param str 待搜索的字符串\n\t * @param chars 要搜索的字符\n\t * @param position 指定位置查找 默认0\n\t * @returns boolean\n\t */\n\texport function string_startWith(str: String, chars, position: number = 0): boolean {\n\t\tstr = String(str);\n\t\tchars = String(chars);\n\t\treturn str.startsWith(chars, position);\n\t}\n\n\t/**\n\t * 检查字符串是否以给定字符结尾 大小写敏感\n\t * @param str 待搜索的字符串\n\t * @param chars 要搜索的字符\n\t * @param position 指定位置查找 默认最后一位\n\t * @returns boolean\n\t */\n\texport function string_endsWith(str: String, chars, position: number = null): boolean {\n\t\tstr = String(str);\n\t\tif (position == null || typeof (position) != \"number\") {\n\t\t\tposition = str.length;\n\t\t}\n\t\treturn str.endsWith(chars, position);\n\t}\n\t/**\n\t * 字符串去除空格\n\t * @param str 待处理的字符串\n\t * @param type ALL:所有空格(默认) LEFT:左边空格 RIGHT:右边空格,CENTER:中间空格 LEFT-RIGHT:两端空格\n\t * @returns \n\t */\n\texport function string_trim(str: String, type: String = \"ALL\") {\n\t\tif (str == null && str == undefined) {\n\t\t\treturn str;\n\t\t}\n\t\tswitch (type) {\n\t\t\tcase \"LEFT\":\n\t\t\t\treturn str.replace(/^\\s*/g, \"\");\n\t\t\tcase \"RIGHT\":\n\t\t\t\treturn str.replace(/\\s*$/g, \"\");\n\t\t\tcase \"CENTER\":\n\t\t\t\treturn str.replace(/\\s/g, '');\n\t\t\tcase \"LEFT-RIGHT\":\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n\t\t\tdefault:\n\t\t\t\treturn str.replace(/\\s+/g, \"\");\n\t\t}\n\t};\n\t/** 字符串去除所有换行 */\n\texport function string_clearBr(str: String) {\n\t\tif (str == null && str == undefined) {\n\t\t\treturn str;\n\t\t}\n\t\tstr = str.replace(/<\\/?.+?>/g, \"\");\n\t\tstr = str.replace(/[\\r\\n]/g, \"\")\n\t\treturn str;\n\t};\n\n\t/**\n\t * 查找到的字符只替换最后一位\n\t * @param str \n\t * @param findStr \n\t * @param replaceStr \n\t * @returns \n\t */\n\texport function string_replaceLast(str, findStr, replaceStr) {\n\t\tif (str == null && str == undefined) {\n\t\t\treturn null;\n\t\t}\n\t\tstr = String(str);\n\t\tlet endIndex = str.lastIndexOf(String(findStr));\n\t\tif (endIndex == -1) {\n\t\t\treturn str;\n\t\t}\n\t\tlet one = str.substring(0, endIndex);\n\t\tlet two = str.substring(endIndex + 1, str.length);\n\t\treturn one + String(replaceStr) + two;\n\t}\n\t/**\n\t * 文件路径取文件名称\n\t * @param filePath 文件路径 image/file/img.png\n\t * @param hasSuffix 结果是否保留后缀名 默认false 不保留\n\t * @returns string\n\t */\n\texport function string_splitFileName(filePath: string, hasSuffix: boolean = false): string {\n\t\tif (filePath == null && filePath == undefined || filePath == \"\") {\n\t\t\treturn filePath;\n\t\t}\n\t\tfilePath = String(filePath);\n\t\tlet pathName = \"\";\n\t\tlet trim = filePath.split(\"/\");\n\t\tif (trim.length > 0) {\n\t\t\tpathName = trim[trim.length - 1];\n\t\t\tpathName = String(pathName);\n\t\t\tif (hasSuffix == false) {\n\t\t\t\tlet dotIndex = pathName.lastIndexOf(\".\");\n\n\t\t\t\tif (dotIndex == -1) {\n\t\t\t\t\t//非文件属性 可能是文件夹\n\t\t\t\t\treturn pathName;\n\t\t\t\t}\n\t\t\t\tpathName = pathName.substring(0, dotIndex);\n\t\t\t}\n\t\t}\n\t\treturn pathName;\n\t};\n\t/** 根据字符分割成两个字符串(不包含分割字符) */\n\texport function string_spliteTwoByChar(input, char) {\n\t\tif (input == null) {\n\t\t\treturn null;\n\t\t}\n\t\tlet index = String(input).indexOf(String(char));\n\t\tif (index != -1) {\n\t\t\tlet one = String(input).slice(0, index);\n\t\t\tlet two = String(input).slice(index + 1, String(input).length);\n\t\t\treturn [one, two, index]\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**table:map、array扩展 */\n\t//判断是否是一个空数组/对象\n\texport function table_isEmpty(param): boolean {\n\t\tif (param == null || param == undefined) {\n\t\t\treturn true;\n\t\t}\n\t\tif (typeof (param) != \"object\") {\n\t\t\treturn true\n\t\t}\n\t\tlet res = false;\n\t\ttry {\n\t\t\tres = (JSON.stringify(param) == \"[]\" || JSON.stringify(param) == \"{}\");\n\t\t\tif (!res) {\n\t\t\t\tres = true;\n\t\t\t\tfor (let key in param) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(param, key) && res == true) {\n\t\t\t\t\t\tlet v = param[key];\n\t\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\t\tres = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res\n\t\t} catch (error) {\n\t\t\treturn res\n\t\t}\n\t}\n\t/**\n\t * 去除空数据\n\t * @param obj \n\t * @returns \n\t */\n\texport function table_delEmpty(obj) {\n\t\tif (obj == null) {\n\t\t\treturn null;\n\t\t}\n\t\tif (typeof (obj) != \"object\") {\n\t\t\treturn obj;\n\t\t}\n\t\tObject.keys(obj).forEach((key) => {\n\t\t\tlet value = obj[key];\n\t\t\tif (value != null) {\n\t\t\t\tif (typeof (value) == 'object') {\n\t\t\t\t\ttable_delEmpty(value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdelete obj[key];\n\t\t\t}\n\t\t});\n\t\treturn obj;\n\t};\n\n\t/** 判断Array  [] 或 new Array {}为Object*/\n\texport function isArray(param): boolean {\n\t\tif (param && typeof (param) == \"object\") {\n\t\t\tif (Object.prototype.toString.call(param) === '[object Array]') {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\t/** 判断 Object */\n\texport function isObject(param): boolean {\n\t\tif (param && typeof (param) == \"object\") {\n\t\t\tif (Object.prototype.toString.call(param) === '[object Object]') {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\t/**\n\t * 在table中查找值相等 返回key\n\t * @param hashtable []或者{}\n\t * @param value 欲比较的值\n\t * @returns \n\t */\n\texport function table_keyof(hashtable, value): any | null {\n\t\tif (!hashtable || typeof (hashtable) != \"object\") {\n\t\t\treturn null;\n\t\t}\n\t\tif (hashtable instanceof Array) {\n\t\t\tfor (let i = 0; i < hashtable.length; i++) {\n\t\t\t\tif (value == hashtable[i]) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tlet res = null;\n\t\t\tfor (let i in hashtable) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(hashtable, i) && res == null) {\n\t\t\t\t\tif (value == hashtable[i]) {\n\t\t\t\t\t\tres = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t\treturn null;\n\t}\n\t/**\n\t * Object或Array的长度\n\t * @param table \n\t * @returns \n\t */\n\texport function table_length(table): number {\n\t\tif (!table || typeof (table) != \"object\") {\n\t\t\treturn 0;\n\t\t}\n\t\tif (table instanceof Array) {\n\t\t\treturn table.length;\n\t\t} else {\n\t\t\tlet count = 0;\n\t\t\tfor (let i in table) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(table, i)) {\n\t\t\t\t\tcount = count + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\t}\n\t/**\n\t * table校验，返回自身或者{}、[]\n\t * @param param \n\t * @param isArray 默认false 为空时返回{}\n\t * @returns \n\t */\n\texport function table_verify(param, isArray = false) {\n\t\tif (!param) {\n\t\t\tif (isArray) {\n\t\t\t\treturn [];\n\t\t\t} else {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t}\n\t\tlet propty = Object.prototype.toString.call(param);\n\t\tif (propty === '[object Object]' || propty == \"[object Array]\") {\n\t\t\treturn param\n\t\t}\n\t\tif (isArray) {\n\t\t\treturn [];\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\t/**\n\t * table的深拷贝，不能进行json处理的\n\t * @param obj 要拷贝的实例\n\t * @returns \n\t */\n\texport function table_DeepClone(obj) {\n\t\tif (obj == null) {\n\t\t\treturn null;\n\t\t}\n\t\t// console.log(\"table的深拷贝===<\", typeof (obj), obj)\n\t\tif (typeof (obj) != \"object\") {\n\t\t\treturn obj;\n\t\t}\n\t\t// 判断拷贝的要进行深拷贝的是数组还是对象，是数组的话进行数组拷贝，对象的话进行对象拷贝\n\t\tlet objClone = null;\n\t\tif (Array.isArray(obj)) {\n\t\t\tobjClone = [];\n\t\t} else {\n\t\t\tobjClone = {};\n\t\t};\n\t\t// 进行深拷贝的不能为空，并且是对象或者是\n\t\tif (obj != null && typeof (obj) === 'object') {\n\t\t\tlet Data = Object.keys(obj);\n\t\t\tfor (let i = 0; i < Data.length; i += 1) {\n\t\t\t\tif (obj[Data[i]] != null && typeof (obj[Data[i]]) === 'object') {\n\t\t\t\t\tobjClone[Data[i]] = table_DeepClone(obj[Data[i]]);\n\t\t\t\t} else {\n\t\t\t\t\tobjClone[Data[i]] = obj[Data[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn objClone;\n\t}\n\t/**\n\t * table排序 按ASCII字母排序 A-Z\n\t * @param table 要排序的数组\n\t * @param caseIgnore 是否忽略大小写 默认不忽略\n\t */\n\texport function table_sortAscii_AtoZ(table, caseIgnore: boolean = false) {\n\t\tif (!isObject(table) || !isArray(table)) {\n\t\t\treturn null\n\t\t}\n\t\tif (isArray(table)) {\n\t\t\ttable.sort(function (s1, s2) {\n\t\t\t\tlet x1 = s1;\n\t\t\t\tlet x2 = s2;\n\t\t\t\tif (caseIgnore == true) {\n\t\t\t\t\tx1 = s1.toUpperCase();\n\t\t\t\t\tx2 = s2.toUpperCase();\n\t\t\t\t}\n\t\t\t\tif (x1 < x2) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\tif (x1 > x2) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\treturn table;\n\t\t}\n\t\tif (isObject(table)) {\n\t\t\tlet map = new Map();\n\t\t\tfor (let key in table) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(table, key)) {\n\t\t\t\t\tmap.set(key, table[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (map.size > 0) {\n\t\t\t\tlet arrayLike = Array.from(map)\n\t\t\t\t//得到的array中索引0为map中的key,索引1为map中的value\n\t\t\t\tarrayLike.sort(function (a, b) {\n\t\t\t\t\tlet x1 = a[0];\n\t\t\t\t\tlet x2 = b[0];\n\t\t\t\t\tif (caseIgnore == true) {\n\t\t\t\t\t\tx1 = x1.toUpperCase();\n\t\t\t\t\t\tx2 = x2.toUpperCase();\n\t\t\t\t\t}\n\t\t\t\t\tif (x1 < x2) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (x1 > x2) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t})\n\t\t\t\treturn arrayLike;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/** 时间相关 */\n\t/**\n\t * 获取时间戳 精确到毫秒\n\t * @returns number\n\t */\n\texport function timeEx(): number {\n\t\treturn new Date().getTime()\n\t}\n\t/**\n\t * 获取时间戳 精确到秒\n\t * @returns number\n\t */\n\texport function time(): number {\n\t\treturn Math.round(Utils.timeEx() / 1000)\n\t}\n\t/**\n\t * 时间戳转时间\n\t * @param num \n\t * @returns object {year:?,month:?,day:?,hour:?,minutes:?,seconds:?}\n\t */\n\texport function timeToDataArray(num: number): Object {\n\t\tif (isNull(num)) {\n\t\t\treturn null\n\t\t}\n\t\tlet size = num.toString().length\n\n\t\tif (size != 10 && size != 13) {\n\t\t\treturn null\n\t\t}\n\t\t//时间戳为10位需*1000，时间戳为13位的话不需乘1000\n\t\tif (size == 10) {\n\t\t\tnum = num * 1000\n\t\t}\n\t\tlet date = new Date(num);\n\n\t\tlet array = {\n\t\t\tyear: date.getFullYear(),\n\t\t\tmonth: date.getMonth() + 1,\n\t\t\tday: date.getDate(),\n\t\t\thour: date.getHours(),\n\t\t\tminutes: date.getMinutes(),\n\t\t\tseconds: date.getSeconds()\n\t\t}\n\t\treturn array;\n\t}\n\t/**\n\t * 获取今天星期几\n\t * @returns number 1~7\n\t */\n\texport function time_getWeekday(): number {\n\t\tlet weekday = new Date().getDay();\n\t\tif (weekday == 0) {\n\t\t\treturn 7\n\t\t}\n\t\treturn weekday;\n\t}\n\n\t/**\n\t * 时间字符串格式化输出\n\t * @param num \n\t * @param strFormat 格式化的字符串 ex:{0}年{1}月{2}日{3}时{4}分{5}秒\n\t * @returns string 字符串\n\t */\n\texport function timeParse(num: number, strFormat: string = null): string {\n\t\tlet data = this.timeToDataArray(num);\n\t\tlet str = \"\";\n\t\tif (data) {\n\t\t\tstrFormat = strFormat || \"{0}年{1}月{2}日{3}时{4}分{5}秒\";\n\t\t\tstr = string_format(strFormat, data.year, data.month, data.day, data.hour, data.minutes, data.seconds)\n\t\t}\n\t\treturn str;\n\t}\n\n\n\t/**\n\t * 是否是同一天\n\t * @param onetime 要比较的时间戳（可为10或13位）\n\t * @param twotime 要比较的时间戳（可为10或13位）\n\t * @returns boolean\n\t */\n\texport function time_isSampleDay(onetime, twotime) {\n\t\tonetime = Number(onetime)\n\t\ttwotime = Number(twotime)\n\t\tif (isNull(onetime) || isNull(twotime)) {\n\t\t\treturn false\n\t\t}\n\t\tlet oneArray = timeToDataArray(onetime)\n\t\tlet twoArray = timeToDataArray(twotime)\n\n\t\tif (isNull(oneArray) || isNull(twoArray)) {\n\t\t\treturn false\n\t\t}\n\t\tif (oneArray[\"year\"] == twoArray[\"year\"] && oneArray[\"month\"] == twoArray[\"month\"] && oneArray[\"day\"] == twoArray[\"day\"]) {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\t/**\n\t * 计算出剩余时间\n\t * @param time 剩余时间 按照毫秒来计算\n\t * @param isToTxt 是否返回文本格式 默认为false\n\t */\n\texport function time_Remaining(time, isToTxt = false) {\n\t\tif (isNull(time)) {\n\t\t\treturn null\n\t\t}\n\t\ttime = Number(time);\n\t\t/** 返回结构 */\n\t\tlet res = {\n\t\t\t/** 天数 */\n\t\t\tday: 0,\n\t\t\t/** 小时数 */\n\t\t\thours: 0,\n\t\t\t/** 分钟数 */\n\t\t\tminutes: 0,\n\t\t\t/** 秒数 */\n\t\t\tseconds: 0\n\t\t}\n\t\t//毫秒级别\n\t\tlet onDayAllTime = (24 * 3600 * 1000);\n\t\tlet onHoursAllTime = (3600 * 1000);\n\t\tlet onMinutesAllTime = (60 * 1000);\n\t\tlet onSecondsAllTime = (1000);\n\n\t\tlet endTime = time;\n\t\tif (endTime >= onDayAllTime) {\n\t\t\tres.day = Math.floor(endTime / onDayAllTime);\n\t\t\tendTime = endTime % onDayAllTime;    //计算天数后剩余的毫秒数\n\t\t};\n\t\tif (endTime >= onHoursAllTime) {\n\t\t\tres.hours = Math.floor(endTime / onHoursAllTime);\n\t\t\tendTime = endTime % onHoursAllTime;    //计算小时后剩余的毫秒数\n\t\t}\n\t\tif (endTime >= onMinutesAllTime) {\n\t\t\tres.minutes = Math.floor(endTime / onMinutesAllTime);\n\t\t\tendTime = endTime % onMinutesAllTime;    //计算分钟数后剩余的毫秒数\n\t\t}\n\t\tif (endTime >= onSecondsAllTime) {\n\t\t\tres.seconds = Math.round(endTime / onSecondsAllTime);\n\t\t\tendTime = endTime % onSecondsAllTime;    //计算分钟数后剩余的毫秒数\n\t\t}\n\n\t\tif (isToTxt) {\n\t\t\tlet txt = \"\";\n\t\t\tif (res.day > 0) {\n\t\t\t\ttxt = txt + res.day + \"天\";\n\t\t\t}\n\t\t\tif (res.hours > 0 || txt != \"\") {\n\t\t\t\ttxt = txt + res.hours + \"时\";\n\t\t\t}\n\t\t\tif (res.minutes > 0 || txt != \"\") {\n\t\t\t\ttxt = txt + res.minutes + \"分\";\n\t\t\t}\n\t\t\tif (res.seconds > 0 || txt != \"\") {\n\t\t\t\ttxt = txt + res.seconds + \"秒\";\n\t\t\t}\n\t\t\treturn txt;\n\t\t} else {\n\t\t\treturn res;\n\t\t}\n\t}\n\n\t//**文件相关 */\n\t/**\n\t *  保存字符串内容到文件。效果相当于从浏览器下载了一个文件到本地。\n\t * @param textToWrite 要保存的文件内容\n\t * @param fileNameToSaveAs 要保存的文件名\n\t */\n\texport function file_saveForBrowser(textToWrite, fileNameToSaveAs) {\n\t\tif (sys.isBrowser) {\n\t\t\tlet textFileAsBlob = new Blob([textToWrite], { type: 'application/json' });\n\t\t\tlet downloadLink = document.createElement(\"a\");\n\t\t\tdownloadLink.download = fileNameToSaveAs;\n\t\t\tdownloadLink.innerHTML = \"Download File\";\n\t\t\tif (window.webkitURL != null) {\n\t\t\t\t// Chrome allows the link to be clicked\n\t\t\t\t// without actually adding it to the DOM.\n\t\t\t\tdownloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Firefox requires the link to be added to the DOM\n\t\t\t\t// before it can be clicked.\n\t\t\t\t/**\n\t\t\t\tdownloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n\t\t\t\tdownloadLink.onclick = destroyClickedElement;\n\t\t\t\tdownloadLink.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(downloadLink);\n\t\t\t\t*/\n\t\t\t}\n\t\t\tdownloadLink.click();\n\t\t}\n\t}\n\n\t/**\n\t * 将ImageAsset图片 转换成SpriteFrame\n\t * @param imageAsset \n\t * @returns \n\t */\n\texport function image_ImageAssetToSpriteFrame(imageAsset: ImageAsset): SpriteFrame | null {\n\t\tif (imageAsset) {\n\t\t\tlet spriteFrame = new SpriteFrame();\n\t\t\tlet texture = new Texture2D();\n\t\t\ttexture.image = imageAsset;\n\t\t\tspriteFrame.texture = texture;\n\t\t\treturn spriteFrame\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 生成精灵帧\n\t * @param width 宽\n\t * @param height 高\n\t * @param color 颜色\n\t * @returns sprite frame\n\t */\n\texport function image_CreateDefaultSpriteFrame(width: number, height: number, color: Color = new Color(255, 255, 255, 255)): SpriteFrame {\n\t\tlet count = width * height * 4;\n\t\tlet data: any = new Uint8Array(count);\n\t\tfor (var j = 0; j < count; j += 4) {\n\t\t\tdata[j] = color.r // r\n\t\t\tdata[j + 1] = color.g // g\n\t\t\tdata[j + 2] = color.b // b\n\t\t\tdata[j + 3] = color.a // a\n\n\t\t}\n\t\tlet imageAsset = new ImageAsset();\n\t\timageAsset.reset({\n\t\t\t_data: data,\n\t\t\t_compressed: false,\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tformat: Texture2D.PixelFormat.RGBA8888\n\t\t});\n\n\t\tlet texture = new Texture2D();\n\t\ttexture.reset({\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tformat: Texture2D.PixelFormat.RGBA8888\n\t\t})\n\t\ttexture.image = imageAsset;\n\n\t\tlet spriteFrame = new SpriteFrame();\n\t\tspriteFrame.texture = texture;\n\t\t// let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAsset);\n\t\t//需要禁用其纹理的 packable 选项 不参与自动合图\n\t\tspriteFrame.packable = false;\n\t\treturn spriteFrame\n\t}\n\n\n\t/**\n\t * 节点世界坐标和宽高转换成屏幕坐标宽高\n\t * @param node 计算的坐标原点在屏幕左上角\n\t * @returns \n\t */\n\texport function node_PositionSizeToScreen(node: Node) {\n\t\tif (!node) {\n\t\t\treturn null;\n\t\t}\n\t\t//适配方案是Fit width\n\t\tlet UIComp = node.getComponent(UITransform);\n\t\tif (!UIComp) {\n\t\t\treturn null;\n\t\t}\n\t\tnode.updateWorldTransform();\n\t\tlet worldPos = new Vec3();\n\t\tnode.getWorldPosition(worldPos);\n\t\t// console.warn(\"世界坐标系:getWorldPosition\", worldPos)\n\t\t//panel的坐标转为屏幕坐标\n\t\tlet width = UIComp.width;\n\t\tlet height = UIComp.height;\n\t\t//屏幕分辨率\n\t\tlet canvasSize = screen.windowSize;\n\t\t//像素比例\n\t\tlet ratio = screen.devicePixelRatio;\n\t\t//scene的设计分辨率\n\t\tlet desiginSize = view.getDesignResolutionSize();\n\t\t//适配模式\n\t\tlet desiginType = GameConfig.instance.ResolutionPolicyType;\n\n\t\t// desiginType.\n\t\t//Fit width适配方案，以width作为缩放基准\n\t\tlet scale = 1;\n\t\tif (desiginType == ResolutionPolicy.FIXED_WIDTH) {\n\t\t\tscale = (canvasSize.width / desiginSize.width);\n\t\t} else if (desiginType == ResolutionPolicy.FIXED_HEIGHT) {\n\t\t\tscale = (canvasSize.height / desiginSize.height);\n\t\t}\n\n\t\t//计算panel在屏幕中的尺寸\n\t\twidth = scale * width;\n\t\theight = scale * height;\n\n\t\t//x,y即屏幕坐标，creator的坐标原点在左下，Android的在左上，需要做个转换。\n\t\t//x轴不变，y轴画布高减去y对应比例的值即为屏幕y坐标。（宽高都以sW为比例计算）\n\t\t// let x = (outPos.x * scale) - (width / 2);\n\t\t// let y = canvasSize.height - (outPos.y * scale) - (height / 2);\n\t\tlet res = new Vec2();\n\t\tres.x = worldPos.x * scale - (width / 2);\n\t\tres.y = canvasSize.height - (worldPos.y * scale) - (height / 2);\n\n\t\tlet size = { width: width, height: height };\n\t\t// console.warn(\"输出转换结果\", res, size, ratio);\n\t\tres.x = res.x / ratio;\n\t\tres.y = res.y / ratio;\n\t\tsize.width = size.width / ratio;\n\t\tsize.height = size.height / ratio;\n\t\t// console.warn(\"转换成像素\", res, size, ratio);\n\n\t\treturn { pos: res, size: size };\n\t}\n\n\n\t/** 基于画布的世界坐标转基于设计分辨率的世界坐标 */\n\texport function node_PositionCanvasToWorldPos(canvasPos: Vec2): Vec2 {\n\t\t//适配模式\n\t\tlet desiginType = GameConfig.instance.ResolutionPolicyType;\n\t\t//scene的设计分辨率\n\t\tlet desiginSize = view.getDesignResolutionSize();\n\n\t\tlet visibleSize = view.getVisibleSize();\n\n\t\t// console.log(\"传进来的值:\", canvasPos);\n\t\t// console.log(\"可见尺寸:\", view.getVisibleSize());\n\t\t// console.log(\"画布大小:\", screen.windowSize);\n\n\t\tlet x = 0;\n\t\tlet y = 0;\n\t\t//view基于画布的左下角坐标\n\t\tlet viewPosX = 0;\n\t\tlet viewPosY = 0;\n\t\tif (desiginType == ResolutionPolicy.FIXED_WIDTH || desiginType == ResolutionPolicy.SHOW_ALL) {\n\t\t\tx = canvasPos.x;\n\t\t\tviewPosY = (visibleSize.height - desiginSize.height) / 2;\n\t\t\tif (canvasPos.y < viewPosY) {\n\t\t\t\ty = 0 - Math.abs(canvasPos.y - viewPosY)\n\t\t\t} else {\n\t\t\t\ty = Math.abs(canvasPos.y - viewPosY)\n\t\t\t}\n\t\t} else if (desiginType == ResolutionPolicy.FIXED_HEIGHT) {\n\t\t\ty = canvasPos.y;\n\t\t\tviewPosX = (visibleSize.width - desiginSize.width) / 2;\n\t\t\tif (canvasPos.x < viewPosX) {\n\t\t\t\tx = 0 - Math.abs(canvasPos.x - viewPosX)\n\t\t\t} else {\n\t\t\t\tx = Math.abs(canvasPos.x - viewPosX)\n\t\t\t}\n\t\t}\n\t\t// console.log(\"计算出的伪世界坐标>\", x, y, canvasPos.y, viewPosY)\n\t\treturn new Vec2(x, y);\n\t}\n\n\t/**\n\t * 创建一个2D节点\n\t * @param name 节点名称\n\t * @returns \n\t */\n\texport function create_2DNode(name: string = null): Node {\n\t\tif (name != null) {\n\t\t\tname = String(name);\n\t\t}\n\t\tlet node = new Node(name);\n\t\tnode.layer = Layers.Enum.UI_2D;\n\n\t\tlet uiTrans: UITransform = node.addComponent(UITransform);\n\t\tuiTrans.anchorPoint = new Vec2(0.5, 0.5);\n\t\tuiTrans.enabled = true;\n\t\treturn node;\n\t}\n\t/**\n\t * 创建一个2D图片节点\n\t * @param name 节点名称\n\t * @returns \n\t */\n\texport function create_2DSprite(spriteFrame: SpriteFrame, name = null): Node {\n\t\tlet node = this.create_2DNode(name);\n\t\tif (node) {\n\t\t\tlet sprite: Sprite = node.addComponent(Sprite);\n\t\t\tsprite.sizeMode = 2;\n\t\t\tsprite.type = 0;\n\t\t\tsprite.trim = true;\n\t\t\tsprite.spriteFrame = spriteFrame;\n\t\t\tsprite.enabled = true;\n\t\t}\n\t\treturn node;\n\t}\n\t/**\n\t * 获取一段贝塞尔曲线\n\t * @param ctrlPosArr 贝塞尔曲线控制点坐标数组\n\t * @param precison 精度，需要计算的该条贝塞尔曲线上的点的数目\n\t * @param resArr 该条贝塞尔曲线上的点（二维坐标）\n\t*/\n\texport function getBezierPos(ctrlPosArr: Array<Vec2>, precison: number): Array<Vec2> {\n\t\tconsole.log(ctrlPosArr)\n\t\tlet resArr: Array<Vec2> = new Array<Vec2>();\n\n\t\t/**贝塞尔曲线控制点数目（阶数）*/\n\t\tlet number: number = ctrlPosArr.length;\n\n\t\tif (number < 2) {\n\t\t\tconsole.warn(\"控制点数不能小于 2\");\n\t\t\treturn resArr;\n\t\t}\n\n\t\t/**杨辉三角数据 */\n\t\tlet yangHuiArr: Array<number> = Utils.getYangHuiTriangle(number);\n\n\t\t//计算坐标\n\t\tfor (let i = 0; i < precison; i++) {\n\n\t\t\tlet t: number = i / precison;\n\t\t\tlet tmpX: number = 0;\n\t\t\tlet tmpY: number = 0;\n\n\t\t\tfor (let j = 0; j < number; j++) {\n\n\t\t\t\ttmpX += Math.pow(1 - t, number - j - 1) * ctrlPosArr[j].x * Math.pow(t, j) * yangHuiArr[j];\n\n\t\t\t\ttmpY += Math.pow(1 - t, number - j - 1) * ctrlPosArr[j].y * Math.pow(t, j) * yangHuiArr[j];\n\t\t\t}\n\n\t\t\t// resArr[i].x = tmpX;\n\t\t\t// resArr[i].y = tmpY;\n\t\t\tresArr[i] = new Vec2(tmpX, tmpY);\n\t\t}\n\t\treturn resArr;\n\t}\n\n\t/**\n\t * 获取杨辉三角对应阶数的值\n\t * @param num 杨辉三角阶数\n\t */\n\texport function getYangHuiTriangle(num: number): Array<number> {\n\t\t//计算杨辉三角\n\t\tlet yangHuiArr = new Array<number>();\n\n\t\tif (num === 1) {\n\t\t\tyangHuiArr[0] = 1;\n\t\t} else {\n\t\t\tyangHuiArr[0] = yangHuiArr[1] = 1;\n\n\t\t\tfor (let i = 3; i <= num; i++) {\n\t\t\t\tlet t = new Array<number>();\n\t\t\t\tfor (let j = 0; j < i - 1; j++) {\n\t\t\t\t\tt[j] = yangHuiArr[j];\n\t\t\t\t}\n\n\t\t\t\tyangHuiArr[0] = yangHuiArr[i - 1] = 1;\n\t\t\t\tfor (let j = 0; j < i - 2; j++) {\n\t\t\t\t\tyangHuiArr[j + 1] = t[j] + t[j + 1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// console.log(yangHuiArr);\n\t\treturn yangHuiArr;\n\t}\n\n\t/**\n\t * 求位于一条线段上已知Y的点\n\t * @param point1 \n\t * @param point2 \n\t * @param insertY \n\t */\n\texport function countPointInSegmentByY(point1: Vec2, point2: Vec2, insertPtY: number) {\n\t\tlet resPoint = new Vec2();\n\t\ttry {\n\t\t\t//斜率\n\t\t\tlet k = 0;\n\t\t\tif (point1.x == point2.x)//不存在斜率x=x1为直线方程90度\n\t\t\t{\n\t\t\t\tresPoint.x = point1.x;\n\t\t\t\tresPoint.y = insertPtY;\n\t\t\t\treturn resPoint;\n\t\t\t}\n\t\t\telse if (point1.y == point2.y && point1.y != insertPtY)//y=y1为直线方程,0度,两条直线平行没有交点\n\t\t\t{\n\t\t\t\treturn resPoint;\n\t\t\t} else if (point1.y == point2.y && point1.y == insertPtY)//0度，两条直线重合，任意点即为交点\n\t\t\t{\n\t\t\t\tresPoint.x = point1.x;\n\t\t\t\tresPoint.y = insertPtY;\n\t\t\t\treturn resPoint;\n\t\t\t} else {\n\t\t\t\tk = (point2.y - point1.y) / (point2.x - point1.x);\n\t\t\t\tlet b = point1.y - k * point1.x;\n\n\t\t\t\tlet x = (insertPtY - b) / k;\n\t\t\t\tresPoint.x = x;\n\t\t\t\tresPoint.y = insertPtY;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(\"point1:\", point1, \"point2:\", point2, insertPtY)\n\t\t\terror(\"countPointInSegmentByY:通过两点计算直线公式失败：\", err);\n\t\t}\n\t\treturn resPoint;\n\n\t}\n\n\texport function rotate3DAround(node: Node, point: Vec3, theta: Vec3, moon: boolean = true) {\n\t\tif (!node || node.isValid == false) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet pos = node.getPosition()\n\t\tif (theta.x != 0) { // 绕x轴旋转\n\t\t\tlet radian = Math.PI * theta.x / 180;\n\t\t\tlet posx = -pos.z;\n\t\t\tlet posy = pos.y;\n\t\t\tlet pntx = -point.z;\n\t\t\tlet pnty = point.y;\n\t\t\tlet radius = Vec2.distance(new Vec2(posx, posy), new Vec2(pntx, pnty)); // 旋转半径\n\t\t\tlet radianStart = Math.atan2(posy - pnty, posx - pntx); // 被旋转的节点相对于旋转点的起始角度\n\t\t\tlet y = radius * Math.sin(radianStart + radian);\n\t\t\tlet x = radius * Math.cos(radianStart + radian);\n\t\t\tlet outx = pntx + x;\n\t\t\tlet outy = pnty + y;\n\t\t\tnode.setPosition(pos.x, outy, -outx);\n\t\t\tif (moon) {\n\t\t\t\tlet eulerAngles = node.eulerAngles;\n\t\t\t\tnode.setRotationFromEuler(eulerAngles.x + theta.x, eulerAngles.y, eulerAngles.z);\n\t\t\t}\n\t\t} else if (theta.y != 0) { // 绕y轴旋转\n\t\t\tlet radian = Math.PI * theta.y / 180;\n\t\t\tlet posx = pos.x;\n\t\t\tlet posy = -pos.z;\n\t\t\tlet pntx = point.x;\n\t\t\tlet pnty = -point.z;\n\t\t\tlet radius = Vec2.distance(new Vec2(posx, posy), new Vec2(pntx, pnty)); // 旋转半径\n\t\t\tlet radianStart = Math.atan2(posy - pnty, posx - pntx); // 被旋转的节点相对于旋转点的起始角度\n\t\t\tlet y = radius * Math.sin(radianStart + radian);\n\t\t\tlet x = radius * Math.cos(radianStart + radian);\n\t\t\tlet outx = pntx + x;\n\t\t\tlet outy = pnty + y;\n\t\t\tnode.setPosition(outx, pos.y, -outy);\n\t\t\tif (moon) {\n\t\t\t\tlet eulerAngles = node.eulerAngles;\n\t\t\t\tnode.setRotationFromEuler(eulerAngles.x, eulerAngles.y + theta.y, eulerAngles.z);\n\t\t\t}\n\t\t} else if (theta.z != 0) { // 绕z轴旋转\n\t\t\tlet radian = Math.PI * theta.z / 180;\n\t\t\tlet posx = pos.x;\n\t\t\tlet posy = pos.y;\n\t\t\tlet pntx = point.x;\n\t\t\tlet pnty = point.y;\n\t\t\tlet radius = Vec2.distance(new Vec2(posx, posy), new Vec2(pntx, pnty)); // 旋转半径\n\t\t\tlet radianStart = Math.atan2(posy - pnty, posx - pntx); // 被旋转的节点相对于旋转点的起始角度\n\t\t\tlet y = radius * Math.sin(radianStart + radian);\n\t\t\tlet x = radius * Math.cos(radianStart + radian);\n\t\t\tlet outx = pntx + x;\n\t\t\tlet outy = pnty + y;\n\t\t\tnode.setPosition(outx, outy, pos.z);\n\t\t\tif (moon) {\n\t\t\t\tlet eulerAngles = node.eulerAngles;\n\t\t\t\tnode.setRotationFromEuler(eulerAngles.x, eulerAngles.y, eulerAngles.z - theta.z);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 3d对象环绕某个轴旋转一定角度，并保持3d对象相对于轴的角度不变。举例如月球环绕地球\n\t * @param node \n\t * @param position \n\t * @param rotaionEuler \n\t * @param point \n\t * @param theta \n\t * @param moon \n\t */\n\texport function rotate3DAroundByPositionRotaion(node: Node, position: Vec3, rotaionEuler: Vec3, point: Vec3, theta: Vec3, moon: boolean = true) {\n\t\tif (!node || node.isValid == false) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet pos = position;\n\t\tif (theta.x != 0) { // 绕x轴旋转\n\t\t\tlet radian = Math.PI * theta.x / 180;\n\t\t\tlet posx = -pos.z;\n\t\t\tlet posy = pos.y;\n\t\t\tlet pntx = -point.z;\n\t\t\tlet pnty = point.y;\n\t\t\tlet radius = Vec2.distance(new Vec2(posx, posy), new Vec2(pntx, pnty)); // 旋转半径\n\t\t\tlet radianStart = Math.atan2(posy - pnty, posx - pntx); // 被旋转的节点相对于旋转点的起始角度\n\t\t\tlet y = radius * Math.sin(radianStart + radian);\n\t\t\tlet x = radius * Math.cos(radianStart + radian);\n\t\t\tlet outx = pntx + x;\n\t\t\tlet outy = pnty + y;\n\t\t\tnode.setPosition(pos.x, outy, -outx);\n\t\t\tif (moon) {\n\t\t\t\tlet eulerAngles = rotaionEuler;\n\t\t\t\tnode.setRotationFromEuler(eulerAngles.x + theta.x, eulerAngles.y, eulerAngles.z);\n\t\t\t}\n\t\t} else if (theta.y != 0) { // 绕y轴旋转\n\t\t\tlet radian = Math.PI * theta.y / 180;\n\t\t\tlet posx = pos.x;\n\t\t\tlet posy = -pos.z;\n\t\t\tlet pntx = point.x;\n\t\t\tlet pnty = -point.z;\n\t\t\tlet radius = Vec2.distance(new Vec2(posx, posy), new Vec2(pntx, pnty)); // 旋转半径\n\t\t\tlet radianStart = Math.atan2(posy - pnty, posx - pntx); // 被旋转的节点相对于旋转点的起始角度\n\t\t\tlet y = radius * Math.sin(radianStart + radian);\n\t\t\tlet x = radius * Math.cos(radianStart + radian);\n\t\t\tlet outx = pntx + x;\n\t\t\tlet outy = pnty + y;\n\t\t\tnode.setPosition(outx, pos.y, -outy);\n\t\t\tif (moon) {\n\t\t\t\tlet eulerAngles = rotaionEuler;\n\t\t\t\tnode.setRotationFromEuler(eulerAngles.x, eulerAngles.y + theta.y, eulerAngles.z);\n\t\t\t}\n\t\t} else if (theta.z != 0) { // 绕z轴旋转\n\t\t\tlet radian = Math.PI * theta.z / 180;\n\t\t\tlet posx = pos.x;\n\t\t\tlet posy = pos.y;\n\t\t\tlet pntx = point.x;\n\t\t\tlet pnty = point.y;\n\t\t\tlet radius = Vec2.distance(new Vec2(posx, posy), new Vec2(pntx, pnty)); // 旋转半径\n\t\t\tlet radianStart = Math.atan2(posy - pnty, posx - pntx); // 被旋转的节点相对于旋转点的起始角度\n\t\t\tlet y = radius * Math.sin(radianStart + radian);\n\t\t\tlet x = radius * Math.cos(radianStart + radian);\n\t\t\tlet outx = pntx + x;\n\t\t\tlet outy = pnty + y;\n\t\t\tnode.setPosition(outx, outy, pos.z);\n\t\t\tif (moon) {\n\t\t\t\tlet eulerAngles = rotaionEuler;\n\t\t\t\tnode.setRotationFromEuler(eulerAngles.x, eulerAngles.y, eulerAngles.z - theta.z);\n\t\t\t}\n\t\t}\n\t}\n}\n"]}