{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/framework/vc/PictureTabDialogComponet.ts"],"names":["ImageAsset","Node","ScrollView","Sprite","Toggle","_decorator","instantiate","GCache","AppEvent","AppSound","GameRes","Utils","resLoader","EventManager","BaseComponent","ccclass","property","PictureTabDialogComponent","tooltip","type","constructor","_allResMapList","Picture_GameRule","_loadResMapList","Map","_curMaxResNum","_curResNum","_dialogType","_curSeletedTab","preLoad","firstRunLoadSuccess","self","set","resConf","i","length","get","oneResConf","j","tab","conf","load","bundle","path","err","imageAsset","print","updateView","content","onLoad","initData","initView","start","comp","node","getComponent","getParams","isNull","resLoad","menuListNode","children","size","oneResLoad","isNotNull","menuNode","menuTemplate","toggle","clickEvents","customEventData","String","spriteFrame","image_ImageAssetToSpriteFrame","checkmark","getChildByName","active","addChild","isChecked","updateViewContent","onClickItem","event","number_valueOf","scrollowContent","scrollToTop","resSelected","contentNode","removeAllChildren","nodeNoTips","imageAssert","creatorSpriteNode","onClickCancel","dispatch","SYS_PLAY_EFFECT","CommClick","destroy","create_2DSprite","onDestroy"],"mappings":"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","sourcesContent":["\nimport { ImageAsset, Node, ScrollView, Sprite, SpriteFrame, Toggle, _decorator, instantiate } from 'cc';\nimport { GCache } from '../../cache/GCache';\nimport { AppEvent } from '../../config/AppEvent';\nimport { AppSound } from '../../config/AppSound';\nimport { GameRes } from '../../config/GameRes';\nimport { Utils } from '../../framework/Utils';\nimport { resLoader } from '../../framework/loader/ResLoader';\nimport { EventManager } from '../../framework/manager/EventManager';\nimport { BaseComponent } from '../../framework/vc/BaseComponent';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = PictureTabDialogComponent\n * URL = db://assets/package/login/scripts/PictureTabDialogComponent.ts\n * Time = Thu Aug 04 2022 17:12:23 GMT+0800 (中国标准时间)\n * Author = xueya\n *\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n * 用户协议和隐私政策\n */\n\n@ccclass('PictureTabDialogComponent')\nexport class PictureTabDialogComponent extends BaseComponent {\n\n    //正文标题\n    @property({ tooltip: \"标题内容\", type: Node })\n    titleNode: Node = null!;\n\n    //正文节点\n    @property({ tooltip: \"正文节点\", type: Node })\n    contentNode: Node = null!;\n\n    //滚动条节点\n    @property({ tooltip: \"滚动条节点\", type: Node })\n    scrollowBarNode: Node = null!;\n    //滚动条容器\n    @property({ tooltip: \"滚动条容器\", type: Node })\n    scrollowContent: Node = null!;\n\n    //菜单模板\n    @property({ tooltip: \"菜单列表节点\", type: Node })\n    menuListNode: Node = null!;\n\n    //菜单模板\n    @property({ tooltip: \"菜单模板\", type: Node })\n    menuTemplate: Node = null!;\n\n    //无内容时的节点\n    @property({ tooltip: \"无内容时的节点\", type: Node })\n    nodeNoTips: Node = null!;\n\n    private _allResMapList = {\n        \"玩法规则\": GameRes.Picture_GameRule,\n    }\n\n    private _loadResMapList: Map<string, Map<number, Map<string, Map<number, ImageAsset>>>> = new Map();\n    //当前最大资源加载数量\n    private _curMaxResNum: Map<string, number> = new Map();\n    //当前资源加载数量\n    private _curResNum: Map<string, number> = new Map();\n    //当前类型\n    private _dialogType: string = null;\n    //当前选择tab\n    private _curSeletedTab: number = 0;\n\n    constructor() {\n        super();\n        this.preLoad();\n    }\n    //预加载\n    preLoad() {\n        if (!GCache.firstRunLoadSuccess) {\n            return;\n        }\n        let self = this;\n        for (let type in this._allResMapList) {\n            self._loadResMapList.set(type, new Map());\n            self._curMaxResNum.set(type, 0);\n            self._curResNum.set(type, 0);\n\n            let resConf = self._allResMapList[type];\n            for (let i = 0; i < resConf.length; i++) {\n                self._loadResMapList.get(type).set(i, new Map());\n                self._loadResMapList.get(type).get(i).set(\"tab\", new Map());\n                self._loadResMapList.get(type).get(i).set(\"content\", new Map());\n\n                let oneResConf = resConf[i];\n                for (let j = 0; j < oneResConf.tab.length; j++) {\n                    let conf = oneResConf.tab[j];\n                    self._curMaxResNum.set(type, self._curMaxResNum.get(type) + 1);\n                    resLoader.load(conf.bundle, conf.path, ImageAsset, (err: Error | null, imageAsset) => {\n                        if (err || !self._loadResMapList) {\n                            self.print(\"error\", err)\n                            return;\n                        }\n                        self._loadResMapList.get(type).get(i).get(\"tab\").set(j, imageAsset);\n\n                        self._curResNum.set(type, self._curResNum.get(type) + 1);\n\n                        if (self._dialogType == type) {\n                            self.updateView();\n                        }\n                    });\n                }\n                for (let j = 0; j < oneResConf.content.length; j++) {\n                    let conf = oneResConf.content[j];\n                    self._curMaxResNum.set(type, self._curMaxResNum.get(type) + 1);\n                    resLoader.load(conf.bundle, conf.path, ImageAsset, (err: Error | null, imageAsset) => {\n                        if (err || !self._loadResMapList) {\n                            self.print(\"error\", err)\n                            return;\n                        }\n                        self._loadResMapList.get(type).get(i).get(\"content\").set(j, imageAsset);\n\n\n                        self._curResNum.set(type, self._curResNum.get(type) + 1);\n\n                        if (self._dialogType == type) {\n                            self.updateView();\n                        }\n                    });\n                }\n            };\n        }\n    }\n    onLoad() {\n        this.initData();\n        this.initView();\n        this.updateView();\n    };\n    start() {\n    }\n\n    initData() {\n        let comp = null;\n        comp = this.node.getComponent(\"DelegateComponent\")\n        if (comp) {\n            this._dialogType = comp.getParams()\n            this._curSeletedTab = 0;\n        }\n    }\n\n    initView() {\n    }\n\n    /** 更新界面 */\n    updateView() {\n        if (Utils.isNull(this._dialogType)) {\n            this.print(\"PictureTabDialogComponent\", \"updateView\", \"参数错误\");\n            return;\n        }\n\n        if (Utils.isNull(this._allResMapList[this._dialogType])) {\n            this.print(\"PictureTabDialogComponent\", \"updateView\", \"弹框类型错误\");\n            return;\n        }\n\n        if (this._curResNum.get(this._dialogType) != this._curMaxResNum.get(this._dialogType)) {\n            this.print(\"PictureTabDialogComponent\", \"updateView\", \"资源加载中\");\n            return;\n        }\n\n        let resLoad = this._loadResMapList.get(this._dialogType)\n        if (this.menuListNode.children.length <= 1) {\n            for (let i = 0; i < resLoad.size; i++) {\n                let oneResLoad = resLoad.get(i);\n                if (Utils.isNotNull(oneResLoad.get(\"tab\"))) {\n                    let menuNode = instantiate(this.menuTemplate);\n                    let toggle = menuNode.getComponent(Toggle)\n                    toggle.clickEvents[0].customEventData = String(i);\n                    menuNode.getComponent(Sprite).spriteFrame = Utils.image_ImageAssetToSpriteFrame(oneResLoad.get(\"tab\").get(0));\n\n                    let checkmark: Node = menuNode.getChildByName(\"Checkmark\");\n                    checkmark.getComponent(Sprite).spriteFrame = Utils.image_ImageAssetToSpriteFrame(oneResLoad.get(\"tab\").get(1));\n                    menuNode.active = true;\n                    this.menuListNode.addChild(menuNode);\n\n                    if (this._curSeletedTab == i) {\n                        toggle.isChecked = true;\n                        this.updateViewContent();\n                    }\n                }\n            }\n        }\n    }\n\n    onClickItem(event: Event, customEventData: string) {\n        this._curSeletedTab = Utils.number_valueOf(customEventData, 0)\n        this.updateViewContent();\n        this.scrollowContent.getComponent(ScrollView).scrollToTop(0.01, false);\n    }\n\n    /** 更新内容 */\n    updateViewContent() {\n        if (Utils.isNull(this._dialogType)) {\n            this.print(\"PictureTabDialogComponent\", \"updateView\", \"参数错误\");\n            return;\n        }\n\n        if (Utils.isNull(this._allResMapList[this._dialogType])) {\n            this.print(\"PictureTabDialogComponent\", \"updateView\", \"弹框类型错误\");\n            return;\n        }\n\n        let resLoad = this._loadResMapList.get(this._dialogType);\n        let resSelected = resLoad.get(this._curSeletedTab);\n        if (Utils.isNull(resSelected)) {\n            this.print(\"PictureTabDialogComponent\", \"updateView\", \"tab索引错误\");\n            return;\n        }\n\n        if (Utils.isNotNull(resSelected.get(\"content\"))) {\n            this.contentNode.removeAllChildren();\n            this.nodeNoTips.active = false;\n            for (let i = 0; i < resSelected.get(\"content\").size; i++) {\n                let imageAssert = resSelected.get(\"content\").get(i);\n                if (imageAssert) {\n                    let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAssert);\n                    if (spriteFrame) {\n                        this.contentNode.addChild(this.creatorSpriteNode(spriteFrame));\n                    }\n                }\n            }\n        }\n    }\n\n    //点击了取消/关闭\n    onClickCancel() {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        this.node.destroy();\n    }\n\n    creatorSpriteNode(spriteFrame: SpriteFrame): Node {\n        let node = Utils.create_2DSprite(spriteFrame, \"Sprite\");\n        return node;\n    }\n\n    //销毁\n    onDestroy() {\n\n    };\n\n}\n\n"]}