{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/framework/gui/gif/gif.ts"],"names":["e","__esModule","Object","prototype","hasOwnProperty","call","default","r","exports","t","defineProperty","value","loop","conditional","parse","n","arguments","length","i","Array","isArray","forEach","a","keys","o","d","pos","u","push","readBits","readArray","readUnsigned","readString","peekBytes","readBytes","peekByte","readByte","buildStream","data","subarray","from","map","String","fromCharCode","join","c","reduce","Math","pow","index","blocks","Uint8Array","set","gce","codes","byteSize","extras","future","disposal","userInput","transparentColorGiven","delay","transparentColorIndex","terminator","image","code","descriptor","left","top","width","height","lct","exists","interlaced","sort","size","minCodeSize","text","blockSize","preData","application","id","comment","s","header","signature","version","lsd","gct","resolution","backgroundColorIndex","pixelAspectRatio","frames","f","l","p","y","g","h","v","x","B","m","b","k","w","A","slice","splice","apply","concat","pixels","dims","colorTable","disposalType","transparentIndex","patch","Uint8ClampedArray","console","warn","filter"],"mappings":"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","sourcesContent":["// 源码来自于 https://github.com/matt-way/gifuct-js\n// 使用 microbundle 重新打包以减少文件体积\n//@ts-ignore\nfunction e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function r(e){var r={exports:{}};return e(r,r.exports),r.exports}var t=r(function(e,r){Object.defineProperty(r,\"__esModule\",{value:!0}),r.loop=r.conditional=r.parse=void 0,r.parse=function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(t))t.forEach(function(t){return e(r,t,n,i)});else if(\"function\"==typeof t)t(r,n,i,e);else{var a=Object.keys(t)[0];Array.isArray(t[a])?(i[a]={},e(r,t[a],n,i[a])):i[a]=t[a](r,n,i,e)}return n},r.conditional=function(e,r){return function(t,n,i,a){r(t,n,i)&&a(t,e,n,i)}},r.loop=function(e,r){return function(t,n,i,a){for(var o=[],d=t.pos;r(t,n,i);){var u={};if(a(t,e,n,u),t.pos===d)break;d=t.pos,o.push(u)}return o}}}),n=r(function(e,r){Object.defineProperty(r,\"__esModule\",{value:!0}),r.readBits=r.readArray=r.readUnsigned=r.readString=r.peekBytes=r.readBytes=r.peekByte=r.readByte=r.buildStream=void 0,r.buildStream=function(e){return{data:e,pos:0}},r.readByte=function(){return function(e){return e.data[e.pos++]}},r.peekByte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(r){return r.data[r.pos+e]}};var t=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};r.readBytes=t,r.peekBytes=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}},r.readString=function(e){return function(r){return Array.from(t(e)(r)).map(function(e){return String.fromCharCode(e)}).join(\"\")}},r.readUnsigned=function(e){return function(r){var n=t(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}},r.readArray=function(e,r){return function(n,i,a){for(var o=\"function\"==typeof r?r(n,i,a):r,d=t(e),u=new Array(o),c=0;c<o;c++)u[c]=d(n);return u}},r.readBits=function(e){return function(r){for(var t=function(e){return e.data[e.pos++]}(r),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(t&1<<i);return Object.keys(e).reduce(function(r,t){var i=e[t];return r[t]=i.length?function(e,r,t){for(var n=0,i=0;i<t;i++)n+=e[r+i]&&Math.pow(2,t-i-1);return n}(n,i.index,i.length):n[i.index],r},{})}}}),i=/*@__PURE__*/e(r(function(e,r){Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i={blocks:function(e){for(var r=[],t=e.data.length,i=0,a=(0,n.readByte)()(e);0!==a&&a;a=(0,n.readByte)()(e)){if(e.pos+a>=t){var o=t-e.pos;r.push((0,n.readBytes)(o)(e)),i+=o;break}r.push((0,n.readBytes)(a)(e)),i+=a}for(var d=new Uint8Array(i),u=0,c=0;c<r.length;c++)d.set(r[c],u),u+=r[c].length;return d}},a=(0,t.conditional)({gce:[{codes:(0,n.readBytes)(2)},{byteSize:(0,n.readByte)()},{extras:(0,n.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,n.readUnsigned)(!0)},{transparentColorIndex:(0,n.readByte)()},{terminator:(0,n.readByte)()}]},function(e){var r=(0,n.peekBytes)(2)(e);return 33===r[0]&&249===r[1]}),o=(0,t.conditional)({image:[{code:(0,n.readByte)()},{descriptor:[{left:(0,n.readUnsigned)(!0)},{top:(0,n.readUnsigned)(!0)},{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{lct:(0,n.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,t.conditional)({lct:(0,n.readArray)(3,function(e,r,t){return Math.pow(2,t.descriptor.lct.size+1)})},function(e,r,t){return t.descriptor.lct.exists}),{data:[{minCodeSize:(0,n.readByte)()},i]}]},function(e){return 44===(0,n.peekByte)()(e)}),d=(0,t.conditional)({text:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{preData:function(e,r,t){return(0,n.readBytes)(t.text.blockSize)(e)}},i]},function(e){var r=(0,n.peekBytes)(2)(e);return 33===r[0]&&1===r[1]}),u=(0,t.conditional)({application:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{id:function(e,r,t){return(0,n.readString)(t.blockSize)(e)}},i]},function(e){var r=(0,n.peekBytes)(2)(e);return 33===r[0]&&255===r[1]}),c=(0,t.conditional)({comment:[{codes:(0,n.readBytes)(2)},i]},function(e){var r=(0,n.peekBytes)(2)(e);return 33===r[0]&&254===r[1]}),s=[{header:[{signature:(0,n.readString)(3)},{version:(0,n.readString)(3)}]},{lsd:[{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{gct:(0,n.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,n.readByte)()},{pixelAspectRatio:(0,n.readByte)()}]},(0,t.conditional)({gct:(0,n.readArray)(3,function(e,r){return Math.pow(2,r.lsd.gct.size+1)})},function(e,r){return r.lsd.gct.exists}),{frames:(0,t.loop)([a,u,c,o,d],function(e){var r=(0,n.peekByte)()(e);return 33===r||44===r})}];r.default=s})),a=function(e){var r=new Uint8Array(e);return t.parse(n.buildStream(r),i)},o=function(e,r,t){if(e.image){var n=e.image,i=function(e,r,t){var n,i,a,o,d,u,c,s,f,l,p,y,g,h,v,x,B=4096,m=t,b=new Array(t),k=new Array(B),w=new Array(B),A=new Array(4097);for(d=1+(i=1<<(l=e)),n=i+2,c=-1,a=(1<<(o=l+1))-1,s=0;s<i;s++)k[s]=0,w[s]=s;for(p=y=g=h=v=x=0,f=0;f<m;){if(0===h){if(y<o){p+=r[x]<<y,y+=8,x++;continue}if(s=p&a,p>>=o,y-=o,s>n||s==d)break;if(s==i){a=(1<<(o=l+1))-1,n=i+2,c=-1;continue}if(-1==c){A[h++]=w[s],c=s,g=s;continue}for(u=s,s==n&&(A[h++]=g,s=c);s>i;)A[h++]=w[s],s=k[s];A[h++]=g=255&w[s],n<B&&(k[n]=c,w[n]=g,0==(++n&a)&&n<B&&(o++,a+=n)),c=u}h--,b[v++]=A[h],f++}for(f=v;f<m;f++)b[f]=0;return b}(n.data.minCodeSize,n.data.blocks,n.descriptor.width*n.descriptor.height);n.descriptor.lct.interlaced&&(i=function(e,r){for(var t=new Array(e.length),n=e.length/r,i=function(n,i){var a=e.slice(i*r,(i+1)*r);t.splice.apply(t,[n*r,r].concat(a))},a=[0,4,2,1],o=[8,8,4,2],d=0,u=0;u<4;u++)for(var c=a[u];c<n;c+=o[u])i(c,d),d++;return t}(i,n.descriptor.width));var a={pixels:i,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return a.colorTable=n.descriptor.lct&&n.descriptor.lct.exists?n.lct:r,e.gce&&(a.delay=10*(e.gce.delay||10),a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),t&&(a.patch=function(e){for(var r=e.pixels.length,t=new Uint8ClampedArray(4*r),n=0;n<r;n++){var i=4*n,a=e.pixels[n],o=e.colorTable[a]||[0,0,0];t[i]=o[0],t[i+1]=o[1],t[i+2]=o[2],t[i+3]=a!==e.transparentIndex?255:0}return t}(a)),a}console.warn(\"gif frame does not have associated image.\")},d=function(e,r){return e.frames.filter(function(e){return e.image}).map(function(t){return o(t,e.gct,r)})};export{o as decompressFrame,d as decompressFrames,a as parseGIF};\n"]}