{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/framework/network/WebSocketBuffer.ts"],"names":["WriteBuffer","ReadBuffer","Encrypt","Int64","Utils","MapArrayBuffer","checkLocalLittleEndian","arrayBuffer","ArrayBuffer","uint8Array","Uint8Array","uint16array","Uint16Array","Error","MapPacketID","instance","_instance","constructor","name","isLocalLittleEndian","console","log","PacketID","newPacket","size","isLittleEndian","byteArray","Array","readByteArray","array","packetID","insertPacket","dataView","DataView","commondBuffer","buffer","slice","byteLength","uBuffer","Int8Array","index","push","writeInt","value","newBuffer","newDataView","setInt32","writeUInt","setUint32","writeShort","setInt16","writeUShort","setUint16","writeByte","setInt8","writeUByte","setUint8","writeString","str","newLength","strByteLength","stringToByte","length","offset","string_codeToASCII","writeStringNoZeroEnd","readPacket","isOnlyRead","isOriginal","isUByte","newByteArray","splice","newArray","newArrayBuffer","syncPacket","fromArray","toArray","delPacket","readPacketOffset","readInt","isNotDel","getInt32","readUInt","getUint32","readInt64","int64","toNumber","readShort","getInt16","readUShort","getUint16","readByte","getInt8","readUByte","getUint8","readString","readDataView","startHeatLength","zeroLength","commonLength","commonArrayBuffer","commonByteArray","result","strData","bytesToString","readStringNoZeroEnd","WebSocketBuffer","Write","Read"],"mappings":"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","sourcesContent":["/**\n * Name = ArrayBufferEx\n * URL = db://assets/framework/extend/ArrayBufferEx.ts\n * Time = Wed May 18 2022 12:44:06 GMT+0800 (中国标准时间)\n * Author = xueya\n * 字节缓冲区扩展\n */\n\nimport { Encrypt } from \"../crypto/Encrypto\";\nimport { Int64 } from \"../libs/Int64\";\nimport { Utils } from \"../Utils\";\n\nexport interface IArrayBuffer {\n\t/** 是否是小端 自定义的解析 */\n\tisLittleEndian: boolean,\n\t/** 二进制数据 */\n\tbyteArray: Array<number>,\n\t/** 读取的二进制数据 */\n\treadByteArray: Array<number>,\n}\n//数据队列\n//ArrayBuffer集合[packetID = buffer : IArrayBuffer]\nconst MapArrayBuffer = {};\n\n/** 本地是否是小端 网络全部以大端传输 */\nconst checkLocalLittleEndian = function (): boolean {\n\tlet arrayBuffer = new ArrayBuffer(2);\n\tlet uint8Array = new Uint8Array(arrayBuffer);\n\tlet uint16array = new Uint16Array(arrayBuffer);\n\tuint8Array[0] = 0xAA; // set first byte\n\tuint8Array[1] = 0xBB; // set second byte\n\tif (uint16array[0] === 0xBBAA) {\n\t\treturn true;\n\t} else if (uint16array[0] === 0xAABB) {\n\t\treturn false;\n\t} else {\n\t\tthrow new Error(\"大小端检测异常\");\n\t};\n}\n\n//开始的id\nlet MapPacketID = 0;\n\n/** 写数据 */\nclass WriteBuffer {\n\t//ArrayBuffer集合[packetID = buffer : IArrayBuffer]\n\n\tprivate static _instance = null;\n\t/** 本地机器大小端 */\n\tprivate isLocalLittleEndian = false;\n\n\tpublic static instance(): WriteBuffer {\n\t\tif (!this._instance || this._instance == null) {\n\t\t\tthis._instance = new WriteBuffer(\"WriteBuffer\");\n\t\t}\n\t\treturn this._instance;\n\t}\n\n\t//实例化\n\tconstructor(name: string) {\n\t\tconsole.log(`${name} 初始化`)\n\t\tthis.isLocalLittleEndian = checkLocalLittleEndian();\n\t};\n\t//获取新的包ID\n\tget PacketID(): string {\n\t\tMapPacketID = MapPacketID + 1\n\t\treturn `PacketID_${MapPacketID}`\n\t}\n\n\t/**\n\t * 新增一个包\n\t * @param size 包体大小 默认0\n\t * @param isLittleEndian 是否小端包 默认小端\n\t * @returns packetID 包体ID\n\t */\n\tnewPacket(size: number = 0, isLittleEndian: boolean = false): string {\n\t\tlet byteArray = new Array()\n\t\tlet readByteArray = new Array()\n\t\tlet array: IArrayBuffer = {\n\t\t\tisLittleEndian: isLittleEndian,\n\t\t\tbyteArray: byteArray,\n\t\t\treadByteArray: readByteArray,\n\t\t}\n\t\tlet packetID = this.PacketID\n\t\tMapArrayBuffer[packetID] = array\n\t\treturn packetID\n\t}\n\t/**\n\t * 插入一个包\n\t * @param arrayBuffer \n\t * @param isLittleEndian 是否是小端包\n\t * @returns packetID 包体ID\n\t */\n\tinsertPacket(arrayBuffer: ArrayBuffer, isLittleEndian: boolean = false): string | null {\n\t\tif (!arrayBuffer) {\n\t\t\treturn null\n\t\t}\n\t\tlet byteArray = new Array()\n\t\tlet readByteArray = new Array()\n\t\tlet array: IArrayBuffer = {\n\t\t\tisLittleEndian: isLittleEndian,\n\t\t\tbyteArray: byteArray,\n\t\t\treadByteArray: readByteArray,\n\t\t}\n\n\t\tlet dataView = new DataView(arrayBuffer, 0)\n\t\t//取出来\n\t\tlet commondBuffer = dataView.buffer.slice(0, dataView.buffer.byteLength)\n\t\tlet uBuffer = new Int8Array(commondBuffer) /**注意 */\n\t\t//合并\n\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t}\n\t\tlet packetID = this.PacketID\n\t\tMapArrayBuffer[packetID] = array\n\t\treturn packetID\n\n\t}\n\n\t/**\n\t * 向指定数据包末尾写入4字节int类型的数据(有符号)\n\t * @param packetID \n\t * @param value \n\t */\n\twriteInt(packetID: string = null, value: number = null): boolean {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID] && value != null) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//新长度\n\t\t\tlet newBuffer = new ArrayBuffer(4)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tnewDataView.setInt32(0, value, array.isLittleEndian)  /**注意 */\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Int8Array(commondBuffer) /**注意 */\n\t\t\t//合并\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包末尾写入4字节int类型的数据(无符号)\n\t * @param packetID \n\t * @param value \n\t */\n\twriteUInt(packetID: string = null, value: number = null): boolean {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID] && value != null) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//新长度\n\t\t\tlet newBuffer = new ArrayBuffer(4)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tnewDataView.setUint32(0, value, array.isLittleEndian)  /**注意 */\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Uint8Array(commondBuffer) /**注意 */\n\t\t\t//合并\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包末尾写入2字节int类型的数据(有符号)\n\t * @param packetID \n\t * @param value \n\t */\n\twriteShort(packetID: string = null, value: number = null) {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID] && value != null) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//新长度\n\t\t\tlet newBuffer = new ArrayBuffer(2)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tnewDataView.setInt16(0, value)  /**注意 */\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Int8Array(commondBuffer) /**注意 */\n\n\t\t\t//合并\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包末尾写入2字节int类型的数据(无符号)\n\t * @param packetID \n\t * @param value \n\t */\n\twriteUShort(packetID: string = null, value: number = null) {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID] && value != null) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//新长度\n\t\t\tlet newBuffer = new ArrayBuffer(2)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tnewDataView.setUint16(0, value)  /**注意 */\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Uint8Array(commondBuffer) /**注意 */\n\t\t\t//合并\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包末尾写入1字节int类型的数据(有符号)\n\t * @param packetID \n\t * @param value \n\t */\n\twriteByte(packetID: string = null, value: number = null) {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID] && value != null) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//新长度\n\t\t\tlet newBuffer = new ArrayBuffer(1)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tnewDataView.setInt8(0, value)  /**注意 */\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Int8Array(commondBuffer) /**注意 */\n\t\t\t//合并\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包末尾写入1字节int类型的数据(无符号)\n\t * @param packetID \n\t * @param value \n\t */\n\twriteUByte(packetID: string = null, value: number = null) {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID] && value != null) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//新长度\n\t\t\tlet newBuffer = new ArrayBuffer(1)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tnewDataView.setUint8(0, value)  /**注意 */\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Uint8Array(commondBuffer) /**注意 */\n\t\t\t//合并\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包末尾写入字符串（无符号） 头部有4字节的长度 尾部有\\0（1字节）结尾\n\t * @param packetID \n\t * @param str \n\t */\n\twriteString(packetID: string = null, str: string = null) {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet newLength = 1\n\t\t\t//字符串字节长度\n\t\t\tlet strByteLength = 0\n\t\t\t//字符串转字节数组\n\t\t\tlet byteArray = Encrypt.stringToByte(str)\n\t\t\tif (byteArray) {\n\t\t\t\tstrByteLength = byteArray.length\n\t\t\t}\n\t\t\tif (strByteLength > 0) {\n\t\t\t\tnewLength = newLength + strByteLength\n\t\t\t}\n\t\t\t//写入正文头\n\t\t\tthis.writeInt(packetID, newLength)\n\t\t\t//构建正文数据\n\t\t\tlet newBuffer = new ArrayBuffer(newLength)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tlet offset = -1\n\n\t\t\tif (newLength > 1) {//写入\\0\n\t\t\t\t//写正文\n\t\t\t\tfor (let index = 0; index < byteArray.length; index++) {\n\t\t\t\t\toffset++;\n\t\t\t\t\tnewDataView.setUint8(index, byteArray[index]); /**注意 */\n\t\t\t\t}\n\t\t\t}\n\t\t\toffset = offset + 1\n\t\t\tnewDataView.setUint8(offset, Utils.string_codeToASCII(\"\\0\"))  /**注意 */\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Uint8Array(commondBuffer) /**注意 */\n\n\t\t\t//合并\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t}\n\t/**\n\t * 向指定数据包末尾写入字符串（无符号 非UTF编码） 头部有4字节的长度\n\t * @param packetID \n\t * @param str \n\t */\n\t writeStringNoZeroEnd(packetID: string = null, str: string = null) {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet newLength = 0\n\t\t\t//字符串字节长度\n\t\t\tlet strByteLength = 0\n\t\t\t//字符串转字节数组\n\t\t\tlet byteArray = Encrypt.stringToByte(str,false)\n\t\t\tif (byteArray) {\n\t\t\t\tstrByteLength = byteArray.length\n\t\t\t}\n\t\t\tif (strByteLength > 0) {\n\t\t\t\tnewLength = newLength + strByteLength\n\t\t\t}\n\t\t\t//写入正文头\n\t\t\tthis.writeInt(packetID, newLength)\n\t\t\t//构建正文数据\n\t\t\tlet newBuffer = new ArrayBuffer(newLength)\n\t\t\tlet newDataView = new DataView(newBuffer)\n\t\t\tlet offset = -1\n\n\t\t\tif (newLength > 0) {\n\t\t\t\t//写正文\n\t\t\t\tfor (let index = 0; index < byteArray.length; index++) {\n\t\t\t\t\toffset++;\n\t\t\t\t\tnewDataView.setUint8(index, byteArray[index]); /**注意 */\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//取出来\n\t\t\tlet commondBuffer = newDataView.buffer.slice(0, newDataView.buffer.byteLength)\n\t\t\tlet uBuffer = new Uint8Array(commondBuffer) /**注意 */\n\n\t\t\t//合并\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\tfor (let index = 0; index < uBuffer.byteLength; index++) {\n\t\t\t\tarray.byteArray.push(uBuffer[index])\n\t\t\t\tarray.readByteArray.push(uBuffer[index])\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t}\n\n}\n\n/** 读数据 */\nclass ReadBuffer {\n\n\tprivate static _instance = null;\n\t/** 本地机器大小端 */\n\tprivate isLocalLittleEndian = false;\n\n\tpublic static instance(): ReadBuffer {\n\t\tif (!this._instance || this._instance == null) {\n\t\t\tthis._instance = new ReadBuffer(\"ReadBuffer\");\n\t\t}\n\t\treturn this._instance;\n\t}\n\n\t//实例化\n\tconstructor(name: string) {\n\t\tconsole.log(`${name} 初始化`)\n\t\tthis.isLocalLittleEndian = checkLocalLittleEndian();\n\t};\n\n\t/**\n\t * 读取包\n\t * @param packetID \n\t * @param isOnlyRead 只读取不删除 \n\t * @param isOriginal 是否是原始包\n\t * @param isUByte 是否无符号\n\t * @returns 返回DataView或Null\n\t */\n\treadPacket(packetID: string = null, isOnlyRead: boolean = false, isOriginal: boolean = false, isUByte: boolean = false): DataView | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\tlet size = 0;\n\t\t\tlet newByteArray;\n\t\t\tif (isOriginal == true) {\n\t\t\t\t//定义取出长度\n\t\t\t\tsize = array.byteArray.length      /**注意 */\n\t\t\t\t//拿出来\n\t\t\t\tnewByteArray = array.byteArray.slice(0, size)\n\t\t\t} else {\n\t\t\t\t//定义取出长度\n\t\t\t\tsize = array.readByteArray.length      /**注意 */\n\t\t\t\t//拿出来并删除原有\n\t\t\t\tnewByteArray = array.readByteArray.slice(0, size)\n\t\t\t\tif (isOnlyRead == false) {\n\t\t\t\t\tarray.readByteArray.splice(0, size)\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet newArray;/**注意 */\n\t\t\tif (isUByte == false) {\n\t\t\t\tnewArray = new Int8Array(newByteArray.length)\n\t\t\t} else {\n\t\t\t\tnewArray = new Uint8Array(newByteArray.length)\n\t\t\t}\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index]\n\t\t\t}\n\t\t\tlet newArrayBuffer = newArray.buffer.slice(0, newArray.byteLength)\n\t\t\tlet newDataView = new DataView(newArrayBuffer)\n\t\t\t//返回值\n\t\t\treturn newDataView   /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\n\t/**\n\t * 同步包\n\t * @param packetID\n\t * @returns 成功或失败\n\t */\n\tsyncPacket(packetID: string = null): boolean {\n\t\tif (!packetID) {\n\t\t\treturn false\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\n\t\t\tlet fromArray = array.byteArray\n\t\t\tlet toArray = array.readByteArray\n\n\t\t\tif (toArray.length > fromArray.length) {\n\t\t\t\ttoArray = toArray.slice(0, fromArray.length)\n\t\t\t}\n\t\t\tfor (let index = 0; index < fromArray.length; index++) {\n\t\t\t\ttoArray[index] = fromArray[index];\n\t\t\t}\n\t\t\tarray.readByteArray = toArray\n\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\t/**\n\t * 删除包\n\t * @param packetID \n\t * @returns \n\t */\n\tdelPacket(packetID: string = null): boolean {\n\t\tif (!packetID) {\n\t\t\treturn false\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tMapArrayBuffer[packetID] = null\n\t\t}\n\t\treturn true\n\t}\n\t/**\n\t * 从指定位置开始读\n\t * @param packetID \n\t * @param offset 0为首位 若为0则表示删除下标为0的readByteArray\n\t */\n\treadPacketOffset(packetID: string = null, offset: number): boolean {\n\t\tif (!packetID) {\n\t\t\treturn false\n\t\t}\n\t\tif (MapArrayBuffer[packetID] && offset != null && offset > 0) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\n\t\t\tif (array.readByteArray.length - 1 <= offset) {\n\t\t\t\tarray.readByteArray.splice(0, array.readByteArray.length)\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tarray.readByteArray.splice(0, offset + 1)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\t/**\n\t * 向指定数据包开始读取4字节int类型的数据(有符号)\n\t * @param packetID \n\t * @param isLittleEndian 是否以小端的方式读取 \n\t * @param isNotDel       是否只读不删\n\t * @param value \n\t */\n\treadInt(packetID: string = null, isLittleEndian: boolean | null = null, isNotDel: boolean = false): number | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//定义取出长度\n\t\t\tlet size = 4      /**注意 */\n\t\t\tif (array.readByteArray.length < size) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//拿出来并删除原有\n\t\t\tlet newByteArray = array.readByteArray.slice(0, size)\n\t\t\tif (isNotDel != true) {\n\t\t\t\tarray.readByteArray.splice(0, size)\n\t\t\t}\n\n\t\t\tlet newArray = new Int8Array(newByteArray.length)     /**注意 */\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index]\n\t\t\t}\n\t\t\tlet newArrayBuffer = newArray.buffer.slice(0, newArray.byteLength)\n\n\t\t\tlet newDataView = new DataView(newArrayBuffer)\n\t\t\t//返回值\n\t\t\treturn newDataView.getInt32(0, isLittleEndian != null ? isLittleEndian : array.isLittleEndian)   /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包开始读取4字节int类型的数据(无符号)\n\t * @param packetID \n\t * @param isLittleEndian 是否以小端的方式读取 \n\t * @param isNotDel       是否只读不删\n\t * @param value \n\t */\n\treadUInt(packetID: string = null, isLittleEndian: boolean | null = null, isNotDel: boolean = false): number | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//定义取出长度\n\t\t\tlet size = 4      /**注意 */\n\t\t\tif (array.readByteArray.length < size) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//拿出来并删除原有\n\t\t\tlet newByteArray = array.readByteArray.slice(0, size)\n\t\t\tif (isNotDel != true) {\n\t\t\t\tarray.readByteArray.splice(0, size)\n\t\t\t}\n\n\t\t\tlet newArray = new Uint8Array(newByteArray.length)     /**注意 */\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index]\n\t\t\t}\n\t\t\tlet newArrayBuffer = newArray.buffer.slice(0, newArray.byteLength)\n\t\t\tlet newDataView = new DataView(newArrayBuffer)\n\t\t\t//返回值\n\t\t\treturn newDataView.getUint32(0, isLittleEndian != null ? isLittleEndian : array.isLittleEndian)   /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\n\t/**\n\t * 向指定数据包开始读取8字节int类型的数据(实际无符号 可能精度不准)\n\t * @param packetID 1.5e-23\n\t * @param value \n\t */\n\treadInt64(packetID: string = null): number | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//定义取出长度\n\t\t\tlet size = 8      /**注意 */\n\t\t\tif (array.readByteArray.length < size) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//拿出来并删除原有\n\t\t\tlet newByteArray = array.readByteArray.slice(0, size)\n\t\t\tarray.readByteArray.splice(0, size)\n\n\t\t\tlet newArray = new Uint8Array(newByteArray.length)     /**注意 使用int64.ts必须为无符号Uint8Array */\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index];\n\t\t\t}\n\t\t\tlet int64 = new Int64(newArray);\n\t\t\treturn int64.toNumber()            /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\n\t/**\n\t * 向指定数据包开始读取2字节int类型的数据(有符号)\n\t * @param packetID \n\t * @param isLittleEndian 是否以小端的方式读取 \n\t * @param value \n\t */\n\treadShort(packetID: string = null, isLittleEndian: boolean | null = null): number | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//定义取出长度\n\t\t\tlet size = 2      /**注意 */\n\t\t\tif (array.readByteArray.length < size) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//拿出来并删除原有\n\t\t\tlet newByteArray = array.readByteArray.slice(0, size)\n\t\t\tarray.readByteArray.splice(0, size)\n\n\t\t\tlet newArray = new Int8Array(newByteArray.length)     /**注意 */\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index]\n\t\t\t}\n\t\t\tlet newArrayBuffer = newArray.buffer.slice(0, newArray.byteLength)\n\t\t\tlet newDataView = new DataView(newArrayBuffer)\n\t\t\t//返回值\n\t\t\treturn newDataView.getInt16(0, isLittleEndian != null ? isLittleEndian : array.isLittleEndian)   /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包开始读取2字节int类型的数据(无符号)\n\t * @param packetID\n\t * @param isLittleEndian 是否以小端的方式读取  \n\t * @param value \n\t */\n\treadUShort(packetID: string = null, isLittleEndian: boolean | null = null): number | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//定义取出长度\n\t\t\tlet size = 2      /**注意 */\n\t\t\tif (array.readByteArray.length < size) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//拿出来并删除原有\n\t\t\tlet newByteArray = array.readByteArray.slice(0, size)\n\t\t\tarray.readByteArray.splice(0, size)\n\n\t\t\tlet newArray = new Uint8Array(newByteArray.length)     /**注意 */\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index]\n\t\t\t}\n\t\t\tlet newArrayBuffer = newArray.buffer.slice(0, newArray.byteLength)\n\t\t\tlet newDataView = new DataView(newArrayBuffer)\n\t\t\t//返回值\n\t\t\treturn newDataView.getUint16(0, isLittleEndian != null ? isLittleEndian : array.isLittleEndian)   /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包开始读取1字节int类型的数据(有符号)\n\t * @param packetID \n\t * @param value \n\t */\n\treadByte(packetID: string = null): number | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//定义取出长度\n\t\t\tlet size = 1     /**注意 */\n\t\t\tif (array.readByteArray.length < size) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//拿出来并删除原有\n\t\t\tlet newByteArray = array.readByteArray.slice(0, size)\n\t\t\tarray.readByteArray.splice(0, size)\n\n\t\t\tlet newArray = new Int8Array(newByteArray.length)     /**注意 */\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index]\n\t\t\t}\n\t\t\tlet newArrayBuffer = newArray.buffer.slice(0, newArray.byteLength)\n\t\t\tlet newDataView = new DataView(newArrayBuffer)\n\t\t\t//返回值\n\t\t\treturn newDataView.getInt8(0)   /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\t/**\n\t * 向指定数据包开始读取1字节int类型的数据(无符号)\n\t * @param packetID \n\t * @param value \n\t */\n\treadUByte(packetID: string = null): number | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\t\t\t//定义取出长度\n\t\t\tlet size = 1      /**注意 */\n\t\t\tif (array.readByteArray.length < size) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//拿出来并删除原有\n\t\t\tlet newByteArray = array.readByteArray.slice(0, size)\n\t\t\tarray.readByteArray.splice(0, size)\n\n\t\t\tlet newArray = new Uint8Array(newByteArray.length)     /**注意 */\n\t\t\t//单独装进缓冲区\n\t\t\tfor (let index = 0; index < newArray.length; index++) {\n\t\t\t\tnewArray[index] = newByteArray[index]\n\t\t\t}\n\t\t\tlet newArrayBuffer = newArray.buffer.slice(0, newArray.byteLength)\n\t\t\tlet newDataView = new DataView(newArrayBuffer)\n\t\t\t//返回值\n\t\t\treturn newDataView.getUint8(0)   /**注意 */\n\t\t}\n\t\treturn null\n\t}\n\n\t/**\n\t * 向指定数据包读取字符串（无符号 UTF8编码） 头部有4字节的长度 尾部有\\0（1字节）结尾\n\t * @param packetID \n\t * @param isLittleEndian 是否以小端的方式读取 \n\t * @param str \n\t */\n\treadString(packetID: string = null, isLittleEndian: boolean | null = null): string | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\n\t\t\t//先读取缓存包定义的正文长度\n\t\t\tlet readDataView = this.readPacket(packetID, true)\n\t\t\tif (!readDataView || readDataView.byteLength == 0) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//开头定义的字符串长度\n\t\t\tlet size = readDataView.getInt32(0, isLittleEndian != null ? isLittleEndian : array.isLittleEndian)  /**注意 */\n\t\t\t//头部字节长度\n\t\t\tlet startHeatLength = 4\n\t\t\t//末尾0的长度\n\t\t\tlet zeroLength = 1\n\n\t\t\tif (!size || (readDataView.byteLength - startHeatLength) < size) {\n\t\t\t\tconsole.log(`Error：readString 读取的正文长度不存在 或 超出缓冲区长度，读取长度为:${size} 实际长度为:${readDataView.byteLength - startHeatLength}`)\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\t//实际正文长度\n\t\t\tlet commonLength = size - 1\n\t\t\tif (commonLength == 0) {//这是一个空包\n\t\t\t\t//删除取出的数据 5字节 正文+\\0\n\t\t\t\tarray.readByteArray.splice(0, startHeatLength + zeroLength)\n\t\t\t\treturn \"\"\n\t\t\t} else if (commonLength < 0) {\n\t\t\t\tconsole.log(`Error：readString 读取的正文长度为负，正文长度数据有误 或 不是正文，读取长度为:${size} 实际长度为:${readDataView.byteLength - startHeatLength}`)\n\t\t\t\treturn null\n\t\t\t} else {\n\t\t\t\tarray.readByteArray.splice(0, startHeatLength + size)\n\t\t\t}\n\n\t\t\t//单独装进缓冲区\n\t\t\tlet commonArrayBuffer = readDataView.buffer.slice(startHeatLength, startHeatLength + commonLength)\n\t\t\tlet commonByteArray = new Uint8Array(commonArrayBuffer)   /**注意 */\n\n\t\t\tlet result = []; // byte队列\n\t\t\tfor (let index = 0; index < commonByteArray.byteLength; index++) {\n\t\t\t\tresult.push(commonByteArray[index])\n\t\t\t}\n\t\t\t//拼接的字符串\n\t\t\tlet strData = Encrypt.bytesToString(result);\n\n\t\t\treturn strData\n\t\t}\n\t\treturn null\n\t}\n\n\t/**\n\t * 向指定数据包读取字符串（无符号 非UTF8编码） 头部有4字节的长度\n\t * @param packetID \n\t * @param isLittleEndian 是否以小端的方式读取 \n\t * @param str \n\t */\n\treadStringNoZeroEnd(packetID: string = null, isLittleEndian: boolean | null = null): string | null {\n\t\tif (!packetID) {\n\t\t\treturn null\n\t\t}\n\t\tif (MapArrayBuffer[packetID]) {\n\t\t\tlet array: IArrayBuffer = MapArrayBuffer[packetID]\n\n\t\t\t//先读取缓存包定义的正文长度\n\t\t\tlet readDataView = this.readPacket(packetID, true)\n\t\t\tif (!readDataView || readDataView.byteLength == 0) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\t//开头定义的字符串长度\n\t\t\tlet size = readDataView.getInt32(0, isLittleEndian != null ? isLittleEndian : array.isLittleEndian)  /**注意 */\n\t\t\t//头部字节长度\n\t\t\tlet startHeatLength = 4\n\t\t\t//末尾0的长度\n\t\t\tlet zeroLength = 0\n\n\t\t\tif (!size || (readDataView.byteLength - startHeatLength) < size) {\n\t\t\t\tconsole.log(`Error：readString 读取的正文长度不存在 或 超出缓冲区长度，读取长度为:${size} 实际长度为:${readDataView.byteLength - startHeatLength}`)\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\t//实际正文长度\n\t\t\tlet commonLength = size\n\t\t\tif (commonLength == 0) {//这是一个空包\n\t\t\t\t//删除取出的数据 5字节 正文+\\0\n\t\t\t\tarray.readByteArray.splice(0, startHeatLength + zeroLength)\n\t\t\t\treturn \"\"\n\t\t\t} else if (commonLength < 0) {\n\t\t\t\tconsole.log(`Error：readString 读取的正文长度为负，正文长度数据有误 或 不是正文，读取长度为:${size} 实际长度为:${readDataView.byteLength - startHeatLength}`)\n\t\t\t\treturn null\n\t\t\t} else {\n\t\t\t\tarray.readByteArray.splice(0, startHeatLength + size)\n\t\t\t}\n\n\t\t\t//单独装进缓冲区\n\t\t\tlet commonArrayBuffer = readDataView.buffer.slice(startHeatLength, startHeatLength + commonLength)\n\t\t\tlet commonByteArray = new Uint8Array(commonArrayBuffer)   /**注意 */\n\n\t\t\tlet result = []; // byte队列\n\t\t\tfor (let index = 0; index < commonByteArray.byteLength; index++) {\n\t\t\t\tresult.push(commonByteArray[index])\n\t\t\t}\n\t\t\t//拼接的字符串\n\t\t\tlet strData = Encrypt.bytesToString(result, false);\n\t\t\treturn strData\n\t\t}\n\t\treturn null\n\t}\n}\n\nexport const WebSocketBuffer = { Write: WriteBuffer.instance(), Read: ReadBuffer.instance(), isLocalLittleEndian: checkLocalLittleEndian() }"]}