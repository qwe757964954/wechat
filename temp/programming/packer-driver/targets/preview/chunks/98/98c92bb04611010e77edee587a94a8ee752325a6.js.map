{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/activity/scripts/atyCenterPrefabCtr.ts"],"names":["Color","Label","Layout","Node","ScrollView","Sprite","SpriteFrame","UITransform","_decorator","instantiate","GCache","AppEvent","AppSound","GConstants","UIID","Utils","Encrypt","resLoader","EventManager","BaseComponent","Platform","ccclass","property","menu","atyCenterPrefabCtr","tooltip","type","currowChooseTabID","currowChooseSubID","currowChooseData","tabLayer","atyData","noticeData","showData","_redDotView","_initSize","panelActivity","noticePic","onLoad","tabNode1","tabNode2","RedDotConf","ActivityNormal","ActivityNotice","getData","findFirstShowAct","initView","start","TaskInfo","NoticeData","active","panelNotice","cloneSubtab","width","getComponent","height","noticeContent","updateTabList","updateSubList","updateRightView","refreshRedDot","showIndexByRed","findIndex","item","showIndexByFirst","respAtyCenterConfig","event","receiveData","reqData","code","respAtyPlayCardData","respActivityTaskReward","keyType","nodeOrList","imgRedDot","Array","forEach","node","index","getChildByName","setSpriteFrame","path","string_isHttp","self","loadRemote","ext","err","imageAsset","isValid","spriteFrame","image_ImageAssetToSpriteFrame","pngNode","create_2DSprite","bgPanelActivity","setAdaptivePng","addSchedulerOnce","addChild","sizeConf","isOnlyWidth","scale","scW","scH","uiTransComp","pngWidth","pngHeight","scWidth","scHeight","sprite","sizeMode","key","v","select","img_reddot","String","__getSubConfByBigID","bigID","data","redKey","redUpdateFunc","RedDot","update_Activity_NormalRed","update_Activity_NoticeRed","smallTabConf","table_verify","max","length","subTabLayer","children","i","nodeItem","destroy","nodeTxt","titleLabel","tag_hot","mark_url","string","title","color","call","hasRedDot","updateLayout","onClickSubTab","target","dispatch","SYS_PLAY_EFFECT","CommClick","console","log","table_isEmpty","taskPanelActivity","removeAllChildren","noticeTitle","noticeScrollow","scrollToTop","checkSpeActivityTask","parentNode","atyType","onClickActivity","onClickNotice","onClickClose","onClickActJump","_jumpData","JsonDecode","jmmpCmd","Number","mallScene","JumpViewConf","POS_ACT_MALL","VIEW_UI_OPEN","MallPrefab","id","pay_scene","POS_ACT_DESK_SIGN_POS_ACT_SPECIALGIFT","POS_ACT_DESK_TAG","SYS_TOAST_TIP","content","POS_ACT_CUSTOMER_SERVICE","shareKefuData","ShareInfo","getShareConfigByType","ShareSceneConf","kefugift","shareParams","sessionFrom","success","fail","complete","showMessageCard","sendMessageTitle","sendMessagePath","sendMessageImg","shareID","openCustomerServiceConversation","handler","__doCallBackSerCon","POS_ACT_SPECIALGIFT_TAG","GiftDiscountPrefab","POS_ACT_SIGN_TAG","SigninPrefab","POS_ACT_GAME","POS_ACT_FRIEND","FriendPrefab","POS_ACT_HALL","POS_ACT_USERINFO","PlayerInfoCenter","state","option","NET_REQ_SHARE_AWARD","ReqUrl","shareType","other","onDestroy","NET_CMD_REQ_TASK_ACT_CONFIG"],"mappings":"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","sourcesContent":["\nimport { Color, EventTouch, Label, Layout, Node, ScrollView, Sprite, SpriteFrame, UITransform, _decorator, instantiate } from 'cc';\nimport { GCache } from '../../../cache/GCache';\nimport { AppEvent } from '../../../config/AppEvent';\nimport { AppSound } from '../../../config/AppSound';\nimport { GConstants } from '../../../config/GameConstant';\nimport { UIID } from '../../../config/UIConfig';\nimport { Utils } from '../../../framework/Utils';\nimport { Encrypt } from '../../../framework/crypto/Encrypto';\nimport { resLoader } from '../../../framework/loader/ResLoader';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { Platform } from '../../../platform/Platform';\nconst { ccclass, property, menu } = _decorator;\n\n/**\n * Name = atyCenterPrefabCtr\n * URL = db://assets/package/hall/scripts/atyCenterPrefabCtr.ts\n * Time = (中国标准时间)\n * Author = Tomoe\n *\t活动中心\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n */\n\n@ccclass('atyCenterPrefabCtr')\n//方便编辑器识别的菜单项目\n@menu('prefab/activity/atyCenterPrefabCtr')\nexport class atyCenterPrefabCtr extends BaseComponent {\n\n    //页面标签\n    @property({ tooltip: \"页面标签\", type: Node })\n    private tabNode1: Node | null = null;\n\n    //页面标签\n    @property({ tooltip: \"页面标签\", type: Node })\n    private tabNode2: Node | null = null;\n\n    //内容标签Layer\n    @property({ tooltip: \"内容标签Layer\", type: Node })\n    private subTabLayer: Node | null = null;\n\n    //小标签\n    @property({ tooltip: \"小标签\", type: Node })\n    private cloneSubtab: Node | null = null;\n\n    //活动内容节点\n    @property({ tooltip: \"暂无内容节点\", type: Node })\n    private panelActivity: Node | null = null;\n\n    //活动内容背景节点\n    @property({ tooltip: \"活动内容背景节点\", type: Node })\n    private bgPanelActivity: Node | null = null;\n\n    //活动内容玩牌任务节点\n    @property({ tooltip: \"活动内容玩牌任务节点\", type: Node })\n    private taskPanelActivity: Node | null = null;\n\n    //公告内容节点\n    @property({ tooltip: \"暂无内容节点\", type: Node })\n    private panelNotice: Node | null = null;\n\n    //公告具体内容节点\n    @property({ tooltip: \"暂无内容节点\", type: Node })\n    private noticeContent: Node | null = null;\n\n    //公告滚动容器节点\n    @property({ tooltip: \"公告滚动容器节点\", type: Node })\n    private noticeScrollow: Node | null = null;\n\n    //公告标题\n    @property({ tooltip: \"公告标题\", type: Label })\n    private noticeTitle: Label | null = null;\n\n    //无内容图片\n    @property({ tooltip: \"暂无内容节点\", type: SpriteFrame })\n    private noContent: SpriteFrame | null = null;\n\n    //公告背景图片\n    @property({ tooltip: \"公告背景图片\", type: SpriteFrame })\n    private sprBgNotice: SpriteFrame | null = null;\n\n    /** 当前选择菜单 */\n    currowChooseTabID: number = 0;\n    /** 当前选择小标签 */\n    currowChooseSubID: number = null;\n\n    /** 当前右侧页面数据 */\n    currowChooseData = null;\n\n    /** 大标签 */\n    tabLayer = {};\n\n    atyData = null;\n    noticeData = null;\n    showData = null;\n    /** 红点UI队列 */\n    private _redDotView: { [key: string]: Node | Array<Node> } = {};\n\n    private _initSize = {\n        panelActivity: null,\n        noticePic: null,\n    };\n\n    onLoad() {\n        this.tabLayer = {\n            0: this.tabNode1,\n            1: this.tabNode2,\n        }\n        this._redDotView = {\n            [GConstants.RedDotConf.ActivityNormal]: this.tabNode1,\n            [GConstants.RedDotConf.ActivityNotice]: this.tabNode2,\n        };\n\n        this.getData();\n        this.findFirstShowAct()\n        this.initView();\n\n    };\n\n    start() {\n\n    };\n\n    getData() {\n        this.atyData = GCache.TaskInfo.atyData;\n        this.noticeData = GCache.TaskInfo.NoticeData;\n    }\n    initView() {\n        this.panelActivity.active = false;\n        this.panelNotice.active = false;\n        this.cloneSubtab.active = false;\n        this._initSize[\"panelActivity\"] = { width: this.panelActivity.getComponent(UITransform).width, height: this.panelActivity.getComponent(UITransform).height };\n        this._initSize[\"noticePic\"] = { width: this.noticeContent.getComponent(UITransform).width, height: this.noticeContent.getComponent(UITransform).height };\n\n        this.updateTabList();\n        this.updateSubList();\n        this.updateRightView();\n        this.refreshRedDot();\n    }\n    /** 活动中心优先展示的活动*/\n    findFirstShowAct() {\n        //判断红点展示\n        let showIndexByRed = this.atyData.findIndex((item) => { return item['red_dot_type'] == 1 })\n        //判断进入活动中心优先要展示的活动数据 \n        let showIndexByFirst = this.atyData.findIndex((item) => { return item['is_first'] == 1 })\n        //  配置了某一条需要优先展示\n        if (showIndexByFirst > -1) {\n            this.currowChooseSubID = showIndexByFirst\n        }\n        //只有红点\n        if (showIndexByRed > -1 && showIndexByFirst == -1) {\n            this.currowChooseSubID = showIndexByRed\n        }\n        //既没有红点也没有配置特殊要展示的  默认展示第 0个下标数据\n        this.currowChooseSubID = 0\n    }\n\n    /** 活动中心配置返回 */\n    respAtyCenterConfig(event, receiveData, reqData) {\n        if (receiveData.code != 0) {\n            return;\n        }\n        this.getData();\n        this.updateSubList();\n        this.updateRightView();\n        this.refreshRedDot();\n    }\n    /** 获取玩牌任务活动数据返回 */\n    respAtyPlayCardData(event, receiveData, reqData) {\n        if (receiveData.code != 0) {\n            return;\n        }\n        this.getData();\n        this.updateSubList();\n        this.updateRightView();\n        this.refreshRedDot();\n    }\n    /** 获取玩牌任务奖励返回 */\n    respActivityTaskReward(event, receiveData, reqData) {\n        if (receiveData.code != 0) {\n            return;\n        }\n        this.getData();\n        this.updateRightView();\n        this.refreshRedDot();\n    }\n\n    /** 红点更新 */\n    refreshRedDot(event = null, keyType = null) {\n        if (keyType == null) {\n            for (let keyType in this._redDotView) {\n                let nodeOrList = this._redDotView[keyType];\n                let imgRedDot = null;\n                if (nodeOrList instanceof Array) {\n                    nodeOrList.forEach((node, index) => {\n                        imgRedDot = node.getChildByName(\"img_reddot\");\n                        if (imgRedDot) {\n                            imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                        }\n                    })\n                } else {\n                    imgRedDot = nodeOrList.getChildByName(\"img_reddot\");\n                    if (imgRedDot) {\n                        imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                    }\n\n                }\n            }\n        } else {\n            if (this._redDotView[keyType] == null) {\n                return;\n            }\n            let nodeOrList = this._redDotView[keyType];\n            let imgRedDot = null;\n            if (nodeOrList instanceof Array) {\n                nodeOrList.forEach((node, index) => {\n                    imgRedDot = node.getChildByName(\"img_reddot\");\n                    if (imgRedDot) {\n                        imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                    }\n                })\n            } else {\n                imgRedDot = nodeOrList.getChildByName(\"img_reddot\");\n                if (imgRedDot) {\n                    imgRedDot.active = false//GCache.RedDot.hasRedDot(keyType);\n                }\n\n            }\n        }\n    }\n\n\n    /**设置远端图片 */\n    setSpriteFrame(node, path) {\n        if (!path) {\n            return\n        }\n        if (Utils.string_isHttp(path)) {\n            let self = this;\n            resLoader.loadRemote(path, { ext: '.jpg' }, (err, imageAsset) => {\n                if (!imageAsset) { //资源可能还在加载中\n                    return\n                }\n                if (!self.node || self.node.isValid == false) {\n                    return;\n                }\n                let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAsset)\n                if (spriteFrame) {\n                    let pngNode = Utils.create_2DSprite(spriteFrame);\n                    if (self.bgPanelActivity == node) {\n                        self.setAdaptivePng(self._initSize.panelActivity, pngNode, false);\n                    } else if (self.noticeContent == node) {\n                        self.setAdaptivePng(self._initSize.noticePic, pngNode);\n                    }\n                    self.addSchedulerOnce(0.01, () => {\n                        node.addChild(pngNode);\n                    })\n                }\n            })\n        }\n    }\n\n    /** 设置图片适配 */\n    setAdaptivePng(sizeConf, pngNode: Node, isOnlyWidth: boolean = true) {\n        if (!sizeConf || sizeConf.width == null || sizeConf.height == null) {\n            return;\n        }\n        this.addSchedulerOnce(0, () => {\n            let scale = [1, 1, 1];\n            let scW = 1;\n            let scH = 1;\n\n            let uiTransComp = pngNode.getComponent(UITransform);\n\n            let pngWidth = uiTransComp.width;\n            let pngHeight = uiTransComp.height;\n            if (sizeConf.width > pngWidth) {\n                let scWidth = pngWidth / sizeConf.width;\n                let scHeight = pngHeight / sizeConf.width;\n\n                scW = (scWidth > scHeight ? scHeight : scWidth);\n            } else if (sizeConf.width < pngWidth) {\n                let scWidth = sizeConf.width / pngWidth;\n                let scHeight = sizeConf.width / pngHeight;\n\n                scW = (scWidth > scHeight ? scHeight : scWidth);\n            }\n\n            if (isOnlyWidth == false) {\n                let sprite = pngNode.getComponent(Sprite);\n                sprite.sizeMode = 1;\n                sprite.type = 0;\n                uiTransComp.width = sizeConf.width;\n                uiTransComp.height = sizeConf.height;\n            } else {\n                uiTransComp.width = scW * pngWidth;\n                uiTransComp.height = scW * pngHeight;\n            }\n        })\n    }\n    /** 更新大标签 */\n    updateTabList() {\n        if (this.currowChooseTabID == null || this.currowChooseTabID >= 2 || this.currowChooseTabID < 0) {\n            this.currowChooseTabID = 0;\n        }\n        for (let key in this.tabLayer) {\n            let v = this.tabLayer[key];\n            let select = v.getChildByName(\"tab_selected\");\n            let img_reddot = v.getChildByName(\"img_reddot\");\n            if (key == String(this.currowChooseTabID)) {\n                img_reddot.active = false;\n                select.active = true;\n            } else {\n                select.active = false;\n            }\n        }\n    }\n    /** 根据大类型ID获取二级标签数据 */\n    __getSubConfByBigID(bigID) {\n        if (bigID == 0) {\n            return {\n                data: this.atyData,\n                redKey: GConstants.RedDotConf.ActivityNormal,\n                redUpdateFunc: GCache.RedDot.update_Activity_NormalRed\n            }\n        } else if (bigID == 1) {\n            return {\n                data: this.noticeData,\n                redKey: GConstants.RedDotConf.ActivityNotice,\n                redUpdateFunc: GCache.RedDot.update_Activity_NoticeRed\n            }\n        }\n        return {};\n    }\n    /**更新二级标签*/\n    updateSubList() {\n        if (this.currowChooseSubID == null) {\n            this.currowChooseSubID = 0;\n        }\n        let smallTabConf = this.__getSubConfByBigID(this.currowChooseTabID);\n        let data = Utils.table_verify(smallTabConf.data, true);\n        let max = data.length;\n\n        if (max == 0) {\n            this.currowChooseSubID = null;\n            this.currowChooseData = null;\n        }\n\n        if (max < this.subTabLayer.children.length) {\n            max = this.subTabLayer.children.length;\n        }\n        for (let i = (max - 1); i >= 0; i--) {\n            let nodeItem = this.subTabLayer.children[i];\n            if (nodeItem && !data[i]) {\n                nodeItem.destroy();\n            }\n        }\n        for (let i = 0; i < data.length; i++) {\n            let nodeItem = this.subTabLayer.children[i];\n            if (!nodeItem) {\n                nodeItem = instantiate(this.cloneSubtab);\n                this.subTabLayer.addChild(nodeItem);\n            }\n\n            let nodeTxt = nodeItem.getChildByName(\"label_title\");\n            let titleLabel = nodeTxt.getComponent(Label);\n\n            let tag_hot = nodeItem.getChildByName(\"tag_hot\");\n            let img_reddot = nodeItem.getChildByName(\"img_reddot\");\n            let select = nodeItem.getChildByName(\"img_selected\");\n\n            if (this.currowChooseTabID == 0) {//只有活动才有标签\n                this.setSpriteFrame(tag_hot, data[i].mark_url);\n                tag_hot.active = true;\n            } else {\n                tag_hot.active = false;\n            }\n            titleLabel.string = data[i].title;\n\n            nodeItem[\"currowChooseSubID\"] = i;\n            nodeItem[\"data\"] = data[i];\n            if (i == this.currowChooseSubID) {\n                titleLabel.color = new Color(136, 86, 45);\n                smallTabConf.redUpdateFunc.call(GCache.RedDot, data[i], false);\n                select.active = true;\n                this.currowChooseData = nodeItem[\"data\"];\n            } else {\n                select.active = false;\n                titleLabel.color = new Color(242, 206, 179);\n                //未选中的更新红点\n                img_reddot.active = GCache.RedDot.hasRedDot(smallTabConf.redKey, data[i][\"config_id\"]);\n            }\n            nodeItem.active = true;\n        }\n        this.subTabLayer.getComponent(Layout).updateLayout();\n    }\n\n    /** 点击了二级标签 */\n    onClickSubTab(event: EventTouch) {\n        let node = event.target;\n        if (this.currowChooseSubID == node[\"currowChooseSubID\"]) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n\n        this.currowChooseSubID = node[\"currowChooseSubID\"];\n        this.currowChooseData = Utils.table_verify(node[\"data\"]);\n        this.updateSubList();\n        this.updateRightView();\n    }\n    /** 更新右侧界面 */\n    updateRightView() {\n        console.log(\"当前数据==>\", this.currowChooseData)\n        if (!this.currowChooseData || Utils.table_isEmpty(this.currowChooseData)) {\n            if (this.currowChooseTabID == 0) {\n                this.bgPanelActivity[\"ReloadUrl\"] = null;\n                this.taskPanelActivity[\"AtyType\"] = null;\n                this.bgPanelActivity.removeAllChildren();\n                this.taskPanelActivity.removeAllChildren();\n                this.panelActivity.active = true;\n                this.panelNotice.active = false;\n            } else {\n                this.noticeTitle.string = \"\";\n                this.noticeScrollow.getComponent(ScrollView).scrollToTop(0, false);\n                this.noticeContent.removeAllChildren();\n                this.panelNotice.active = true;\n                this.panelActivity.active = false;\n            }\n            return;\n        }\n        if (this.currowChooseTabID == 0) {\n            if (this.bgPanelActivity[\"ReloadUrl\"] != this.currowChooseData[\"bg_pic\"]) {\n                this.bgPanelActivity.removeAllChildren();\n                this.setSpriteFrame(this.bgPanelActivity, this.currowChooseData[\"bg_pic\"]);\n                this.bgPanelActivity[\"ReloadUrl\"] = this.currowChooseData[\"bg_pic\"];\n            } else {\n                this.bgPanelActivity.active = true;\n            }\n            //牌局任务界面\n            this.checkSpeActivityTask(this.taskPanelActivity, this.currowChooseData[\"aty_type\"]);\n            this.panelActivity.active = true;\n            this.panelNotice.active = false;\n        } else {\n            this.noticeTitle.string = this.currowChooseData[\"title\"];\n            this.noticeContent.removeAllChildren();\n            this.setSpriteFrame(this.noticeContent, this.currowChooseData[\"content\"])\n            this.noticeScrollow.getComponent(ScrollView).scrollToTop(0, false);\n            this.panelActivity.active = false;\n            this.panelNotice.active = true;\n        }\n    }\n    /** 检查特殊的任务 */\n    checkSpeActivityTask(parentNode: Node, atyType) {\n        return false;\n    }\n    /** 点击了活动 */\n    onClickActivity(event) {\n        if (this.currowChooseTabID == 0) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        this.currowChooseTabID = 0;\n        this.currowChooseSubID = 0;\n        this.currowChooseData = null;\n        this.updateTabList();\n        this.updateSubList();\n        this.updateRightView();\n    }\n    /** 点击了公告 */\n    onClickNotice(event) {\n        if (this.currowChooseTabID == 1) {\n            return;\n        }\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        this.currowChooseTabID = 1;\n        this.currowChooseSubID = 0;\n        this.currowChooseData = null;\n        this.updateTabList();\n        this.updateSubList();\n        this.updateRightView();\n    }\n    /** 点击了关闭 */\n    onClickClose(event) {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        this.node.destroy();\n    }\n    /** 点击了当前活动执行对应的跳转 */\n    onClickActJump(event) {\n        console.log('点击了当前活动', this.currowChooseData)\n        if (this.currowChooseData['is_jump'] == 1) {\n            //跳转位置\n            let _jumpData = Encrypt.JsonDecode(this.currowChooseData['jump_code'])\n            let jmmpCmd = Number(_jumpData['cmd']) || 0\n            let mallScene = _jumpData['tag'] || 0\n            // 只要进行跳转都是关掉活动中心\n            this.node.destroy();\n            switch (jmmpCmd) {\n                //跳转到商城\n                case GConstants.JumpViewConf.POS_ACT_MALL:\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.MallPrefab, { id: Number(mallScene), pay_scene: 0 }, {});\n                    this.node.destroy();\n                    break;\n                case GConstants.JumpViewConf.POS_ACT_DESK_SIGN_POS_ACT_SPECIALGIFT:\n                    switch (mallScene) {\n                        //添加到桌面\n                        case GConstants.JumpViewConf.POS_ACT_DESK_TAG:\n                            EventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: \"点击了添加到桌面(静态文案)\" });\n                            break;\n                        //联系客服有奖\n                        case GConstants.JumpViewConf.POS_ACT_CUSTOMER_SERVICE:\n                            let shareKefuData = GCache.ShareInfo.getShareConfigByType(GConstants.ShareSceneConf.kefugift)\n                            let shareParams = {\n                                sessionFrom: \"\",\n                                success: () => { },// 成功的回调\n                                fail: () => { },// 失败的回调\n                                complete: () => { },// 失败或者的回调\n                                showMessageCard: true,//是否发送小程序气泡消息\n                                sendMessageTitle: shareKefuData[0]['title'], //转发标题，不传则默认使用当前小游戏的昵称\n                                sendMessagePath: '',//气泡消息小程序路径\n                                sendMessageImg: shareKefuData[0]['img'],// 转发图片\n                                shareID: shareKefuData[0]['share_id']\n                            }\n                            Platform.openCustomerServiceConversation(shareParams, Utils.handler(this, this.__doCallBackSerCon))\n                            break;\n                        // 跳转到特价礼包\n                        case GConstants.JumpViewConf.POS_ACT_SPECIALGIFT_TAG:\n                            EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.GiftDiscountPrefab, { id: 0, pay_scene: 0 }, {});\n                            break;\n                        // 跳转到签到\n                        case GConstants.JumpViewConf.POS_ACT_SIGN_TAG:\n                            EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.SigninPrefab);\n                            break;\n                    }\n                    break;\n                case GConstants.JumpViewConf.POS_ACT_GAME:\n                    EventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: \"去玩牌,待玩牌完成之后介入\" });\n                    break;\n                // 跳转到好友\n                case GConstants.JumpViewConf.POS_ACT_FRIEND:\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.FriendPrefab, null, null, null, true);\n                    this.node.destroy();\n                    break;\n                // 跳转到大厅\n                case GConstants.JumpViewConf.POS_ACT_HALL:\n                    //销毁活动中心\n                    this.node.destroy();\n                    break;\n                // 跳转到个人信息\n                case GConstants.JumpViewConf.POS_ACT_USERINFO:\n                    this.node.destroy();\n                    EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.PlayerInfoCenter);\n                    break;\n            }\n        }\n    }\n    //联系客服的回调\n    __doCallBackSerCon(state, option = null) {\n        if (!state) {\n            return;\n        }\n\n        EventManager.dispatch(AppEvent.NET_REQ_SHARE_AWARD, option[\"shareID\"], GConstants.ReqUrl.shareType.other, false)\n    }\n    //销毁\n    onDestroy() {\n        //获取活动中心配置数据\n        EventManager.dispatch(AppEvent.NET_CMD_REQ_TASK_ACT_CONFIG);\n    };\n\n}\n\n"]}