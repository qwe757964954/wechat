{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/config/GameConfig.ts"],"names":["GameConfig","game","Game","input","Input","KeyCode","ResolutionPolicy","sp","sys","view","EDITOR","GCache","LocalStorage","EventManager","Network","NetworkEvent","Utils","Platform","GSocket","AppEvent","GConstants","StoreKey","UIID","SystemConf","DEV_SIZE","width","height","WX_RIGHT_SPANCE_X","GameSwitchConf","CustomizeChatSwitch","GameOverShare","APPState","GameNetType","ClientInfo","DEBUG","CurrowServer","NET_TEST","AppVer","HallVer","WX_AppID","WX_PayOfferId","WX_PayEnv","ChannelId","ChannelKey","RegionId","AdVideoUnitId","PlatFormAppID","isIOS","SysVer","_platformVer","MachineId","_Machineid","MachineModel","_MachineModel","PhoneModel","_PhoneModel","Guid","_Guid","IMSI","_IMSI","ICCID","_ICCID","IMEI","_IMEI","SSAID","PhoneCardType","_PhoneCardType","NetWorkType","SignDeviceId","SignMacAddress","SignGuid","FactoryId","BundleId","_AppFPS","_ApplicationState","SHOW","_ResolutionPolicyType","UNKNOWN","NetWorkState","instance","state","print","args","console","log","_className","dump","arg1","args2","platform","DESKTOP_BROWSER","table","_instance","initInput","ApplicationState","ResolutionPolicyType","type","AppUrlConf","ServerUrlConf","FPS","num","isOnlineServer","NET_ONLINE","clearAllListener","on","EVENT_HIDE","HIDE","dispatch","SYS_SHOW_OR_HIDE","EVENT_SHOW","EventType","KEY_DOWN","onkeyDownCallback","CHANGE_NAME","SYS_NET_CHANGE_NAME","name","CHANGE_STATE","SYS_NET_CHANGE_STATE","setResizeCallback","SYS_WINDOW_ADAPTIVE","SYS_WINDOW_CHANGE","toReqConnectRoom","User","isLoginSuccesed","setLoginState","closeConnect","LOGIN_GOTO_SHOW","body","GameID","Desk","getCurGameID","Level","getCurLevelID","TableID","getCurTableID","isReconn","SelectGame","intoGameData","LoginRoomState","GAME_GOTO_SHOW","event","keyCode","F1","NET_REQ_GOODS_INFO","scene","F2","NET_REQ_BANKRUPT_GIFT_CONF","VIEW_UI_OPEN","BankupGift","F3","GoodsListID","limitPack","F5","F6","ESCAPE","__toForwardLogin","set","LOGIN_LAST_CHECK_AGREE","clear","off","Name","Web","Socket","NET_DEV","Skeleton","prototype","dt","paused","timeScale","isAnimationCached","_isAniComplete","_animationQueue","length","_headAniInfo","frameCache","_frameCache","isInvalid","updateToFrame","frames","_curFrame","shift","_accTime","delay","aniInfo","setAnimation","animationName","loop","_updateCache","_updateRealtime"],"mappings":";;;sRAgKaA,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAxJWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,O,OAAAA,O;AAASC,MAAAA,gB,OAAAA,gB;AAAkBC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,I,OAAAA,I;;AAC7EC,MAAAA,M,UAAAA,M;;AACAC,MAAAA,M,iBAAAA,M;;AAEAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,O,iBAAAA,O;AAASC,MAAAA,Y,iBAAAA,Y;;AACTC,MAAAA,K,iBAAAA,K;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,kBAAAA,U;AAAYC,MAAAA,Q,kBAAAA,Q;;AACZC,MAAAA,I,kBAAAA,I;;;;;;;;;AAET;4BACaC,U,GAAa;AACtB;AACAC,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,KAAK,EAAE,IAAT;AAAeC,UAAAA,MAAM,EAAE;AAAvB,SAFY;AAGtB;AACAC,QAAAA,iBAAiB,EAAE;AAJG,O;AAM1B;;;gCACaC,c,GAAiB;AAC1B;AACAC,QAAAA,mBAAmB,EAAE,KAFK;AAEE;AAC5B;AACA;AACA;AACA;AACA;AACAC,QAAAA,aAAa,EAAE,IARW,CAQG;;AARH,O;AAY9B;;;iBACYC,Q;AAAAA,QAAAA,Q,CAAAA,Q;AAAAA,QAAAA,Q,CAAAA,Q;SAAAA,Q,wBAAAA,Q;;iBAMAC,W;AAAAA,QAAAA,W,CAAAA,W;AAAAA,QAAAA,W,CAAAA,W;AAAAA,QAAAA,W,CAAAA,W;SAAAA,W,2BAAAA,W;;AAMZ;4BACaC,U,GAAa;AACtB;AACAC,QAAAA,KAAK,EAAE,IAFe;;AAGtB;AACAC,QAAAA,YAAY,EAAEH,WAAW,CAACI,QAJJ;;AAKtB;AACAC,QAAAA,MAAM,EAAE,OANc;;AAOtB;AACAC,QAAAA,OAAO,EAAE,IARa;;AAUtB;AACAC,QAAAA,QAAQ,EAAE,oBAXY;;AAYtB;AACAC,QAAAA,aAAa,EAAE,YAbO;;AActB;AACAC,QAAAA,SAAS,EAAE,CAfW;;AAiBtB;AACAC,QAAAA,SAAS,EAAE,EAlBW;;AAmBtB;AACAC,QAAAA,UAAU,EAAE,EApBU;;AAsBtB;AACAC,QAAAA,QAAQ,EAAE,CAvBY;;AAwBtB;AACAC,QAAAA,aAAa,EAAE,EAzBO;;AA2BtB;AACA,YAAIC,aAAJ,GAAoB;AAChB,cAAI;AAAA;AAAA,oCAASC,KAAT,EAAJ,EAAsB;AAClB,mBAAO,QAAP;AACH;;AACD,iBAAO,QAAP;AACH,SAjCqB;;AAkCtB;AACA,YAAIC,MAAJ,GAAa;AACT,iBAAO;AAAA;AAAA,oCAASC,YAAhB;AACH,SArCqB;;AAsCtB;AACA,YAAIC,SAAJ,GAAgB;AACZ,iBAAO;AAAA;AAAA,oCAASC,UAAhB;AACH,SAzCqB;;AA0CtB;AACA,YAAIC,YAAJ,GAAmB;AACf,iBAAO;AAAA;AAAA,oCAASC,aAAhB;AACH,SA7CqB;;AA8CtB;AACA,YAAIC,UAAJ,GAAiB;AACb,iBAAO;AAAA;AAAA,oCAASC,WAAhB;AACH,SAjDqB;;AAkDtB;AACA,YAAIC,IAAJ,GAAW;AACP,iBAAO;AAAA;AAAA,oCAASC,KAAhB;AACH,SArDqB;;AAsDtB;AACA,YAAIC,IAAJ,GAAW;AACP,iBAAO;AAAA;AAAA,oCAASC,KAAhB;AACH,SAzDqB;;AA0DtB;AACA,YAAIC,KAAJ,GAAY;AACR,iBAAO;AAAA;AAAA,oCAASC,MAAhB;AACH,SA7DqB;;AA8DtB;AACA,YAAIC,IAAJ,GAAW;AACP,iBAAO;AAAA;AAAA,oCAASC,KAAhB;AACH,SAjEqB;;AAmEtB;AACA,YAAIC,KAAJ,GAAY;AACR,iBAAO;AAAA;AAAA,oCAASP,KAAhB;AACH,SAtEqB;;AAwEtB;AACA,YAAIQ,aAAJ,GAAoB;AAChB,iBAAO;AAAA;AAAA,oCAASC,cAAhB;AACH,SA3EqB;;AA4EtB;AACA,YAAIC,WAAJ,GAAkB;AACd,iBAAO;AAAA;AAAA,oCAASA,WAAhB;AACH,SA/EqB;;AAgFtB;AACA,YAAIC,YAAJ,GAAmB;AACf,iBAAO,EAAP;AACH,SAnFqB;;AAoFtB;AACA,YAAIC,cAAJ,GAAqB;AACjB,iBAAO,EAAP;AACH,SAvFqB;;AAwFtB;AACA,YAAIC,QAAJ,GAAe;AACX,iBAAO,EAAP;AACH,SA3FqB;;AA4FtB;AACA,YAAIC,SAAJ,GAAgB;AACZ,iBAAO,EAAP;AACH,SA/FqB;;AAgGtB;AACA,YAAIC,QAAJ,GAAe;AACX,iBAAO,EAAP;AACH;;AAnGqB,O;AAuG1B;;;4BACaxE,U,GAAN,MAAMA,UAAN,CAAiB;AAAA;AAAA,eA0CZyE,OA1CY,GA0CF,EA1CE;AAAA,eA4CZC,iBA5CY,GA4CkB3C,QAAQ,CAAC4C,IA5C3B;AAAA,eA8CZC,qBA9CY,GA8CYtE,gBAAgB,CAACuE,OA9C7B;AAAA,eAgDbC,YAhDa,GAgDE;AAAA;AAAA,kCAAQC,QAAR,CAAiBC,KAhDnB;;AAAA,eAkMbC,KAlMa,GAkML,YAA0B;AAAA,8CAAbC,IAAa;AAAbA,cAAAA,IAAa;AAAA;;AACrCC,YAAAA,OAAO,CAACC,GAAR,YAAgB,KAAKC,UAArB,aAAoC,GAAGH,IAAvC;AACH,WApMmB;;AAAA,eAsMbI,IAtMa,GAsMN,UAAUC,IAAV,EAAgBC,KAAhB,EAA8B;AAAA,gBAAdA,KAAc;AAAdA,cAAAA,KAAc,GAAN,IAAM;AAAA;;AACxC,gBAAI,CAACA,KAAL,EAAY;AACRA,cAAAA,KAAK,GAAG,QAAR;AACH;;AACD,iBAAKP,KAAL,CAAWO,KAAX;;AACA,gBAAIhF,GAAG,CAACiF,QAAJ,IAAgBjF,GAAG,CAACS,QAAJ,CAAayE,eAAjC,EAAkD;AAC9CP,cAAAA,OAAO,CAACQ,KAAR,CAAcJ,IAAd;AACH,aAFD,MAEO;AACH;AAAA;AAAA,kCAAMD,IAAN,CAAWC,IAAX;AACH;AACJ,WAhNmB;AAAA;;AAGM,mBAARR,QAAQ,GAAe;AACrC,cAAI,CAAC,KAAKa,SAAN,IAAmB,KAAKA,SAAL,IAAkB,IAAzC,EAA+C;AAC3C,iBAAKA,SAAL,GAAiB,IAAI5F,UAAJ,EAAjB;;AACA,iBAAK4F,SAAL,CAAeC,SAAf;AACH;;AACD,iBAAO,KAAKD,SAAZ;AACH;AAED;;;AAuCA;AACoB,YAAhBE,gBAAgB,CAACd,KAAD,EAAkB;AAClC,eAAKN,iBAAL,GAAyBM,KAAzB;AACH,SArDmB,CAsDpB;;;AACoB,YAAhBc,gBAAgB,GAAG;AACnB,iBAAO,KAAKpB,iBAAZ;AACH;AACD;;;AACwB,YAApBqB,oBAAoB,CAACC,IAAD,EAAO;AAC3B,eAAKpB,qBAAL,GAA6BoB,IAA7B;AACH,SA7DmB,CA8DpB;;;AACwB,YAApBD,oBAAoB,GAAG;AACvB,iBAAO,KAAKnB,qBAAZ;AACH;AACD;;;AACc,YAAVqB,UAAU,GAAmB;AAC7B,iBAAOjG,UAAU,CAACkG,aAAX,CAAyBjE,UAAU,CAACE,YAApC,CAAP;AACH;AACD;;;AACO,YAAHgE,GAAG,CAACC,GAAD,EAAc;AACjB,eAAK3B,OAAL,GAAe2B,GAAf,CADiB,CAEjB;AACA;AACH;AACD;;;AACO,YAAHD,GAAG,GAAG;AACN,iBAAO,KAAK1B,OAAZ;AACH;AAED;;;AACA4B,QAAAA,cAAc,GAAY;AACtB,iBAAOpE,UAAU,CAACE,YAAX,IAA2BH,WAAW,CAACsE,UAA9C;AACH;AAED;;;AACAT,QAAAA,SAAS,GAAG;AACR,eAAKM,GAAL,GAAW,KAAK1B,OAAhB;AAEA,eAAK8B,gBAAL;AACA;;AACAtG,UAAAA,IAAI,CAACuG,EAAL,CAAQtG,IAAI,CAACuG,UAAb,EAAyB,YAAY;AACjCzG,YAAAA,UAAU,CAAC+E,QAAX,CAAoBe,gBAApB,GAAuC/D,QAAQ,CAAC2E,IAAhD;AAEA;AAAA;AAAA,8CAAaC,QAAb,CAAsB;AAAA;AAAA,sCAASC,gBAA/B,EAAiD5G,UAAU,CAAC+E,QAAX,CAAoBe,gBAArE;AACH,WAJD;AAKA;;AACA7F,UAAAA,IAAI,CAACuG,EAAL,CAAQtG,IAAI,CAAC2G,UAAb,EAAyB,YAAY;AACjC7G,YAAAA,UAAU,CAAC+E,QAAX,CAAoBe,gBAApB,GAAuC/D,QAAQ,CAAC4C,IAAhD;AACA;AAAA;AAAA,8CAAagC,QAAb,CAAsB;AAAA;AAAA,sCAASC,gBAA/B,EAAiD5G,UAAU,CAAC+E,QAAX,CAAoBe,gBAArE;AACH,WAHD;AAIA;;AACA,cAAItF,GAAG,CAACiF,QAAJ,IAAgBjF,GAAG,CAACS,QAAJ,CAAayE,eAAjC,EAAkD;AAC9CvF,YAAAA,KAAK,CAACqG,EAAN,CAASpG,KAAK,CAAC0G,SAAN,CAAgBC,QAAzB,EAAmC,KAAKC,iBAAxC,EAA2D,IAA3D;AACH;AACD;;;AACA/G,UAAAA,IAAI,CAACuG,EAAL,CAAQ;AAAA;AAAA,4CAAaS,WAArB,EAAkC,YAAY;AAC1C;AAAA;AAAA,8CAAaN,QAAb,CAAsB;AAAA;AAAA,sCAASO,mBAA/B,EAAoD;AAAA;AAAA,oCAAQnC,QAAR,CAAiBoC,IAArE;AACH,WAFD;AAGA;;AACAlH,UAAAA,IAAI,CAACuG,EAAL,CAAQ;AAAA;AAAA,4CAAaY,YAArB,EAAmC,YAAY;AAC3C;AAAA;AAAA,8CAAaT,QAAb,CAAsB;AAAA;AAAA,sCAASU,oBAA/B,EAAqD;AAAA;AAAA,oCAAQtC,QAAR,CAAiBC,KAAtE;AACH,WAFD;AAGA;;AACAvE,UAAAA,IAAI,CAAC6G,iBAAL,CAAuB,MAAM;AACzB;AAAA;AAAA,8CAAaX,QAAb,CAAsB;AAAA;AAAA,sCAASY,mBAA/B;AACA;AAAA;AAAA,8CAAaZ,QAAb,CAAsB;AAAA;AAAA,sCAASa,iBAA/B;AACH,WAHD;AAKH;AACD;;;AACAC,QAAAA,gBAAgB,GAAG;AACf,cAAI,CAAC;AAAA;AAAA,gCAAOC,IAAR,IAAgB;AAAA;AAAA,gCAAOA,IAAP,CAAYC,eAAZ,MAAiC,KAArD,EAA4D;AACxD;AAAA;AAAA,kCAAOD,IAAP,CAAYE,aAAZ,CAA0B,CAA1B;AACA;AAAA;AAAA,oCAAQ7C,QAAR,CAAiB8C,YAAjB;AACA;AAAA;AAAA,8CAAalB,QAAb,CAAsB;AAAA;AAAA,sCAASmB,eAA/B;AACA;AACH,WANc,CAOf;;;AACA,cAAIC,IAAI,GAAG;AACPC,YAAAA,MAAM,EAAE;AAAA;AAAA,kCAAOC,IAAP,CAAYC,YAAZ,EADD;AAEPC,YAAAA,KAAK,EAAE;AAAA;AAAA,kCAAOF,IAAP,CAAYG,aAAZ,EAFA;AAGPC,YAAAA,OAAO,EAAE;AAAA;AAAA,kCAAOJ,IAAP,CAAYK,aAAZ,EAHF;AAIPC,YAAAA,QAAQ,EAAE;AAJH,WAAX;AAMA;AAAA;AAAA,gCAAOC,UAAP,CAAkBC,YAAlB,GAAiCV,IAAjC;AACA;AAAA;AAAA,gCAAOL,IAAP,CAAYgB,cAAZ,GAA6B,KAA7B,CAfe,CAgBf;;AACA;AAAA;AAAA,4CAAa/B,QAAb,CAAsB;AAAA;AAAA,oCAASgC,cAA/B;AACH;;AACD;AACA3B,QAAAA,iBAAiB,CAAC4B,KAAD,EAAuB;AACpCzD,UAAAA,OAAO,CAACC,GAAR,kDAAuCwD,KAAK,CAACC,OAA7C;;AACA,kBAAQD,KAAK,CAACC,OAAd;AACI,iBAAKxI,OAAO,CAACyI,EAAb;AACI;AAAA;AAAA,gDAAanC,QAAb,CAAsB;AAAA;AAAA,wCAASoC,kBAA/B,EAAmD;AAAEC,gBAAAA,KAAK,EAAE;AAAT,eAAnD;AACA;;AAGJ,iBAAK3I,OAAO,CAAC4I,EAAb;AACI;AAAA;AAAA,gDAAatC,QAAb,CAAsB;AAAA;AAAA,wCAASuC,0BAA/B,EAA2D,IAA3D,EAAiE,EAAjE;AACA;AAAA;AAAA,gDAAavC,QAAb,CAAsB;AAAA;AAAA,wCAASwC,YAA/B,EAA6C;AAAA;AAAA,gCAAKC,UAAlD;AACA;;AACJ,iBAAK/I,OAAO,CAACgJ,EAAb;AACI;AAAA;AAAA,gDAAa1C,QAAb,CAAsB;AAAA;AAAA,wCAASoC,kBAA/B,EAAmD;AAAEC,gBAAAA,KAAK,EAAE;AAAA;AAAA,8CAAWM,WAAX,CAAuBC;AAAhC,eAAnD;AACA;;AAEJ,iBAAKlJ,OAAO,CAACmJ,EAAb;AAAiB;AACb,mBAAK/B,gBAAL;AACA;;AACJ,iBAAKpH,OAAO,CAACoJ,EAAb;AAAiB;AACb;AACA;;AAEJ,iBAAKpJ,OAAO,CAACqJ,MAAb;AAAqB;AACjB,mBAAKC,gBAAL;;AACA;;AACJ;AACI;AAzBR;AA2BH;AAED;;;AACQA,QAAAA,gBAAgB,GAAG;AACvB,eAAK1E,KAAL,CAAW,aAAX;AACA;AAAA;AAAA,4CAAa2E,GAAb,CAAiB;AAAA;AAAA,oCAASC,sBAA1B,EAAkD,KAAlD;AACA;AAAA;AAAA,4CAAaC,KAAb;AACA;AAAA;AAAA,gCAAOpC,IAAP,CAAYE,aAAZ,CAA0B,CAA1B;AACA;AAAA;AAAA,kCAAQ7C,QAAR,CAAiB8C,YAAjB;AACA;AAAA;AAAA,4CAAalB,QAAb,CAAsB;AAAA;AAAA,oCAASmB,eAA/B;AACH,SArLmB,CAsLpB;;;AACAvB,QAAAA,gBAAgB,GAAG;AACftG,UAAAA,IAAI,CAAC8J,GAAL,CAAS7J,IAAI,CAACuG,UAAd;AACAxG,UAAAA,IAAI,CAAC8J,GAAL,CAAS7J,IAAI,CAAC2G,UAAd;AACA5G,UAAAA,IAAI,CAAC8J,GAAL,CAAS;AAAA;AAAA,4CAAa3C,YAAtB;AACAnH,UAAAA,IAAI,CAAC8J,GAAL,CAAS;AAAA;AAAA,4CAAa9C,WAAtB;;AACA,cAAIzG,GAAG,CAACiF,QAAJ,IAAgBjF,GAAG,CAACS,QAAJ,CAAayE,eAAjC,EAAkD;AAC9CvF,YAAAA,KAAK,CAAC4J,GAAN,CAAU3J,KAAK,CAAC0G,SAAN,CAAgBC,QAA1B;AACH;AACJ,SA/LmB,CAiMpB;;;AAjMoB,O;;AAAX/G,MAAAA,U,CAEM4F,S,GAAY,I;AAFlB5F,MAAAA,U,CAYKkG,a,GAAmD;AAC7D;AACA,SAAClE,WAAW,CAACI,QAAb,GAAwB;AACpB;AACA4H,UAAAA,IAAI,EAAE,KAFc;;AAGpB;AACAC,UAAAA,GAAG,EAAE,sCAJe;;AAKpB;AACAC,UAAAA,MAAM,EAAE;AANY,SAFqC;;AAU7D;AACA,SAAClI,WAAW,CAACmI,OAAb,GAAuB;AACnB;AACAH,UAAAA,IAAI,EAAE,KAFa;;AAGnB;AACAC,UAAAA,GAAG,EAAE,sCAJc;;AAKnB;AACAC,UAAAA,MAAM,EAAE;AANW,SAXsC;;AAmB7D;AACA,SAAClI,WAAW,CAACsE,UAAb,GAA0B;AACtB;AACA0D,UAAAA,IAAI,EAAE,KAFgB;;AAGtB;AACAC,UAAAA,GAAG,EAAE,8CAJiB;;AAKtB;AACAC,UAAAA,MAAM,EAAE;AANc;AApBmC,O;;AAyMrE,UAAIxJ,MAAJ,EAAY;AACR;AACAH,QAAAA,EAAE,CAAC6J,QAAH,CAAYC,SAAZ,CAAsB,QAAtB,IAAkC,UAAUC,EAAV,EAAc;AAC5C,cAAI5J,MAAJ,EAAY;AACR,aAAC,QAAD,EAAW,sBAAX,IAAqC,CAArC;AACA,aAAC,QAAD,EAAW,qBAAX,IAAoC,CAApC;AACH;;AACD,cAAI,KAAK6J,MAAT,EAAiB;AACjBD,UAAAA,EAAE,IAAI,KAAKE,SAAL,GAAiBjK,EAAE,CAAC,WAAD,CAAzB;;AACA,cAAI,KAAKkK,iBAAL,EAAJ,EAA8B;AAC1B;AACA,gBAAI,KAAKC,cAAT,EAAyB;AACrB,kBAAI,KAAKC,eAAL,CAAqBC,MAArB,KAAgC,CAAhC,IAAqC,CAAC,KAAKC,YAA/C,EAA6D;AACzD,oBAAIC,UAAU,GAAG,KAAKC,WAAtB;;AACA,oBAAID,UAAU,IAAIA,UAAU,CAACE,SAAX,EAAlB,EAA0C;AACtCF,kBAAAA,UAAU,CAACG,aAAX;AACA,sBAAIC,MAAM,GAAGJ,UAAU,CAACI,MAAxB;AACA,uBAAKC,SAAL,GAAiBD,MAAM,CAACA,MAAM,CAACN,MAAP,GAAgB,CAAjB,CAAvB;AACH;;AACD;AACH;;AACD,kBAAI,CAAC,KAAKC,YAAV,EAAwB;AACpB,qBAAKA,YAAL,GAAoB,KAAKF,eAAL,CAAqBS,KAArB,EAApB;AACH;;AACD,mBAAKC,QAAL,IAAiBf,EAAjB;;AACA,kBAAI,KAAKe,QAAL,GAAgB,KAAKR,YAAL,CAAkBS,KAAtC,EAA6C;AACzC,oBAAIC,OAAO,GAAG,KAAKV,YAAnB;AACA,qBAAKA,YAAL,GAAoB,IAApB;AACA,qBAAKW,YAAL,CAAkB,CAAlB,EAAqBD,OAAO,CAACE,aAA7B,EAA4CF,OAAO,CAACG,IAApD;AACH;;AACD;AACH;;AACD,iBAAKC,YAAL,CAAkBrB,EAAlB;AACH,WAxBD,MAwBO;AACH,iBAAKsB,eAAL,CAAqBtB,EAArB;AACH;AACJ,SAlCD;AAmCH","sourcesContent":["/**\n * Name = Config\n * URL = db://assets/config/Config.ts\n * Time = Wed Apr 06 2022 16:07:18 GMT+0800 (中国标准时间)\n * Author = xueya\n *\n */\n\nimport { EventKeyboard, game, Game, input, Input, KeyCode, ResolutionPolicy, sp, sys, view } from \"cc\";\nimport { EDITOR } from \"cc/env\";\nimport { GCache } from \"../cache/GCache\";\nimport { inf_AppUrlConf } from \"../framework/InterfaceDefines\";\nimport { LocalStorage } from \"../framework/LocalStorage\";\nimport { EventManager } from \"../framework/manager/EventManager\";\nimport { Network, NetworkEvent } from \"../framework/network/NetState\";\nimport { Utils } from \"../framework/Utils\";\nimport { Platform } from \"../platform/Platform\";\nimport { GSocket } from \"../proj/gnet/GSocket\";\nimport { AppEvent } from \"./AppEvent\";\nimport { GConstants, StoreKey } from \"./GameConstant\";\nimport { UIID } from \"./UIConfig\";\n\n/** 系统应用配置 */\nexport const SystemConf = {\n    //设计分辨率\n    DEV_SIZE: { width: 1280, height: 720 },\n    //微信平台右边UI空隙\n    WX_RIGHT_SPANCE_X: 100,\n}\n/** 游戏内的开关配置 */\nexport const GameSwitchConf = {\n    // HeadUpload: false, // true: 屏蔽头像上传\n    CustomizeChatSwitch: false, // true：屏蔽自定义聊天入口\n    // NickSwitch: false, // true：昵称过滤\n    // NickModify: true, // 是否允许修改昵称\n    // slotGameSwitch : true, // 小游戏是否关闭\n    // ReportSwitch: false, // true：开启点击失败上报，false：默认不上报\n    // LocationSwitch: false, // 定位相关功能\n    GameOverShare: true,         //游戏结算分享开关\n\n}\n\n/**应用显隐 */\nexport enum APPState {\n    SHOW,\n    HIDE,\n}\n\n/** 网络环境 */\nexport enum GameNetType {\n    NET_TEST,  //测试环境\n    NET_DEV, //开发环境\n    NET_ONLINE, //外网\n}\n\n/**客户端设备信息 */\nexport const ClientInfo = {\n    /** 调试开关 */\n    DEBUG: true,\n    /** 当前服务器 */\n    CurrowServer: GameNetType.NET_TEST,\n    /** 版本 */\n    AppVer: \"1.0.4\",\n    /** 大厅版本号 */\n    HallVer: 1978,\n\n    /** 小程序APPID */\n    WX_AppID: \"wx7f5020ca94d64ab1\",\n    /** 米大师侧注册的应用ID */\n    WX_PayOfferId: \"1450087932\",\n    /** 支付环境（0:正式 1:沙箱） */\n    WX_PayEnv: 1,\n\n    /** 大渠道ID */\n    ChannelId: \"\",\n    /** 渠道Key */\n    ChannelKey: \"\",\n\n    /** 区域ID */\n    RegionId: 0,\n    /** 激励视频广告ID */\n    AdVideoUnitId: \"\",\n\n    /** 平台ID */\n    get PlatFormAppID() {\n        if (Platform.isIOS()) {\n            return 45101000;\n        }\n        return 45103000;\n    },\n    /**操作系统版本*/\n    get SysVer() {\n        return Platform._platformVer\n    },\n    /**物理网卡地址*/\n    get MachineId() {\n        return Platform._Machineid\n    },\n    /**物理网卡型号*/\n    get MachineModel() {\n        return Platform._MachineModel\n    },\n    /**设备机型*/\n    get PhoneModel() {\n        return Platform._PhoneModel\n    },\n    /**设备ID*/\n    get Guid() {\n        return Platform._Guid\n    },\n    /**设备imsi*/\n    get IMSI() {\n        return Platform._IMSI\n    },\n    /**设备iccid*/\n    get ICCID() {\n        return Platform._ICCID\n    },\n    /**设备iMEI*/\n    get IMEI() {\n        return Platform._IMEI\n    },\n\n    /**设备SSAID*/\n    get SSAID() {\n        return Platform._Guid\n    },\n\n    /**运营商类型*/\n    get PhoneCardType() {\n        return Platform._PhoneCardType\n    },\n    /**网络类型*/\n    get NetWorkType() {\n        return Platform.NetWorkType\n    },\n    /**客户端安全码【安卓客户端必填】*/\n    get SignDeviceId() {\n        return \"\"\n    },\n    /**客户端安全码(针对物理网卡地址)*/\n    get SignMacAddress() {\n        return \"\"\n    },\n    /**客户端安全码(针对Guid)*/\n    get SignGuid() {\n        return \"\"\n    },\n    /**iOS厂商ID*/\n    get FactoryId() {\n        return \"\"\n    },\n    /**包名*/\n    get BundleId() {\n        return \"\"\n    },\n\n}\n\n/**应用配置 */\nexport class GameConfig {\n\n    private static _instance = null;\n    public static get instance(): GameConfig {\n        if (!this._instance || this._instance == null) {\n            this._instance = new GameConfig();\n            this._instance.initInput()\n        }\n        return this._instance;\n    }\n\n    /** 地址配置 */\n    public static ServerUrlConf: { [key: number]: inf_AppUrlConf } = {\n        /** 测试服 */\n        [GameNetType.NET_TEST]: {\n            /** 自定义命名 */\n            Name: \"测试服\",\n            /** Web地址 */\n            Web: \"http://192.168.201.78/dfqp/index.php\",\n            /** socket */\n            Socket: \"ws://192.168.203.219:10102\",\n        },\n        /** 预发布 */\n        [GameNetType.NET_DEV]: {\n            /** 自定义命名 */\n            Name: \"预发布\",\n            /** Web地址 */\n            Web: \"http://192.168.201.78/dfqp/index.php\",\n            /** socket */\n            Socket: \"wss://dfnewaccess01.boyaa.com/\",\n        },\n        /** 正式服 */\n        [GameNetType.NET_ONLINE]: {\n            /** 自定义命名 */\n            Name: \"正式服\",\n            /** Web地址 */\n            Web: \"https://mvsnspus01.ifere.com/ddfqp/index.php\",\n            /** socket */\n            Socket: \"wss://dfnewac01.ifere.com/\",\n        }\n    }\n    /** 游戏帧率 */\n    private _AppFPS = 60;\n    /** 应用显示状态 */\n    private _ApplicationState: APPState = APPState.SHOW;\n    /** 适配模式 */\n    private _ResolutionPolicyType = ResolutionPolicy.UNKNOWN;\n    /** 网络状态 */\n    public NetWorkState = Network.instance.state;\n\n    //应用显示状态\n    set ApplicationState(state: APPState) {\n        this._ApplicationState = state\n    }\n    //获取应用显示状态\n    get ApplicationState() {\n        return this._ApplicationState\n    }\n    /** 设置适配模式 */\n    set ResolutionPolicyType(type) {\n        this._ResolutionPolicyType = type;\n    }\n    //获取适配模式\n    get ResolutionPolicyType() {\n        return this._ResolutionPolicyType;\n    }\n    /** 获取当前网络地址配置 */\n    get AppUrlConf(): inf_AppUrlConf {\n        return GameConfig.ServerUrlConf[ClientInfo.CurrowServer];\n    }\n    /** 设置游戏帧率 */\n    set FPS(num: number) {\n        this._AppFPS = num;\n        // this._AppFPS = 59;\n        // game.frameRate = this._AppFPS;\n    }\n    /** 设置游戏帧率 */\n    get FPS() {\n        return this._AppFPS;\n    }\n\n    /** 是否线上 */\n    isOnlineServer(): boolean {\n        return ClientInfo.CurrowServer == GameNetType.NET_ONLINE;\n    }\n\n    /** 初始化基础事件监听 */\n    initInput() {\n        this.FPS = this._AppFPS;\n\n        this.clearAllListener();\n        /** 系统后台事件 */\n        game.on(Game.EVENT_HIDE, function () {\n            GameConfig.instance.ApplicationState = APPState.HIDE\n\n            EventManager.dispatch(AppEvent.SYS_SHOW_OR_HIDE, GameConfig.instance.ApplicationState)\n        })\n        /** 系统前台事件 */\n        game.on(Game.EVENT_SHOW, function () {\n            GameConfig.instance.ApplicationState = APPState.SHOW\n            EventManager.dispatch(AppEvent.SYS_SHOW_OR_HIDE, GameConfig.instance.ApplicationState)\n        })\n        /** 按键监听 */\n        if (sys.platform == sys.Platform.DESKTOP_BROWSER) {\n            input.on(Input.EventType.KEY_DOWN, this.onkeyDownCallback, this);\n        }\n        /** 网络名称变化 */\n        game.on(NetworkEvent.CHANGE_NAME, function () {\n            EventManager.dispatch(AppEvent.SYS_NET_CHANGE_NAME, Network.instance.name)\n        })\n        /** 网络状态变化 */\n        game.on(NetworkEvent.CHANGE_STATE, function () {\n            EventManager.dispatch(AppEvent.SYS_NET_CHANGE_STATE, Network.instance.state)\n        })\n        /** 窗口尺寸大小变化 */\n        view.setResizeCallback(() => {\n            EventManager.dispatch(AppEvent.SYS_WINDOW_ADAPTIVE);\n            EventManager.dispatch(AppEvent.SYS_WINDOW_CHANGE);\n        })\n\n    }\n    /** 重连游戏 */\n    toReqConnectRoom() {\n        if (!GCache.User || GCache.User.isLoginSuccesed() == false) {\n            GCache.User.setLoginState(0);\n            GSocket.instance.closeConnect()\n            EventManager.dispatch(AppEvent.LOGIN_GOTO_SHOW);\n            return;\n        }\n        //设置缓存数据\n        let body = {\n            GameID: GCache.Desk.getCurGameID(),\n            Level: GCache.Desk.getCurLevelID(),\n            TableID: GCache.Desk.getCurTableID(),\n            isReconn: true,\n        };\n        GCache.SelectGame.intoGameData = body;\n        GCache.User.LoginRoomState = false;\n        //加载游戏场景\n        EventManager.dispatch(AppEvent.GAME_GOTO_SHOW)\n    };\n    //按键监听\n    onkeyDownCallback(event: EventKeyboard) {\n        console.log(`***********按键监听 keyCode:${event.keyCode}********`);\n        switch (event.keyCode) {\n            case KeyCode.F1:\n                EventManager.dispatch(AppEvent.NET_REQ_GOODS_INFO, { scene: 1 })\n                break;\n\n\n            case KeyCode.F2:\n                EventManager.dispatch(AppEvent.NET_REQ_BANKRUPT_GIFT_CONF, 2000, 12)\n                EventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.BankupGift);\n                break;\n            case KeyCode.F3:\n                EventManager.dispatch(AppEvent.NET_REQ_GOODS_INFO, { scene: GConstants.GoodsListID.limitPack })\n                break;\n\n            case KeyCode.F5: //请求重连\n                this.toReqConnectRoom();\n                break;\n            case KeyCode.F6: //请求重连\n                // EventManager.dispatch(DGZEvent.GAME_OPTION_SHOW, DGZConstant.OPT_STATE.START_KOUDI, null)\n                break;\n\n            case KeyCode.ESCAPE: //踢到登录\n                this.__toForwardLogin();\n                break;\n            default:\n                break;\n        }\n    }\n\n    /** 跳转到登录 */\n    private __toForwardLogin() {\n        this.print(\"---跳转到登录---\")\n        LocalStorage.set(StoreKey.LOGIN_LAST_CHECK_AGREE, false);\n        LocalStorage.clear();\n        GCache.User.setLoginState(0);\n        GSocket.instance.closeConnect()\n        EventManager.dispatch(AppEvent.LOGIN_GOTO_SHOW);\n    }\n    //清理事件监听\n    clearAllListener() {\n        game.off(Game.EVENT_HIDE);\n        game.off(Game.EVENT_SHOW);\n        game.off(NetworkEvent.CHANGE_STATE);\n        game.off(NetworkEvent.CHANGE_NAME);\n        if (sys.platform == sys.Platform.DESKTOP_BROWSER) {\n            input.off(Input.EventType.KEY_DOWN);\n        }\n    }\n\n    //当前类日志输出\n    public print = function (...args: any[]) {\n        console.log(`【${this._className}】`, ...args);\n    }\n    //当前类日志输出\n    public dump = function (arg1, args2 = null) {\n        if (!args2) {\n            args2 = \"打印输出 :\"\n        }\n        this.print(args2)\n        if (sys.platform == sys.Platform.DESKTOP_BROWSER) {\n            console.table(arg1);\n        } else {\n            Utils.dump(arg1);\n        }\n    }\n\n\n}\n\nif (EDITOR) {\n    // 重写update方法 达到在编辑模式下 自动播放动画的功能\n    sp.Skeleton.prototype['update'] = function (dt) {\n        if (EDITOR) {\n            ['engine'][\"_animatingInEditMode\"] = 1;\n            ['engine'][\"animatingInEditMode\"] = 1;\n        }\n        if (this.paused) return;\n        dt *= this.timeScale * sp['timeScale'];\n        if (this.isAnimationCached()) {\n            // Cache mode and has animation queue.\n            if (this._isAniComplete) {\n                if (this._animationQueue.length === 0 && !this._headAniInfo) {\n                    let frameCache = this._frameCache;\n                    if (frameCache && frameCache.isInvalid()) {\n                        frameCache.updateToFrame();\n                        let frames = frameCache.frames;\n                        this._curFrame = frames[frames.length - 1];\n                    }\n                    return;\n                }\n                if (!this._headAniInfo) {\n                    this._headAniInfo = this._animationQueue.shift();\n                }\n                this._accTime += dt;\n                if (this._accTime > this._headAniInfo.delay) {\n                    let aniInfo = this._headAniInfo;\n                    this._headAniInfo = null;\n                    this.setAnimation(0, aniInfo.animationName, aniInfo.loop);\n                }\n                return;\n            }\n            this._updateCache(dt);\n        } else {\n            this._updateRealtime(dt);\n        }\n    }\n}\n"]}