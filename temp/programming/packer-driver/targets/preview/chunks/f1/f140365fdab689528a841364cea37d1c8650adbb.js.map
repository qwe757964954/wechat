{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/game/module/settle/src/NodeHead.ts"],"names":["Node","_decorator","SpriteLoad","Utils","BaseComponent","FXJRes","ccclass","property","NodeHead","tooltip","type","onInitModuleEvent","onLoad","updateUserHead","playerInfo","spriteLoad","headNode","getComponent","headArray","s","avatar_s","m","avatar_m","b","avatar_b","string_isHttp","setRemoteUrl","sex","setLocalLoad","Picture_UserBigHead_girl","bundle","path","Picture_UserBigHead_boy","updateUserHeadBox","headBoxNode","string_isEmpty","headBox"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,I,OAAAA,I;AAAMC,MAAAA,U,OAAAA,U;;AACRC,MAAAA,U;;AACEC,MAAAA,K,iBAAAA,K;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,M,iBAAAA,M;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;0BAGaO,Q,WADZF,OAAO,CAAC,UAAD,C,UAENC,QAAQ,CAAC;AAAEE,QAAAA,OAAO,EAAE,QAAX;AAAqBC,QAAAA,IAAI,EAAEV;AAA3B,OAAD,C,UAGRO,QAAQ,CAAC;AAAEE,QAAAA,OAAO,EAAE,QAAX;AAAqBC,QAAAA,IAAI,EAAEV;AAA3B,OAAD,C,2BALV,MACaQ,QADb;AAAA;AAAA,0CAC4C;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAO3C;AACUG,QAAAA,iBAAiB,GAAG,CAE7B;;AAEDC,QAAAA,MAAM,GAAG,CAER;;AAED;AACAC,QAAAA,cAAc,CAACC,UAAD,EAAkC;AAC/C,cAAIC,UAAU,GAAG,KAAKC,QAAL,CAAcC,YAAd;AAAA;AAAA,uCAAjB;AACA,cAAIC,SAAS,GAAG;AACfC,YAAAA,CAAC,EAAEL,UAAU,CAACM,QADC;AAEfC,YAAAA,CAAC,EAAEP,UAAU,CAACQ,QAFC;AAGfC,YAAAA,CAAC,EAAET,UAAU,CAACU;AAHC,WAAhB;;AAKA,cAAI;AAAA;AAAA,8BAAMC,aAAN,CAAoBP,SAAS,CAACC,CAA9B,CAAJ,EAAsC;AACrCJ,YAAAA,UAAU,CAACW,YAAX,CAAwBR,SAAS,CAACC,CAAlC,EAAqC,MAAM;AAC1C,kBAAIL,UAAU,CAACa,GAAX,IAAkB,CAAtB,EAAyB;AACxBZ,gBAAAA,UAAU,CAACa,YAAX,CAAwB;AAAA;AAAA,sCAAOC,wBAAP,CAAgCC,MAAxD,EAAgE;AAAA;AAAA,sCAAOD,wBAAP,CAAgCE,IAAhG;AACA,eAFD,MAEO;AACNhB,gBAAAA,UAAU,CAACa,YAAX,CAAwB;AAAA;AAAA,sCAAOI,uBAAP,CAA+BF,MAAvD,EAA+D;AAAA;AAAA,sCAAOE,uBAAP,CAA+BD,IAA9F;AACA;AACD,aAND;AAOA,WARD,MAQO;AACN,gBAAIjB,UAAU,CAACa,GAAX,IAAkB,CAAtB,EAAyB;AACxBZ,cAAAA,UAAU,CAACa,YAAX,CAAwB;AAAA;AAAA,oCAAOC,wBAAP,CAAgCC,MAAxD,EAAgE;AAAA;AAAA,oCAAOD,wBAAP,CAAgCE,IAAhG;AACA,aAFD,MAEO;AACNhB,cAAAA,UAAU,CAACa,YAAX,CAAwB;AAAA;AAAA,oCAAOI,uBAAP,CAA+BF,MAAvD,EAA+D;AAAA;AAAA,oCAAOE,uBAAP,CAA+BD,IAA9F;AACA;AACD;AACD,SAvC0C,CAwC3C;;;AACAE,QAAAA,iBAAiB,CAACnB,UAAD,EAAkC;AAClD,cAAIC,UAAU,GAAG,KAAKmB,WAAL,CAAiBjB,YAAjB;AAAA;AAAA,uCAAjB;;AACA,cAAI;AAAA;AAAA,8BAAMkB,cAAN,CAAqBrB,UAAU,CAACsB,OAAhC,KAA4C,KAAhD,EAAuD;AACtDrB,YAAAA,UAAU,CAACW,YAAX,CAAwBZ,UAAU,CAACsB,OAAnC;AACA;AACD;;AA9C0C,O;;;;;iBAEZ,I;;;;;;;iBAGG,I","sourcesContent":["\nimport { Node, _decorator } from 'cc';\nimport SpriteLoad from '../../../../../framework/gui/sprite/SpriteLoad';\nimport { Utils } from '../../../../../framework/Utils';\nimport { BaseComponent } from '../../../../../framework/vc/BaseComponent';\nimport { FXJRes } from '../../../common/FXJRes';\nimport { Common } from '../../../common/idl/Common';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = NodeHead\n * URL = db://assets/package/game/module/settle/src/NodeHead.ts\n * Time = Wed Aug 09 2023 16:24:25 GMT+0800 (中国标准时间)\n * Author = qwe757964\n *\n * Life: onLoad-->onInitModuleEvent-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n */\n\n@ccclass('NodeHead')\nexport class NodeHead extends BaseComponent {\n\t@property({ tooltip: \"玩家信息背景\", type: Node })\n\tpublic headNode: Node | null = null;\n\n\t@property({ tooltip: \"玩家信息背景\", type: Node })\n\tpublic headBoxNode: Node | null = null;\n\n\t/** override 初始化模块事件 */\n\tprotected onInitModuleEvent() {\n\n\t};\n\n\tonLoad() {\n\n\t};\n\n\t//更新用户头像\n\tupdateUserHead(playerInfo: Common.GameUserInfo) {\n\t\tlet spriteLoad = this.headNode.getComponent(SpriteLoad);\n\t\tlet headArray = {\n\t\t\ts: playerInfo.avatar_s,\n\t\t\tm: playerInfo.avatar_m,\n\t\t\tb: playerInfo.avatar_b,\n\t\t}\n\t\tif (Utils.string_isHttp(headArray.s)) {\n\t\t\tspriteLoad.setRemoteUrl(headArray.s, () => {\n\t\t\t\tif (playerInfo.sex == 2) {\n\t\t\t\t\tspriteLoad.setLocalLoad(FXJRes.Picture_UserBigHead_girl.bundle, FXJRes.Picture_UserBigHead_girl.path);\n\t\t\t\t} else {\n\t\t\t\t\tspriteLoad.setLocalLoad(FXJRes.Picture_UserBigHead_boy.bundle, FXJRes.Picture_UserBigHead_boy.path);\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tif (playerInfo.sex == 2) {\n\t\t\t\tspriteLoad.setLocalLoad(FXJRes.Picture_UserBigHead_girl.bundle, FXJRes.Picture_UserBigHead_girl.path);\n\t\t\t} else {\n\t\t\t\tspriteLoad.setLocalLoad(FXJRes.Picture_UserBigHead_boy.bundle, FXJRes.Picture_UserBigHead_boy.path);\n\t\t\t}\n\t\t}\n\t}\n\t//更新用户头像框\n\tupdateUserHeadBox(playerInfo: Common.GameUserInfo) {\n\t\tlet spriteLoad = this.headBoxNode.getComponent(SpriteLoad);\n\t\tif (Utils.string_isEmpty(playerInfo.headBox) == false) {\n\t\t\tspriteLoad.setRemoteUrl(playerInfo.headBox)\n\t\t}\n\t}\n\n}\n\n"]}