{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/cache/GoodsData.ts"],"names":["GoodsData","Size","Vec3","GConstants","GameRes","Encrypt","Utils","BaseCache","constructor","superClass","__User","_goodsData","_GoodsInfoList","_GoodsPayWaysList","_GoodsGiftList","RolesConf","role_id","path","Spine_Roles_XiaoBo","standby","hall","role","clickSize","name","IMG_Roles_XiaoBo_Name","get_new_role","quality","scale","offset","skinId","skin","Spine_Roles_Xiaoya","IMG_Roles_Xiaoya_Name","update","type","body","UserGoodsDataType","GOODS_CONFIG","updateGoods","table_isEmpty","info","res","mergeArrayDefault","updateGoodsInfoList","getGoodsInfoByGoodsID","goodsID","getGoodsGiftByGoodsID","getOneGoodGift","gid","isNotNull","number_valueOf","goodsList","i","length","scene","payConf","isNull","table_verify","map","Map","key","Object","prototype","hasOwnProperty","call","goodInfo","nullToDefault","string_isEmpty","__analysisGoodAwardInfo","__getGoodsPmodes","__getCurrencyDesc","__getDescByPriority","set","size","resultArray","arrayLike","Array","from","sort","a","b","index","push","award","_award","id","n","strPmodes","pmodes","JsonDecode","_item","icon","num","item","currencyType","currency_desc","GoodMoneyType","diamond","gold","privilegeTips","specialDesc","data","getGoodsData","clone","getGoodsByID","goodID","String","getGoodNameByID","getGoodIconByID","getGoodItemKindByID","getRoleAnimConfigById","roleId","getUserSex"],"mappings":"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","sourcesContent":["/**\n * Name = GoodsData\n * URL = db://assets/cache/GoodsData.ts\n * Time = Tue Jun 28 2022 12:26:28 GMT+0800 (中国标准时间)\n * Author = xueya\n * 商品\n */\n\nimport { Size, Vec3 } from \"cc\";\nimport { GConstants } from \"../config/GameConstant\";\nimport { GameRes } from \"../config/GameRes\";\nimport { Encrypt } from \"../framework/crypto/Encrypto\";\nimport { Utils } from \"../framework/Utils\";\nimport { BaseCache } from \"../framework/vc/BaseCache\";\nimport { User } from \"./User\";\n\nexport class GoodsData extends BaseCache {\n\t/** 用户类 */\n\tprivate __User: User = null;\n\t/** 物品 */\n\tprivate _goodsData = {};\n\t/** 所有分类商品缓存列表 */\n\tprivate _GoodsInfoList = {};\n\t/** 分类商品的支付渠道列表 */\n\tprivate _GoodsPayWaysList = {};\n\t/** 分类商品的商品列表 */\n\tprivate _GoodsGiftList = {};\n\n\t/** 角色配置(前两位不能替换位置) */\n\tpublic RolesConf = [\n\t\t{\n\t\t\trole_id: \"30\",\n\t\t\tpath: GameRes.Spine_Roles_XiaoBo,\n\t\t\tstandby: [\"idle1\", \"idle1\", \"idle1\", \"idle2\"],\n\t\t\thall: \"dating\",\n\t\t\trole: \"interactive\",\n\t\t\tclickSize: new Size(400, 630),\n\t\t\t// mask: GameRes.IMG_Roles_XiaoBo_Mask,\n\t\t\t// select: GameRes.IMG_Roles_XiaoBo_Select,\n\t\t\tname: GameRes.IMG_Roles_XiaoBo_Name,\n\t\t\tget_new_role: {\n\t\t\t\tname: \"小博\",\n\t\t\t\tquality: \"B\", // B\n\t\t\t\tscale: 1.5,\n\t\t\t\toffset: new Vec3(23, -590, 0),\n\t\t\t\t// bg: GameRes.IMG_Roles_AnimBg_3,\n\t\t\t},\n\t\t\t/** 默认的皮肤ID (未完待续)*/\n\t\t\tskinId: 1,\n\t\t\t/** 皮肤配置 (未完待续)*/\n\t\t\tskin: {}\n\t\t},\n\t\t{\n\t\t\trole_id: \"31\",\n\t\t\tpath: GameRes.Spine_Roles_Xiaoya,\n\t\t\tstandby: [\"idle1\", \"idle1\", \"idle2\"],\n\t\t\thall: \"dating\",\n\t\t\trole: \"interactive\",\n\t\t\tclickSize: new Size(400, 580),\n\t\t\t// mask: GameRes.IMG_Roles_Xiaoya_Mask,\n\t\t\t// select: GameRes.IMG_Roles_Xiaoya_Select,\n\t\t\tname: GameRes.IMG_Roles_Xiaoya_Name,\n\t\t\tget_new_role: {\n\t\t\t\tname: \"小雅\",\n\t\t\t\tquality: \"B\", // B\n\t\t\t\tscale: 1.5,\n\t\t\t\toffset: new Vec3(10, -512, 0),\n\t\t\t\t// bg: GameRes.IMG_Roles_AnimBg_3,\n\t\t\t}\n\t\t},\n\t]\n\n\t//实例化\n\tconstructor(superClass) {\n\t\tsuper(\"GoodsData\")\n\t\tthis.__User = superClass;\n\t};\n\n\t/**\n\t * 同步更新数据\n\t * @param type 详见GConstant.UserGoodsDataType的定义\n\t * @param body \n\t */\n\tupdate(type, body) {\n\t\tif (!body || !body[\"content\"]) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (type) {\n\t\t\tcase GConstants.UserGoodsDataType.GOODS_CONFIG:\n\n\t\t\t\tbreak;\n\t\t}\n\t\t// if (type == GConstants.UserGoodsDataType.GOODS_CONFIG) {//更新物品数据\n\t\t// \t\tif (body[\"version\"] == this._goodsDataVer && body[\"version\"] != null) {\n\t\t// \t\t\t\treturn;\n\t\t// \t\t}\n\t\t// \t\tthis._goodsData = {};\n\t\t// \t\tfor (let key in body[\"content\"]) {\n\t\t// \t\t\t\tif (Object.prototype.hasOwnProperty.call(body[\"content\"], key)) {\n\t\t// \t\t\t\t\t\tlet item = body[\"content\"][key];\n\t\t// \t\t\t\t\t\tthis._goodsData[String(item[\"id\"])] = item;\n\t\t// \t\t\t\t}\n\t\t// \t\t}\n\t\t// \t\tthis._goodsDataVer = Utils.nullToDefault(body[\"version\"], null);\n\t\t// \t\t//通知：用户物品有更新\n\t\t// \t\tEventManager.dispatch(AppEvent.USER_UPDATE_GOODS, this._goodsData);\n\t\t// } else if (type == GConstants.UserGoodsDataType.ROLES_CONFIG) {//更新角色配置\n\t\t// \t\tif (body[\"version\"] == this._rolesDataVer && body[\"version\"] != null) {\n\t\t// \t\t\t\treturn;\n\t\t// \t\t}\n\t\t// \t\t// 解析角色皮肤 skins:{role_id:[]}\n\t\t// \t\tlet skins = {};\n\t\t// \t\tfor (let key in body[\"content\"][\"skin_config\"]) {\n\t\t// \t\t\t\tif (Object.prototype.hasOwnProperty.call(body[\"content\"][\"skin_config\"], key)) {\n\t\t// \t\t\t\t\t\tlet item = body[\"content\"][\"skin_config\"][key];\n\t\t// \t\t\t\t\t\tlet itemData = Encrypt.JsonDecode(item);\n\t\t// \t\t\t\t\t\tif (itemData) {\n\t\t// \t\t\t\t\t\t\t\tlet roleID = String(itemData[\"role_id\"]);\n\t\t// \t\t\t\t\t\t\t\tif (skins[roleID] == null) {\n\t\t// \t\t\t\t\t\t\t\t\t\tskins[roleID] = [];\n\t\t// \t\t\t\t\t\t\t\t}\n\t\t// \t\t\t\t\t\t\t\tif (itemData[\"skill_cfg\"] != null && itemData[\"skill_cfg\"][0] != null) {\n\t\t// \t\t\t\t\t\t\t\t\t\titemData[\"skinName\"] = itemData[\"skill_cfg\"][0][\"name\"];\n\t\t// \t\t\t\t\t\t\t\t}\n\t\t// \t\t\t\t\t\t\t\tskins[roleID].push(itemData);\n\t\t// \t\t\t\t\t\t}\n\t\t// \t\t\t\t}\n\t\t// \t\t}\n\t\t// \t\t//解析角色配置\n\t\t// \t\tthis._rolesData = [];\n\t\t// \t\tfor (let key in body[\"content\"][\"role_config\"]) {\n\t\t// \t\t\t\tif (Object.prototype.hasOwnProperty.call(body[\"content\"][\"role_config\"], key)) {\n\t\t// \t\t\t\t\t\tlet item = body[\"content\"][\"role_config\"][key];\n\t\t// \t\t\t\t\t\tlet itemData = Encrypt.JsonDecode(item);\n\t\t// \t\t\t\t\t\tif (itemData) {\n\t\t// \t\t\t\t\t\t\t\titemData[\"role_id\"] = String(key);\n\t\t// \t\t\t\t\t\t\t\titemData[\"skins\"] = skins[String(key)];\n\t\t// \t\t\t\t\t\t\t\tthis._rolesData.push(itemData);\n\t\t// \t\t\t\t\t\t}\n\t\t// \t\t\t\t}\n\t\t// \t\t}\n\t\t// \t\tthis.checkRoles();\n\t\t// \t\tthis._rolesDataVer = Utils.nullToDefault(body[\"version\"], null);\n\t\t// \t\t//通知：角色配置有更新\n\t\t// \t\tEventManager.dispatch(AppEvent.USER_UPDATE_ROLE_CONF, this._rolesData);\n\n\t\t// } else if (type == GConstants.UserGoodsDataType.ROLES_SKILL) {//更新角色技能\n\t\t// \t\tif (body[\"version\"] == this._roleSkillVer && body[\"version\"] != null) {\n\t\t// \t\t\t\treturn;\n\t\t// \t\t}\n\t\t// \t\tthis._roleSkill = [];\n\t\t// \t\tfor (let key in body[\"content\"]) {\n\t\t// \t\t\t\tif (Object.prototype.hasOwnProperty.call(body[\"content\"], key)) {\n\t\t// \t\t\t\t\t\tlet item = body[\"content\"][key];\n\t\t// \t\t\t\t\t\tlet itemData = Encrypt.JsonDecode(item);\n\t\t// \t\t\t\t\t\tif (itemData) {\n\t\t// \t\t\t\t\t\t\t\titemData[\"skill_id\"] = String(key);\n\t\t// \t\t\t\t\t\t\t\tthis._roleSkill.push(itemData);\n\t\t// \t\t\t\t\t\t}\n\t\t// \t\t\t\t}\n\t\t// \t\t}\n\t\t// \t\tthis._roleSkillVer = Utils.nullToDefault(body[\"version\"], null);\n\t\t// \t\t//通知：用户角色技能有更新\n\t\t// \t\tEventManager.dispatch(AppEvent.USER_UPDATE_ROLE_SKILL, this._roleSkill);\n\n\t\t// }\n\t}\n\t/** 更新礼包数据 */\n\tupdateGoods(body) {\n\t\tif (Utils.table_isEmpty(body)) {\n\t\t\treturn null;\n\t\t}\n\t\tlet info = {\n\t\t\t\"ginfo\": {},  //具体商品列表\n\t\t\t\"paycfg\": {}, //支付配置{ payCnHost: https://paycnapi.boyaa.com/,pcAppid: 7300 }\n\t\t\t\"scene\": -1,  //GoodsID\n\t\t\t\"sceneinfo\": {}, //当前scene的描述信息\n\t\t\t\"subTab\": {},\n\t\t}\n\t\tlet res = this.mergeArrayDefault(info, body);\n\n\t\tres[\"ginfo\"] = this.updateGoodsInfoList(res[\"scene\"], res[\"ginfo\"], res[\"paycfg\"]);\n\n\t\tthis._GoodsInfoList[res[\"scene\"]] = res;\n\t\tthis._GoodsPayWaysList[res[\"scene\"]] = res[\"paycfg\"];\n\t\tthis._GoodsGiftList[res[\"scene\"]] = res[\"ginfo\"];\n\n\t\treturn res[\"scene\"];\n\t}\n\t/**\n\t * 根据goodsID 获取商品数据\n\t * @param goodsID 详见 GoodsListID配置\n\t * @returns \n\t */\n\tgetGoodsInfoByGoodsID(goodsID) {\n\t\tif (!this._GoodsInfoList[goodsID]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._GoodsInfoList[goodsID];\n\t}\n\t/**\n\t * 根据goodsID 获取商品数据中的商品列表\n\t * @param goodsID 详见 GoodsListID配置\n\t * @returns \n\t */\n\tgetGoodsGiftByGoodsID(goodsID) {\n\t\tif (!this._GoodsGiftList[goodsID]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._GoodsGiftList[goodsID];\n\t}\n\t/**\n\t * 根据goodsID 和 gid 获取商品列表中的商品具体信息\n\t * @param goodsID 详见 GoodsListID配置\n\t * @returns \n\t */\n\tgetOneGoodGift(goodsID, gid) {\n\t\tif (Utils.isNotNull(goodsID, gid) == false) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!this._GoodsGiftList[goodsID]) {\n\t\t\treturn null;\n\t\t}\n\t\tgid = Utils.number_valueOf(gid, -1);\n\t\tlet goodsList = this._GoodsGiftList[goodsID];\n\t\tfor (let i = 0; i < goodsList.length; i++) {\n\t\t\tif (goodsList[i][\"id\"] == gid) {\n\t\t\t\treturn goodsList[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\n\n\t/** 获取礼包 */\n\t/** 更新商品列表（ginfo） */\n\tupdateGoodsInfoList(scene, goodsList, payConf) {\n\t\tif (Utils.isNull(scene) || Utils.table_isEmpty(goodsList)) {\n\t\t\tif (Utils.isNull(scene) == false) {\n\t\t\t\treturn this._GoodsGiftList[scene];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tpayConf = Utils.table_verify(payConf);\n\t\tlet map = new Map()\n\t\tfor (let key in goodsList) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(goodsList, key)) {\n\t\t\t\tlet goodInfo = goodsList[key];\n\t\t\t\tlet info = {};\n\t\t\t\tinfo = {\n\t\t\t\t\t\"scene\": scene,\n\t\t\t\t\t\"id\": Utils.number_valueOf(goodInfo[\"gid\"]),           \t\t//商品id\n\t\t\t\t\t\"ptype\": Utils.number_valueOf(goodInfo[\"ptype\"]),  \t\t\t//商品类型 0：游戏币； 1：博雅币； 2：道具； 3：会员卡； 4：兑换券； 5：活动； 6：礼包； 7：表情包\n\t\t\t\t\t\"name\": Utils.nullToDefault(goodInfo[\"name\"], \"\"),             //商品名称\n\t\t\t\t\t\"icon\": Utils.nullToDefault(goodInfo[\"icon\"], \"\"),    \t\t\t//商品图标\n\t\t\t\t\t\"desc\": Utils.nullToDefault(goodInfo[\"desc\"], \"\"), \t\t\t//商品描述\n\t\t\t\t\t\"specialDesc\": Utils.nullToDefault(goodInfo[\"specialDesc\"], \"\"), //特殊描述(包含破产提示信息、商城特权描述)\n\t\t\t\t\t\"crystal\": Utils.number_valueOf(goodInfo[\"crystal\"]),           //金条价格，如果>0，则代表支持金条购买，反之则不支持\n\t\t\t\t\t\"crystalIcon \": Utils.nullToDefault(goodInfo[\"crystalIcon\"], \"\"), // 金条角标\n\t\t\t\t\t\"pchips\": Utils.number_valueOf(goodInfo[\"number\"]), \t\t\t  //商品数量\n\t\t\t\t\t\"eventIcon\": Utils.string_isEmpty(goodInfo[\"eventIcon\"]) == false ? goodInfo[\"eventIcon\"] : \"\", //特殊事件图标url，如推荐、新品等\n\t\t\t\t\t\"appstoreid\": Utils.nullToDefault(goodInfo[\"appstoreid\"], \"\"),   // 应用商店id(例：苹果应用商品商品id)\n\t\t\t\t\t\"privilegeIcon\": Utils.nullToDefault(goodInfo[\"privilegeIcon\"], \"\"), //特权图标\n\t\t\t\t\t\"privilegeTips\": Utils.nullToDefault(goodInfo[\"privilegeTips\"], \"\"), //特权提示\n\t\t\t\t\t\"order\": Utils.number_valueOf(goodInfo[\"order\"]),                    //顺序：排列从小到大\n\t\t\t\t\t\"goods_id\": Utils.number_valueOf(goodInfo[\"goods_id\"]),\n\t\t\t\t\t\"switch\": true,                                                    //是否开启游客禁止充值：true 打开  false 关闭\n\t\t\t\t\t\"payCnHost\": payConf[\"payCnHost\"],                                 //支付地址\n\t\t\t\t\t\"pc_appid\": payConf[\"pcAppid\"],                                    //支付的应用ID\n\n\t\t\t\t\t\"award\": this.__analysisGoodAwardInfo(goodInfo[\"award\"]),          //赠送奖励内容,如无则为空数组.{物品ID：物品数量}\n\t\t\t\t\t\"currency\": Utils.number_valueOf(goodInfo[\"currency\"], 1),         //货币类型1RMB2银币3兑换券\n\t\t\t\t\t\"pamount\": Utils.number_valueOf(goodInfo[\"price\"], 0),\t\t\t   //商品价格\n\t\t\t\t\t\"pmodes\": this.__getGoodsPmodes(goodInfo[\"pmodes\"]),               //支付模式选择\n\t\t\t\t\t\"currency_desc\": \"元\",\n\t\t\t\t\t\"priorityDesc\": \"\",\n\t\t\t\t\t\"isFlash\": Utils.number_valueOf(goodInfo[\"isFlash\"], -1),           //是否是表情包  -1不是表情包\n\t\t\t\t\t\"flash\": Utils.number_valueOf(goodInfo[\"flash\"], -1),               // 表情包标识\n\t\t\t\t\t\"zoneId\": Utils.number_valueOf(goodInfo[\"zoneId\"], 1)               //商品分区ID\n\t\t\t\t}\n\t\t\t\tinfo[\"switch\"] = (Utils.number_valueOf(goodInfo[\"visitSwitch\"] == 0));\n\t\t\t\tinfo[\"currency_desc\"] = this.__getCurrencyDesc(info[\"currency\"]);\n\t\t\t\tinfo[\"priorityDesc\"] = this.__getDescByPriority(info[\"privilegeTips\"], info[\"specialDesc\"]);\n\n\t\t\t\tmap.set(info[\"id\"], info);\n\n\t\t\t}\n\t\t}\n\t\t//排序:排列从小到大\n\t\tif (map.size > 0) {\n\t\t\tlet resultArray = []\n\t\t\tlet arrayLike = Array.from(map)\n\t\t\t//得到的array中索引0为map中的key,索引1为map中的value\n\t\t\tarrayLike.sort(function (a, b) {//从小到大\n\t\t\t\treturn a[1][\"order\"] - b[1][\"order\"];\n\t\t\t})\n\t\t\tfor (let index = 0; index < arrayLike.length; index++) {\n\t\t\t\tresultArray.push(arrayLike[index][1])\n\t\t\t}\n\t\t\tthis._GoodsGiftList[scene] = resultArray;\n\t\t}\n\t\treturn this._GoodsGiftList[scene];\n\t}\n\t/** 序列化赠送奖励内容 */\n\tprivate __analysisGoodAwardInfo(award) {\n\t\tif (Utils.isNull(award)) {\n\t\t\treturn {};\n\t\t}\n\t\tlet _award = {\n\t\t\tid: -1,  //物品id 对应GoodsClassify\n\t\t\tn: 0,    //物品数量\n\t\t}\n\t\treturn this.mergeArrayDefault(_award, award);\n\t}\n\t/** 获取pmodes */\n\tprivate __getGoodsPmodes(strPmodes) {\n\t\tstrPmodes = Utils.nullToDefault(strPmodes, \"\");\n\t\tlet pmodes = Encrypt.JsonDecode(strPmodes);\n\t\tpmodes = Utils.table_verify(pmodes);\n\t\tlet res = [];\n\t\tfor (let i = 0; i < pmodes.length; i++) {\n\t\t\tif (Utils.table_isEmpty(pmodes[i]) == false && Utils.isNull(pmodes[i][\"id\"]) == false) {\n\t\t\t\tlet _item = {\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tid: \"0\",\n\t\t\t\t\ticon: null,\n\t\t\t\t\tnum: 0\n\t\t\t\t}\n\t\t\t\tlet item = this.mergeArrayDefault(_item, pmodes[i]);\n\t\t\t\titem[\"name\"] = pmodes[i][\"n\"];\n\t\t\t\tres.push(item);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\t/** 获取货币描述 */\n\tprivate __getCurrencyDesc(currencyType) {\n\t\tlet currency_desc = \"元\";\n\t\tif (currencyType == GConstants.GoodMoneyType.diamond) {\n\t\t\tcurrency_desc = \"兑换券\";\n\t\t} else if (currencyType == GConstants.GoodMoneyType.gold) {\n\t\t\tcurrency_desc = \"银币\";\n\t\t}\n\t\treturn currency_desc;\n\t}\n\t/** 描述信息优先级 privilegeTips > specialDesc */\n\tprivate __getDescByPriority(privilegeTips, specialDesc) {\n\t\tlet data = [privilegeTips, specialDesc];\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (Utils.string_isEmpty(data[i]) == false) {\n\t\t\t\treturn data[i];\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n\t/**------------------------------------物品相关 Start--------------------------------------- */\n\t/** GoodsData:获取物品配置 */\n\tgetGoodsData() {\n\t\treturn Utils.clone(this._goodsData);\n\t}\n\t/** GoodsData:通过物品id获取物品详情信息 */\n\tgetGoodsByID(goodID) {\n\t\tif (goodID == null) {\n\t\t\treturn null;\n\t\t}\n\t\tgoodID = String(goodID);\n\t\tif (this._goodsData[goodID] == null) {\n\n\t\t\treturn null;\n\t\t}\n\t\treturn this._goodsData[goodID];\n\t}\n\t/** GoodsData:通过物品id获取物品名称 */\n\tgetGoodNameByID(goodID: string): string {\n\t\tlet data = this.getGoodsByID(goodID);\n\t\treturn data != null ? data[\"item_name\"] : \"\";\n\t}\n\t/** GoodsData:通过物品id获取物品的图标路径 */\n\tgetGoodIconByID(goodID: string): string {\n\t\tlet data = this.getGoodsByID(goodID);\n\t\treturn data != null ? data[\"item_res_url\"] : \"\";\n\t}\n\t/** 通过id获取物品的子类型 */\n\tgetGoodItemKindByID(goodID: string): number {\n\t\tlet data = this.getGoodsByID(goodID);\n\t\treturn data != null ? data[\"item_kind\"] : null;\n\t}\n\n\t/**------------------------------------角色相关 Start--------------------------------------- */\n\t// /**\n\t//  * RolesData:筛选当前版本支持的角色\n\t//  */\n\t// checkRoles() {\n\t//     let roleIds = this.getRolesLocalConfig();\n\t//     let temp = [];\n\t//     for (let k = 0; k < this._rolesData.length; k++) {\n\t//         for (let i = 0; i < roleIds.length; i++) {\n\t//             if (Utils.number_valueOf(this._rolesData[k][\"role_id\"], 0) == Utils.number_valueOf(roleIds[i][\"role_id\"], -1)) {\n\t//                 temp.push(this._rolesData[k]);\n\t//                 break;\n\t//             }\n\t//         }\n\t//     }\n\t//     this._rolesData = temp;\n\t// }\n\n\t// /** RolesData:获取角色配置 */\n\t// getRolesData() {\n\t//     return Utils.clone(this._rolesData);\n\t// }\n\n\t// /** RolesData:获取角色本地配置 */\n\t// getRolesLocalConfig() {\n\t//     return this.RolesConf;\n\t// }\n\t// /** RolesData:获取角色本地配置(根据角色ID) */\n\t// getRolesLocalConfigById(roleID) {\n\t//     if (roleID == null || isNaN(Number(roleID))) {\n\t//         return null;\n\t//     }\n\t//     for (let index = 0; index < this.RolesConf.length; index++) {\n\t//         let roleConf = this.RolesConf[index];\n\t//         if (Number(roleConf[\"role_id\"]) == Number(roleID)) {\n\t//             return roleConf;\n\t//         }\n\t//     }\n\t//     return null;\n\t// }\n\t// /** 获取角色等级经验配置 */\n\t// getRoleExp(level: number) {\n\t//     if (level) {\n\t//         level = Utils.number_valueOf(level, -1);\n\t//         if (level == -1) {\n\t//             return null;\n\t//         }\n\t//         return this.RoleExp[level - 1];\n\t//     } else {\n\t//         return this.RoleExp;\n\t//     }\n\t// }\n\n\t// /** RolesData:通过角色id获取角色信息 */\n\t// getRoleDataByID(roleID) {\n\t//     if (!roleID) {\n\t//         return null;\n\t//     }\n\t//     roleID = String(roleID);\n\n\t//     if (this._rolesData.length == 0) {\n\t//         EventManager.dispatch(AppEvent.NET_CMD_REQ_ROLES_DATA);\n\t//         return null;\n\t//     }\n\t//     for (let i = 0; i < this._rolesData.length; i++) {\n\t//         if (this._rolesData[i][\"role_id\"] == roleID) {\n\t//             return this._rolesData[i];\n\t//         };\n\t//     }\n\t//     return null;\n\t// }\n\t// /** RolesData:通过id校验角色id是否存在配置中 */\n\t// isExistRoleByID(roleID: string) {\n\t//     return this.getRoleDataByID(roleID) != null;\n\t// }\n\t// /** RolesData:通过角色id获取本地配置的角色信息 */\n\t// getLocalRoleByID(roleID: string | any) {\n\t//     if (!roleID) {\n\t//         return null;\n\t//     }\n\t//     roleID = String(roleID);\n\n\t//     for (let i = 0; i < this.RolesConf.length; i++) {\n\t//         if (this.RolesConf[i][\"role_id\"] == roleID) {\n\t//             return this.RolesConf[i];\n\t//         };\n\t//     }\n\t//     return null;\n\t// }\n\n\t/**获取角色动画配置*/\n\tgetRoleAnimConfigById(roleId) {\n\t\tif (this.__User.getUserSex() == 2) {\n\t\t\treturn this.__User.GoodsData.RolesConf[1];\n\t\t} else {\n\t\t\treturn this.__User.GoodsData.RolesConf[0];\n\t\t}\n\t}\n\n\t/**------------------------------------角色相关 End--------------------------------------- */\n\n}\n\n"]}