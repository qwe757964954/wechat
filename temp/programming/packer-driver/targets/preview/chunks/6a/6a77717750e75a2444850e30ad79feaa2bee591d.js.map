{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/game/scripts/NodeMeldCardCtr.ts"],"names":["_decorator","instantiate","Node","Vec3","EventManager","Utils","BaseComponent","RoomMgr","OPCode","FXJEvent","GameViewConfig","CardUtil","NodeCardCtr","ccclass","property","NodeMeldCardCtr","tooltip","type","_hostDir","_seatList","_dataList","_edgeList","_distanceList","_scale","_width","_height","_thickness","_groundToCard","onInitModuleEvent","onLoad","initData","initView","start","Array","scale","CardConfig","ScaleMeldCard","width","Width","height","Height","thickness","Thickness","groundToCard","GroundToCard","dir","nodeSeat","setRotationFromEuler","node","addChild","resetView","getInstance","mySeatId","getDir","EdgeToMeld","CenterToMeld","forEach","value","index","array","removeAllChildren","dirLocal","onGameStart","OnChangedSeat","hostDir","onPengGang","data","seatId","dirOut","cardSeatId","opCode","OPE_RIGHT_CHI","OPE_MIDDLE_CHI","OPE_LEFT_CHI","OPE_PENG","OPE_QIANG_PENG","makeMeldPeng","opCard","opCards","OPE_AN_GANG","makeMeldAnGang","OPE_GANG","makeMeldMingGang","OPE_BU_GANG","makeMeldBuGang","showAnim","who","calculatePlayerPosition","rightToLeft","distance","buPos","middleCard","i","card","nodeCard","setScale","x","y","z","setPosition","SpaceMeldCard","active","getComponent","setCardByte","push","isNotNull","aniType","AnimType","Peng","pos","getWorldPosition","dispatch","VIEW_UI_3D_GET_CAMERA","VIEW_OUT_CARD_ANI_PLAY","dataList","length","map","contain","getWho","a","b","onGameOver","onReconnect","playerList","opGroups","dataItem","cards","onDestroy"],"mappings":"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","sourcesContent":["\nimport { _decorator, instantiate, Node, Vec3 } from 'cc';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { Utils } from '../../../framework/Utils';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { RoomMgr } from '../cache/RoomMgr';\nimport { OPCode } from '../common/FXJConfig';\nimport { FXJEvent } from '../common/FXJEvent';\nimport { GameViewConfig } from '../common/GameViewConfig';\nimport { Game } from '../common/idl/Game';\nimport { CardUtil } from '../util/CardUtil';\nimport { NodeCardCtr } from './NodeCardCtr';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = NodeMeldCardCtr\n * URL = db://assets/package/game/scripts/NodeMeldCardCtr.ts\n * Time = Mon Aug 14 2023 12:07:38 GMT+0800 (中国标准时间)\n * Author = harvyson\n *\n * Life: onLoad-->onInitModuleEvent-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n */\n\n@ccclass('NodeMeldCardCtr')\nexport class NodeMeldCardCtr extends BaseComponent {\n    /** 牌节点 */\n    @property({ tooltip: \"牌节点\", type: Node })\n    private nodeCard: Node = null;\n\n    /** 本家方位 */\n    private _hostDir: number = 0;\n    /** 麻将位置列表 */\n    private _seatList: Node[] = null;\n\n    /** 麻将节点列表 */\n    private _dataList: GameViewConfig.MeldSeatConfig[][] = null;\n\n    /** 麻将与麻将桌边缘距离列表 */\n    private _edgeList: number[] = null;\n\n    /** 麻将与麻将桌中心距离列表 */\n    private _distanceList: number[] = null;\n\n    /** 手牌比例 */\n    private _scale: number = 0;\n    /** 手牌宽度 */\n    private _width: number = 0;\n    /** 手牌高度 */\n    private _height: number = 0;\n    /** 手牌厚度 */\n    private _thickness: number = 0;\n    /** 手牌与桌子的距离 */\n    private _groundToCard: number = 0;\n\n    /** override 初始化模块事件 */\n    protected onInitModuleEvent() {\n    };\n\n    onLoad() {\n        this.initData()\n        this.initView()\n    };\n\n\n    start() {\n\n    }\n\n    initData() {\n        this._seatList = new Array(4);\n        this._dataList = [[], [], [], []];\n        this._edgeList = [0, 0, 0, 0];\n        this._distanceList = [0, 0, 0, 0];\n\n    }\n\n    initView() {\n        let scale = GameViewConfig.CardConfig.ScaleMeldCard;\n        let width = GameViewConfig.CardConfig.Width * scale;\n        let height = GameViewConfig.CardConfig.Height * scale;\n        let thickness = GameViewConfig.CardConfig.Thickness * scale;\n        let groundToCard = GameViewConfig.CardConfig.GroundToCard * scale;\n\n        this._scale = scale;\n        this._width = width;\n        this._height = height;\n        this._thickness = thickness;\n        this._groundToCard = groundToCard;\n\n        for (let dir = 0; dir < 4; dir++) {\n            let nodeSeat = new Node();\n            nodeSeat.setRotationFromEuler(0, 90 * dir, 0);\n            this.node.addChild(nodeSeat);\n            this._seatList[dir] = nodeSeat;\n        }\n    }\n\n    resetView() {\n        this._hostDir = RoomMgr.getInstance().mySeatId - 1;\n\n        this._edgeList[this.getDir(0)] = GameViewConfig.CardConfig.EdgeToMeld[0]; // 本家配置\n        this._edgeList[this.getDir(1)] = GameViewConfig.CardConfig.EdgeToMeld[1]; // 下家配置\n        this._edgeList[this.getDir(2)] = GameViewConfig.CardConfig.EdgeToMeld[2]; // 对家配置\n        this._edgeList[this.getDir(3)] = GameViewConfig.CardConfig.EdgeToMeld[3]; // 上家配置\n\n        this._distanceList[this.getDir(0)] = GameViewConfig.CardConfig.CenterToMeld[0]; // 本家配置\n        this._distanceList[this.getDir(1)] = GameViewConfig.CardConfig.CenterToMeld[1]; // 下家配置\n        this._distanceList[this.getDir(2)] = GameViewConfig.CardConfig.CenterToMeld[2]; // 对家配置\n        this._distanceList[this.getDir(3)] = GameViewConfig.CardConfig.CenterToMeld[3]; // 上家配置\n\n        this._dataList = [[], [], [], []];\n        this._seatList.forEach((value, index, array) => {\n            value.removeAllChildren();\n        });\n    }\n\n    private getDir(dirLocal: number): number {\n        let dir = this._hostDir + dirLocal;\n        return dir % 4;\n    }\n\n    /** 游戏开始 */\n    onGameStart() {\n        this.resetView();\n    }\n\n    /** 换位 */\n    OnChangedSeat(hostDir: number) {\n        this._hostDir = hostDir;\n        this.resetView(); // 换位需要重置碰杠牌显示配置\n    }\n\n    /** 碰杠 */\n    onPengGang(data: Game.IOperationResult) {\n        let dir = data.seatId - 1;\n        let dirOut = data.cardSeatId - 1;\n\n        switch (data.opCode) {\n            case OPCode.OPE_RIGHT_CHI: // 右吃\n            case OPCode.OPE_MIDDLE_CHI: // 中吃\n            case OPCode.OPE_LEFT_CHI: // 左吃\n            case OPCode.OPE_PENG: // 碰\n            case OPCode.OPE_QIANG_PENG: // 抢碰\n                this.makeMeldPeng(dir, dirOut, data.opCode, data.opCard, data.opCards, true);\n                break;\n            case OPCode.OPE_AN_GANG: // 暗杠\n                this.makeMeldAnGang(dir, dirOut, data.opCode, data.opCard, data.opCards, false);\n                break;\n            case OPCode.OPE_GANG: // 杠\n                this.makeMeldMingGang(dir, dirOut, data.opCode, data.opCard, data.opCards, false);\n                break;\n            case OPCode.OPE_BU_GANG: // 补杠\n                this.makeMeldBuGang(dir, dirOut, data.opCode, data.opCard, data.opCards, false);\n                break;\n            default:\n                break;\n        }\n    }\n\n    /** 碰 */\n    private makeMeldPeng(dir: number, dirOut: number, opCode: number, opCard: number, opCards: number[], showAnim: boolean) {\n        let who = CardUtil.calculatePlayerPosition(dir + 1, dirOut + 1);\n        let scale = this._scale;\n        let width = this._width;\n        let height = this._height;\n        let groundToCard = this._groundToCard;\n        let rightToLeft = this._edgeList[dir];\n        let distance = this._distanceList[dir];\n        let buPos: Vec3 = null;\n        let middleCard: Node = null;\n        for (let i = 0; i < 3; i++) {\n            let card = instantiate(this.nodeCard);\n            card.setScale(card.scale.x * scale, card.scale.y * scale, card.scale.z * scale);\n            if ((i == 0 && who == \"下家\") ||  // 下家的第一张牌\n                (i == 1 && who == \"对家\") ||  // 对家的第二张牌\n                (i == 2 && who == \"上家\")) {  // 上家的第三张牌\n\n                buPos = new Vec3(rightToLeft - (height * 0.5), groundToCard, distance - width * 1.5);\n                card.setPosition(rightToLeft - height * 0.5, groundToCard, distance - width * 0.5);\n                card.setRotationFromEuler(0, 90, 0);\n                rightToLeft -= (height + GameViewConfig.CardConfig.SpaceMeldCard);\n            } else {\n                card.setPosition(rightToLeft - width * 0.5, groundToCard, distance - height * 0.5);\n                card.setRotationFromEuler(0, 0, 0);\n                rightToLeft -= (width + GameViewConfig.CardConfig.SpaceMeldCard);\n            }\n\n            card.active = true;\n            this._seatList[dir].addChild(card);\n            card.getComponent(NodeCardCtr).setCardByte(opCards[i]) // mark\n\n            if (i == 1) {\n                middleCard = card;\n            }\n        }\n\n        this._edgeList[dir] = rightToLeft - (width * 0.5); // 追加两堆牌之间的间距\n        this._dataList[dir].push({ opCard: opCard, opCards: opCards, opCode: opCode, buPos: buPos });\n\n\n        // 碰牌烟雾动画 mark\n        if (Utils.isNotNull(middleCard)) {\n            if (showAnim) {\n                let data: GameViewConfig.AnimConfig = {\n                    seatId : dir + 1,\n                    aniType : GameViewConfig.AnimType.Peng,\n                    pos : middleCard.getWorldPosition(),\n                }\n                EventManager.dispatch(FXJEvent.VIEW_UI_3D_GET_CAMERA, FXJEvent.VIEW_OUT_CARD_ANI_PLAY, data);\n            }\n        }\n    }\n\n    /** 补杠 */\n    private makeMeldBuGang(dir: number, dirOut: number, opCode: number, opCard: number, opCards: number[], showAnim: boolean) {\n        let scale = this._scale;        \n        let dataList = this._dataList[dir];\n        for (let i = 0; i < dataList.length; i++) {\n            let data = dataList[i];\n            if ((data.opCode == OPCode.OPE_PENG || data.opCard == OPCode.OPE_QIANG_PENG) && Utils.isNotNull(data.buPos)) {\n                let map = {};\n                opCards.forEach((value, index, array) => {\n                    map[value] = true;\n                });\n\n                let contain = true;\n                data.opCards.forEach((value, index, array) => {\n                    if(!map[value]) {\n                        contain = false;\n                    }\n                });\n\n                if (contain) {\n                    let card = instantiate(this.nodeCard);\n                card.setScale(card.scale.x * scale, card.scale.y * scale, card.scale.z * scale);\n                    card.setPosition(data.buPos);\n                    card.setRotationFromEuler(0, 90, 0);\n                    card.active = true;\n                    this._seatList[dir].addChild(card);\n                    card.getComponent(NodeCardCtr).setCardByte(opCard) // mark\n                    data.opCode = OPCode.OPE_BU_GANG; // 补杠\n                    return;   \n                }\n            }\n        }\n    }\n\n    /** 明杠 */\n    private makeMeldMingGang(dir: number, dirOut: number, opCode: number, opCard: number, opCards: number[], showAnim: boolean) {\n        let who = CardUtil.calculatePlayerPosition(dir + 1, dirOut + 1);\n        let scale = this._scale;\n        let width = this._width;\n        let height = this._height;\n        let groundToCard = this._groundToCard;\n        let rightToLeft = this._edgeList[dir];\n        let distance = this._distanceList[dir];\n        for (let i = 0; i < 4; i++) { // 四张牌\n            let card = instantiate(this.nodeCard);\n            card.setScale(card.scale.x * scale, card.scale.y * scale, card.scale.z * scale);\n            if ((i == 0 && who == \"下家\") ||  // 下家的第一张牌\n                (i == 2 && who == \"对家\") ||  // 对家的第三张牌\n                (i == 3 && who == \"上家\")) {  // 上家的第四张牌\n\n                card.setPosition(rightToLeft - height * 0.5, groundToCard, distance - width * 0.5);\n                card.setRotationFromEuler(0, 90, 0);\n                rightToLeft -= (height + GameViewConfig.CardConfig.SpaceMeldCard);\n            } else {\n                card.setPosition(rightToLeft - width * 0.5, groundToCard, distance - height * 0.5);\n                card.setRotationFromEuler(0, 0, 0);\n                rightToLeft -= (width + GameViewConfig.CardConfig.SpaceMeldCard);\n            }\n            card.active = true;\n            this._seatList[dir].addChild(card);\n            card.getComponent(NodeCardCtr).setCardByte(opCards[i]) // mark\n        }\n\n        this._edgeList[dir] = rightToLeft - (width * 0.5); // 追加两堆牌之间的间距\n        this._dataList[dir].push({ opCard: opCard, opCards: opCards, opCode: opCode });\n    }\n\n    /** 暗杠 */\n    private makeMeldAnGang(dir: number, dirOut: number, opCode: number, opCard: number, opCards: number[], showAnim: boolean) {\n        let scale = this._scale;\n        let width = this._width;\n        let height = this._height;\n        let groundToCard = this._groundToCard;\n        let rightToLeft = this._edgeList[dir];\n        let distance = this._distanceList[dir];\n        for (let i = 0; i < 4; i++) {\n            let card = instantiate(this.nodeCard);\n            card.setScale(card.scale.x * scale, card.scale.y * scale, card.scale.z * scale);\n            card.setPosition(rightToLeft - width * 0.5, groundToCard, distance - height * 0.5);\n            if (i == 0 || i == 4) {\n                card.setRotationFromEuler(0, 0, 180);\n            } else {\n                card.setRotationFromEuler(0, 0, 0);\n            }\n            card.active = true;\n            this._seatList[dir].addChild(card);\n            card.getComponent(NodeCardCtr).setCardByte(opCards[i]) // mark\n            rightToLeft -= (width + GameViewConfig.CardConfig.SpaceMeldCard);\n        }\n\n        this._edgeList[dir] = rightToLeft - (width + GameViewConfig.CardConfig.SpaceMeldCard);\n        this._dataList[dir].push({ opCard: opCard, opCards: opCards, opCode: opCode });\n\n    }\n\n    private getWho(dir: number, dirOut: number) {\n        let a = dir; // 自己位置\n        let b = dirOut; // 待查位置\n        let x = ((b + 4) - a) % 4\n        return x;\n    }\n\n    /** 游戏结束 */\n    onGameOver(data: Game.IHandCards) {\n    }\n\n    /** 重连 */\n    onReconnect(data: GameViewConfig.ReconnectConfig) {\n        this.resetView();\n\n        data.playerList.forEach((value, index, array) => {\n            for (let i = 0; i < value.opGroups.length; i++) { \n                let dataItem = value.opGroups[i];\n                let dir = value.seatId - 1;\n                let dirOut = value.seatId - 1;\n                let cards = dataItem.opCards;\n\n                switch (dataItem.opCode) {\n                    case OPCode.OPE_RIGHT_CHI: // 右吃\n                    case OPCode.OPE_MIDDLE_CHI: // 中吃\n                    case OPCode.OPE_LEFT_CHI: // 左吃\n                    case OPCode.OPE_PENG: // 碰\n                    case OPCode.OPE_QIANG_PENG: // 抢碰\n                        this.makeMeldPeng(dir, dirOut, dataItem.opCode, cards[0], cards, false);\n                        break;\n                    case OPCode.OPE_AN_GANG: // 暗杠\n                        this.makeMeldAnGang(dir, dirOut, dataItem.opCode, cards[0], cards, false);\n                        break;\n                    case OPCode.OPE_GANG: // 杠\n                        this.makeMeldMingGang(dir, dirOut, dataItem.opCode, cards[0], cards, false);\n                        break;\n                    case OPCode.OPE_BU_GANG: // 补杠\n                        this.makeMeldBuGang(dir, dirOut, dataItem.opCode, cards[0], cards, false);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        });\n    }\n\n    //销毁\n    onDestroy() {\n    };\n}\n\n\n"]}