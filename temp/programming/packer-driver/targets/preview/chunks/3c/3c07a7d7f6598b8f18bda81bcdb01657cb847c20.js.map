{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/game/module/opInfo/src/Carditem.ts"],"names":["instantiate","Layout","Prefab","UITransform","_decorator","BaseComponent","OperationMgr","Card","ccclass","property","Carditem","tooltip","type","onInitModuleEvent","updateCardItemProp","opTypes","opCards","node","removeAllChildren","i","item","itemPrefab","opType","cards","getInstance","getOprationListNumber","code","forEach","cardValue","CardPrefab","getComponent","setCardByte","transform","setContentSize","addChild","length","opNode","height"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,U,OAAAA,U;;AAC1CC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,I,iBAAAA,I;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;0BAGaM,Q,WADZF,OAAO,CAAC,UAAD,C,UAENC,QAAQ,CAAC;AAAEE,QAAAA,OAAO,EAAE,OAAX;AAAoBC,QAAAA,IAAI,EAAEV;AAA1B,OAAD,C,UAERO,QAAQ,CAACP,MAAD,C,UAERO,QAAQ,CAACR,MAAD,C,2BANV,MACaS,QADb;AAAA;AAAA,0CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAO3C;AACUG,QAAAA,iBAAiB,GAAG,CAE7B;;AAEMC,QAAAA,kBAAkB,CAACC,OAAD,EAAkB;AAAA;;AAC1C,eAAKC,OAAL,CAAaC,IAAb,CAAkBC,iBAAlB;;AAD0C,qCAEjCC,CAFiC;AAGzC,gBAAIC,IAAI,GAAGpB,WAAW,CAAC,KAAI,CAACqB,UAAN,CAAtB;AACA,gBAAIC,MAAa,GAAGP,OAAO,CAACI,CAAD,CAA3B;AACA,gBAAII,KAAc,GAAG;AAAA;AAAA,8CAAaC,WAAb,GAA2BC,qBAA3B,CAAiDH,MAAM,CAACI,IAAxD,CAArB;AACAH,YAAAA,KAAK,CAACI,OAAN,CAAcC,SAAS,IAAI;AAC1B,kBAAIX,IAAI,GAAGjB,WAAW,CAAC,KAAI,CAAC6B,UAAN,CAAtB;AACAZ,cAAAA,IAAI,CAACa,YAAL;AAAA;AAAA,gCAAwBC,WAAxB,CAAoCH,SAApC;AACA,kBAAII,SAAS,GAAGf,IAAI,CAACa,YAAL,CAAkB3B,WAAlB,CAAhB;AACA6B,cAAAA,SAAS,CAACC,cAAV,CAAyB,EAAzB,EAA6B,EAA7B;AACAb,cAAAA,IAAI,CAACc,QAAL,CAAcjB,IAAd;AACA,aAND;;AAOA,YAAA,KAAI,CAACD,OAAL,CAAaC,IAAb,CAAkBiB,QAAlB,CAA2Bd,IAA3B;AAbyC;;AAE1C,eAAK,IAAID,CAAC,GAAG,CAAb,EAAeA,CAAC,GAACJ,OAAO,CAACoB,MAAzB,EAAgChB,CAAC,EAAjC,EAAoC;AAAA,kBAA3BA,CAA2B;AAYnC;;AACD,cAAIiB,MAAM,GAAGrB,OAAO,CAAC,CAAD,CAAP,CAAWE,IAAxB;AACA,cAAIe,SAAS,GAAG,KAAKf,IAAL,CAAUa,YAAV,CAAuB3B,WAAvB,CAAhB;AACA6B,UAAAA,SAAS,CAACK,MAAV,GAAmB,GAAnB;AACAD,UAAAA,MAAM,CAACF,QAAP,CAAgB,KAAKjB,IAArB;AACA;;AA/B0C,O;;;;;iBAEP,I;;;;;;;iBAEA,I;;;;;;;iBAEH,I","sourcesContent":["\nimport { instantiate, Layout, Prefab, UITransform, _decorator } from 'cc';\nimport { BaseComponent } from '../../../../../framework/vc/BaseComponent';\nimport { OperationMgr } from '../../../cache/OperationMgr';\nimport { Card } from '../../card/src/Card';\nimport { OpType } from './OpInfo';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = Carditem\n * URL = db://assets/package/game/module/opInfo/src/Carditem.ts\n * Time = Fri Aug 18 2023 15:19:38 GMT-0700 (北美太平洋夏令时间)\n * Author = qwe757964\n *\n * Life: onLoad-->onInitModuleEvent-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n */\n \n@ccclass('Carditem')\nexport class Carditem extends BaseComponent {\n\t@property({ tooltip: \"手牌预制体\", type: Prefab })\n\tprivate CardPrefab: Prefab | null = null;\n\t@property(Prefab)\n\tprivate itemPrefab: Prefab | null = null;\n\t@property(Layout)\n\tprivate opCards: Layout | null = null;\n\t/** override 初始化模块事件 */\n\tprotected onInitModuleEvent() {\n\n\t};\n\n\tpublic updateCardItemProp(opTypes:OpType[]){\n\t\tthis.opCards.node.removeAllChildren();\n\t\tfor (let i = 0;i<opTypes.length;i++){\n\t\t\tlet item = instantiate(this.itemPrefab);\n\t\t\tlet opType:OpType = opTypes[i];\n\t\t\tlet cards:number[] = OperationMgr.getInstance().getOprationListNumber(opType.code);\n\t\t\tcards.forEach(cardValue => {\n\t\t\t\tlet node = instantiate(this.CardPrefab);\n\t\t\t\tnode.getComponent(Card).setCardByte(cardValue);\n\t\t\t\tlet transform = node.getComponent(UITransform);\n\t\t\t\ttransform.setContentSize(53, 78);\n\t\t\t\titem.addChild(node);\n\t\t\t});\n\t\t\tthis.opCards.node.addChild(item);\n\t\t}\n\t\tlet opNode = opTypes[0].node;\n\t\tlet transform = this.node.getComponent(UITransform);\n\t\ttransform.height = 100;\n\t\topNode.addChild(this.node);\n\t}\n\n}\n\n"]}