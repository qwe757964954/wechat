{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/package/login/scripts/UserAgreePrivateCtr.ts"],"names":["Button","ImageAsset","Node","ScrollView","Sprite","_decorator","GCache","AppEvent","AppSound","StoreKey","GameRes","resLoader","LocalStorage","EventManager","Utils","BaseComponent","Platform","ccclass","property","UserAgreePrivateCtr","tooltip","type","constructor","_userAgreeRes","Map","_priRes","_curMaxResNum","_currowType","_isReportToPlatform","_isLoad","preLoad","firstRunLoadSuccess","self","i","oneResConf","Picture_UserPrivacyPolicy","load","bundle","path","err","imageAsset","delete","set","onLoadCallback","length","Picture_UserAgree","onLoad","comp","currowType","isHaveTag","node","getComponent","params","table_verify","getParams","privateHelpNode","active","checkPrivacyContract","nodeTab","updateView","onNeedPrivacyAuthorization_WX","start","onClickMenuUserAgree","onClickMenuPrivatePro","isAgree","get","LOGIN_LAST_CHECK_AGREE","nodeTwoBtn","nodeOneBtn","nodeNoTips","e","dispatch","SYS_PLAY_EFFECT","CommClick","clickSprite","menuUserAgree","getChildByName","clickBtn","interactable","grayscale","anotherSprite","menuPrivatePro","anotherBtn","onLoadUserAgree","scrollContent","scrollToTop","onLoadPrivacyPolicy","onClickPrivateHelp","openPrivacyContract_WX","onClickSure","LOGIN_AGREE_PRIVATE","destroy","onClickNotSure","size","contentNode","removeAllChildren","imageAssert","spriteFrame","image_ImageAssetToSpriteFrame","addChild","creatorSpriteNode","create_2DSprite","onDestroy"],"mappings":"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","sourcesContent":["\nimport { Button, ImageAsset, Node, ScrollView, Sprite, SpriteFrame, _decorator } from 'cc';\nimport { GCache } from '../../../cache/GCache';\nimport { AppEvent } from '../../../config/AppEvent';\nimport { AppSound } from '../../../config/AppSound';\nimport { StoreKey } from '../../../config/GameConstant';\nimport { GameRes } from '../../../config/GameRes';\nimport { resLoader } from '../../../framework/loader/ResLoader';\nimport { LocalStorage } from '../../../framework/LocalStorage';\nimport { EventManager } from '../../../framework/manager/EventManager';\nimport { Utils } from '../../../framework/Utils';\nimport { BaseComponent } from '../../../framework/vc/BaseComponent';\nimport { Platform } from '../../../platform/Platform';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = UserAgreePrivateCtr\n * URL = db://assets/package/login/scripts/UserAgreePrivateCtr.ts\n * Time = Thu Aug 04 2022 17:12:23 GMT+0800 (中国标准时间)\n * Author = xueya\n *\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n * \n * 用户协议和隐私政策\n */\n\n@ccclass('UserAgreePrivateCtr')\nexport class UserAgreePrivateCtr extends BaseComponent {\n\n    //正文标题\n    @property({ tooltip: \"隐私保护内容指引节点\", type: Node })\n    privateHelpNode: Node = null!;\n    //正文标题\n    @property({ tooltip: \"标题内容\", type: Node })\n    titleNode: Node = null!;\n\n    //正文节点\n    @property({ tooltip: \"正文节点\", type: Node })\n    contentNode: Node = null!;\n    //滚动容器\n    @property({ tooltip: \"滚动容器\", type: Node })\n    scrollContent: Node = null!;\n\n    @property({ tooltip: \"滚动条节点\", type: Node })\n    scrollowBarNode: Node = null!;\n\n\n    @property({ tooltip: \"菜单标签-用户协议\", type: Node })\n    menuUserAgree: Node = null!;\n\n    @property({ tooltip: \"菜单标签-隐私政策\", type: Node })\n    menuPrivatePro: Node = null!;\n\n    @property({ tooltip: \"两个按钮的父节点\", type: Node })\n    nodeTwoBtn: Node = null!;\n\n    @property({ tooltip: \"一个按钮的父节点\", type: Node })\n    nodeOneBtn: Node = null!;\n\n    //无内容时的节点\n    @property({ tooltip: \"无内容时的节点\", type: Node })\n    nodeNoTips: Node = null!;\n\n    //TAB标签\n    @property({ tooltip: \"TAB标签\", type: Node })\n    nodeTab: Node = null!;\n\n    //用户协议图集\n    _userAgreeRes: Map<number, ImageAsset> = new Map();\n    //隐私政策图集\n    _priRes: Map<number, ImageAsset> = new Map();\n    //当前最大资源加载数量\n    _curMaxResNum = -1;\n    //当前类型\n    _currowType = 0;\n    //是否上报给平台\n    _isReportToPlatform = false;\n\n    _isLoad: boolean = false;\n    constructor() {\n        super();\n        this.preLoad();\n    }\n    //预加载\n    preLoad() {\n        if (!GCache.firstRunLoadSuccess) {\n            return;\n        }\n        let self = this;\n        for (let i = 0; i < GameRes.Picture_UserPrivacyPolicy.length; i++) {\n            let oneResConf = GameRes.Picture_UserPrivacyPolicy[i];\n            resLoader.load(oneResConf.bundle, oneResConf.path, ImageAsset, (err: Error | null, imageAsset) => {\n                if (err || !self._priRes) {\n                    return;\n                }\n\n                self._priRes.delete(i);\n                self._priRes.set(i, imageAsset);\n                if (self._currowType == 2) {\n                    self.onLoadCallback(self._currowType);\n                }\n            });\n        };\n        for (let i = 0; i < GameRes.Picture_UserAgree.length; i++) {\n            let oneResConf = GameRes.Picture_UserAgree[i];\n            resLoader.load(oneResConf.bundle, oneResConf.path, ImageAsset, (err: Error | null, imageAsset) => {\n                if (err || !self._userAgreeRes) {\n                    return;\n                }\n                self._userAgreeRes.delete(i);\n                self._userAgreeRes.set(i, imageAsset);\n\n                if (self._currowType == 1) {\n                    self.onLoadCallback(self._currowType);\n                }\n            });\n        }\n\n    }\n    onLoad() {\n        let comp = null;\n        let currowType = null;\n        let isHaveTag = true;\n\n        comp = this.node.getComponent(\"DelegateComponent\")\n        if (comp) {\n            let params = Utils.table_verify(comp.getParams());\n            currowType = params[\"type\"];\n            isHaveTag = params[\"isHaveTag\"] != false;\n        }\n        this._isReportToPlatform = (currowType == null);\n        this.privateHelpNode.active = Platform.checkPrivacyContract();\n        this.nodeTab.active = isHaveTag;\n        this._currowType = currowType ? currowType : 2;\n        this._isLoad = true;\n        this.updateView();\n        if (this._isReportToPlatform) {\n            Platform.onNeedPrivacyAuthorization_WX(\"exposureAuthorization\");\n        }\n    };\n    start() {\n        if (this._currowType == 1) {\n            this.onClickMenuUserAgree();\n        } else {\n            this.onClickMenuPrivatePro();\n        }\n    }\n\n    /** 更新界面 */\n    updateView() {\n        let isAgree = LocalStorage.get(StoreKey.LOGIN_LAST_CHECK_AGREE, false);\n        if (!isAgree) {\n            this.nodeTwoBtn.active = true;\n            this.nodeOneBtn.active = false;\n        } else {\n            this.nodeTwoBtn.active = false;\n            this.nodeOneBtn.active = true;\n        }\n        this.nodeNoTips.active = true;\n    }\n    //点击了用户协议\n    onClickMenuUserAgree(e = null) {\n        if (e) {\n            EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        }\n        let clickSprite = this.menuUserAgree.getChildByName(\"Sprite\");\n        let clickBtn = this.menuUserAgree.getChildByName(\"btn\");\n        clickBtn.getComponent(Button).interactable = false;\n        clickSprite.getComponent(Sprite).grayscale = false;\n\n        let anotherSprite = this.menuPrivatePro.getChildByName(\"Sprite\");\n        let anotherBtn = this.menuPrivatePro.getChildByName(\"btn\");\n        anotherBtn.getComponent(Button).interactable = true;\n        anotherSprite.getComponent(Sprite).grayscale = true;\n        this.onLoadUserAgree();\n        this.scrollContent.getComponent(ScrollView).scrollToTop(0.01, false);\n\n    }\n\n    //点击了隐私协议\n    onClickMenuPrivatePro(e = null) {\n        if (e) {\n            EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        }\n        let clickSprite = this.menuPrivatePro.getChildByName(\"Sprite\");\n        let clickBtn = this.menuPrivatePro.getChildByName(\"btn\");\n        clickBtn.getComponent(Button).interactable = false;\n        clickSprite.getComponent(Sprite).grayscale = false;\n\n        let anotherSprite = this.menuUserAgree.getChildByName(\"Sprite\");\n        let anotherBtn = this.menuUserAgree.getChildByName(\"btn\");\n        anotherBtn.getComponent(Button).interactable = true;\n        anotherSprite.getComponent(Sprite).grayscale = true;\n\n        this.onLoadPrivacyPolicy();\n        this.scrollContent.getComponent(ScrollView).scrollToTop(0.01, false);\n\n    }\n    /** 点击了隐私保护指引 */\n    onClickPrivateHelp(e = null) {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        Platform.openPrivacyContract_WX();\n    }\n    //点击了同意\n    onClickSure() {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        LocalStorage.set(StoreKey.LOGIN_LAST_CHECK_AGREE, true);\n        if (this._isReportToPlatform) {\n            Platform.onNeedPrivacyAuthorization_WX(\"agree\");\n        }\n        EventManager.dispatch(AppEvent.LOGIN_AGREE_PRIVATE, true)\n\n        this.node.destroy();\n    }\n\n    //点击了不同意\n    onClickNotSure() {\n        EventManager.dispatch(AppEvent.SYS_PLAY_EFFECT, AppSound.CommClick);\n        // if (this._isReportToPlatform) {\n        // \tPlatform.onNeedPrivacyAuthorization_WX(\"disagree\");\n        // }\n        this.node.destroy();\n    }\n\n    /** 加载用户协议 */\n    onLoadUserAgree() {\n        this._curMaxResNum = GameRes.Picture_UserAgree.length;\n        this._currowType = 1;\n        this.onLoadCallback(this._currowType);\n    }\n    /** 加载隐私政策 */\n    onLoadPrivacyPolicy() {\n        this._curMaxResNum = GameRes.Picture_UserPrivacyPolicy.length;\n        this._currowType = 2;\n        this.onLoadCallback(this._currowType);\n    }\n    /** 加载完成的回调 */\n    onLoadCallback(type: number = 0) {\n        if (type == 0) {\n            return;\n        }\n        if (this._isLoad == false) {\n            return;\n        }\n\n        if (type == 1 && this._userAgreeRes.size == this._curMaxResNum) {\n            this.contentNode.removeAllChildren();\n            this.nodeNoTips.active = false;\n            for (let i = 0; i < this._curMaxResNum; i++) {\n                let imageAssert = this._userAgreeRes.get(i);\n                if (imageAssert) {\n                    let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAssert);\n                    if (spriteFrame) {\n                        this.contentNode.addChild(this.creatorSpriteNode(spriteFrame));\n                    }\n                }\n\n            }\n        } else if (type == 2 && this._priRes.size == this._curMaxResNum) {\n            this.contentNode.removeAllChildren();\n            this.nodeNoTips.active = false;\n            for (let i = 0; i < this._curMaxResNum; i++) {\n                let imageAssert = this._priRes.get(i);\n                if (imageAssert) {\n                    let spriteFrame = Utils.image_ImageAssetToSpriteFrame(imageAssert);\n                    if (spriteFrame) {\n                        this.contentNode.addChild(this.creatorSpriteNode(spriteFrame));\n                    }\n                }\n\n            }\n        }\n\n    }\n\n    creatorSpriteNode(spriteFrame: SpriteFrame): Node {\n        let node = Utils.create_2DSprite(spriteFrame, \"Sprite\");\n        return node;\n    }\n\n    //销毁\n    onDestroy() {\n\n    };\n\n}\n\n"]}