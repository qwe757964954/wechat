{"version":3,"sources":["file:///Users/mac/work/WXGame_FlySmallChick/assets/framework/vc/DebugComponent.ts"],"names":["Label","Node","ScrollView","ToggleContainer","_decorator","GCache","AppEvent","ClientInfo","GameConfig","GameNetType","Platform","GSocket","EventManager","Network","BaseComponent","ccclass","property","DebugComponent","tooltip","type","_handlerAutoCloseView","_envTxt","NET_TEST","NET_DEV","NET_ONLINE","onInitModuleEvent","addModelListener","LOGIN_GOTO_SHOW","updateAllInfo","LOGIN_SEND_SHOW","SYS_INFO_REFRESH","LOGIN_STATE_CHANGE","SYS_NET_CHANGE_STATE","updateLabelInfo","SYS_NET_CHANGE_NAME","onLoad","initView","start","nodeDebugView","active","nodeDebugSwitch","scrollowList","node","updateAllInfoByInit","sysInfoLabel","updateInfoLabel","nodeChooseServer","toggleGroup","onClickShowOrHideSwitch","event","willState","startAutoHideScrollow","scrollToTop","stopScheduler","updateBaseLabelInfo","respSetUserInfo","receiveData","reqData","code","dispatch","SYS_TOAST_TIP","content","print","onClickExitLogin","isInitServer","title","server","instance","AppUrlConf","Name","hallver","HallVer","appver","AppVer","payEnv","WX_PayEnv","string","netName","name","netState","state","socketState","isConnected","loginState","getLoginState","User","isLoginSuccesed","updateToggleGroup","CurrowServer","toggleItems","isChecked","addScheduler","isNotAutoShow","cleanLastlocalLoginToken","init","closeConnect","onClickCopyOpenID","copyClipboard","PLogInfo","openId","onClickChangeServer","onClickToggle","currowServer","addSchedulerOnce","onClickLogOut","onClickShowOrHideDebug","onDestroy"],"mappings":"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","sourcesContent":["\nimport { EventTouch, Label, Node, ScrollView, ToggleContainer, _decorator } from 'cc';\nimport { GCache } from '../../cache/GCache';\nimport { AppEvent } from '../../config/AppEvent';\nimport { ClientInfo, GameConfig, GameNetType } from '../../config/GameConfig';\nimport { Platform } from '../../platform/Platform';\nimport { GSocket } from '../../proj/gnet/GSocket';\nimport { EventManager } from '../manager/EventManager';\nimport { Network } from '../network/NetState';\nimport { BaseComponent } from './BaseComponent';\nconst { ccclass, property } = _decorator;\n\n/**\n * Name = DebugComponent\n * URL = db://assets/framework/vc/DebugComponent.ts\n * Time = Sat May 06 2023 11:58:36 GMT+0800 (中国标准时间)\n * Author = xueya\n *\n * Life: onLoad-->onEnable->start->update->lateUpdate->onDisable->onDestroy\n */\n\n@ccclass('DebugComponent')\nexport class DebugComponent extends BaseComponent {\n\t//debug界面\n\t@property({ tooltip: \"debug界面\", type: Node })\n\tprivate nodeDebugView: Node | null = null;\n\n\t//debug显示隐藏开关\n\t@property({ tooltip: \"debug显示隐藏开关\", type: Node })\n\tprivate nodeDebugSwitch: Node | null = null;\n\n\t//操作按钮的滚动容器\n\t@property({ tooltip: \"操作按钮的滚动容器\", type: ScrollView })\n\tprivate scrollowList: ScrollView | null = null;\n\n\t//系统信息显示标签\n\t@property({ tooltip: \"系统信息显示标签\", type: Label })\n\tprivate sysInfoLabel: Label | null = null;\n\t//更新信息显示标签\n\t@property({ tooltip: \"更新信息显示标签\", type: Label })\n\tprivate updateInfoLabel: Label | null = null;\n\t//选服节点\n\t@property({ tooltip: \"选服节点\", type: Node })\n\tprivate nodeChooseServer: Node | null = null;\n\t//选服单选列表节点\n\t@property({ tooltip: \"选服单选列表节点\", type: ToggleContainer })\n\tprivate toggleGroup: ToggleContainer | null = null;\n\t/** 自动关闭界面句柄 */\n\tprivate _handlerAutoCloseView = null;\n\t/** 环境标识 */\n\tprivate _envTxt = {\n\t\t[GameNetType.NET_TEST]: \"dev\",\n\t\t[GameNetType.NET_DEV]: \"pre\",\n\t\t[GameNetType.NET_ONLINE]: \"prod\",\n\t}\n\tprotected onInitModuleEvent() {\n\t\t//登录界面改变\n\t\tthis.addModelListener(AppEvent.LOGIN_GOTO_SHOW, this.updateAllInfo);\n\t\t//登录界面传参\n\t\tthis.addModelListener(AppEvent.LOGIN_SEND_SHOW, this.updateAllInfo);\n\t\t//系统信息刷新\n\t\tthis.addModelListener(AppEvent.SYS_INFO_REFRESH, this.updateAllInfo);\n\t\t//登录状态改变\n\t\tthis.addModelListener(AppEvent.LOGIN_STATE_CHANGE, this.updateAllInfo);\n\t\t//网络状态改变\n\t\tthis.addModelListener(AppEvent.SYS_NET_CHANGE_STATE, this.updateLabelInfo);\n\t\t//网络名称改变\n\t\tthis.addModelListener(AppEvent.SYS_NET_CHANGE_NAME, this.updateLabelInfo);\n\t\t// //用户注销了账号\n\t\t// this.addModelListener(AppEvent.NET_CMD_RESP_SET_USERINFO, this.respSetUserInfo);\n\n\t}\n\n\tonLoad() {\n\t\tthis.initView();\n\t};\n\n\tstart() {\n\n\t};\n\tinitView() {\n\t\tthis.nodeDebugView.active = true;\n\t\tthis.nodeDebugSwitch.active = true;\n\t\tthis.scrollowList.node.active = false;\n\t\tthis.updateAllInfoByInit();\n\t\tthis.sysInfoLabel.node.active = true;\n\t\tthis.updateInfoLabel.node.active = true;\n\t\tthis.nodeChooseServer.active = false;\n\t\tthis.toggleGroup.node.active = true;\n\t}\n\t/** 点击了debug显/隐开关 */\n\tonClickShowOrHideSwitch(event: EventTouch = null) {\n\t\tlet willState = !this.scrollowList.node.active;;\n\t\tthis.scrollowList.node.active = !this.scrollowList.node.active;\n\t\tif (willState == true) {\n\t\t\tthis.nodeChooseServer.active = false;\n\t\t\tthis.startAutoHideScrollow();\n\t\t\tthis.scrollowList.node.active = willState;\n\t\t\tthis.scrollowList.scrollToTop(0, false);\n\t\t} else {\n\t\t\tthis.stopScheduler(this._handlerAutoCloseView);\n\t\t\tthis._handlerAutoCloseView = null;\n\t\t\tthis.scrollowList.node.active = willState;\n\t\t}\n\t}\n\n\t/** 初始化服务器时 */\n\tupdateAllInfoByInit() {\n\t\tthis.updateBaseLabelInfo(null, true);\n\t\tthis.updateLabelInfo();\n\t}\n\t/** 所有信息刷新 */\n\tupdateAllInfo() {\n\t\tthis.updateBaseLabelInfo();\n\t\tthis.updateLabelInfo();\n\t}\n\t/** 请求设置用户信息返回 */\n\trespSetUserInfo(event, receiveData, reqData) {\n\t\tif (receiveData.code != 0) {\n\t\t\tEventManager.dispatch(AppEvent.SYS_TOAST_TIP, { content: receiveData[\"msg\"] });\n\t\t\treturn;\n\t\t}\n\t\tif (reqData && reqData[\"logout_status\"] == 1) {\n\t\t\tthis.print(\"请求了注销账号，注销成功\", reqData)\n\t\t\tthis.onClickExitLogin(null, true);\n\t\t}\n\t}\n\n\t/** 更新基本信息 */\n\tupdateBaseLabelInfo(event = null, isInitServer = null) {\n\t\tlet title = \"[-----BASE-----]\";\n\t\tlet server = \"服务器:\";\n\t\tif (isInitServer !== true) {\n\t\t\tserver = server + GameConfig.instance.AppUrlConf.Name;\n\t\t}\n\t\tlet hallver = \"大厅版本:\" + ClientInfo.HallVer;\n\t\tlet appver = \"应用版本:\" + ClientInfo.AppVer;\n\t\tlet payEnv = \"支付方式:\" + (ClientInfo.WX_PayEnv == 0 ? \"正式\" : \"沙箱\");\n\n\t\tthis.sysInfoLabel.string = title + \"\\n\" + server + \"\\n\" + hallver + \"\\n\" + appver + \"\\n\" + payEnv;\n\t}\n\t/** 更新标签文本显示 */\n\tupdateLabelInfo(event = null) {\n\t\tlet title = \"[----UPDATE----]\";\n\t\tlet netName = \"网络名称:\" + Network.instance.name;\n\t\tlet netState = \"网络状态:\" + Network.instance.state;\n\t\tlet socketState = \"Socket:\" + (GSocket.instance.isConnected() == true ? \"已连接\" : \"未连接\");\n\t\tlet loginState = \"登录状态:\" + (this.getLoginState() == true ? \"已登录\" : \"未登录\");\n\n\t\tthis.updateInfoLabel.string = title + \"\\n\" + netName + \"\\n\" + netState + \"\\n\" + socketState + \"\\n\" + loginState;\n\t}\n\t/** 获取玩家登录状态 */\n\tgetLoginState(): boolean {\n\t\tif (GCache && GCache.User) {\n\t\t\treturn GCache.User.isLoginSuccesed();\n\t\t}\n\n\t\treturn false;\n\t}\n\t/** 更新单选 */\n\tupdateToggleGroup() {\n\t\t// this.toggleGroup.toggleItems[0][\"CurrowServer\"] = GameNetType.NET_TEST;\n\t\t// this.toggleGroup.toggleItems[1][\"CurrowServer\"] = GameNetType.NET_DEV;\n\t\t// this.toggleGroup.toggleItems[2][\"CurrowServer\"] = GameNetType.NET_ONLINE;\n\t\tif (ClientInfo.CurrowServer == GameNetType.NET_TEST) {\n\t\t\tthis.toggleGroup.toggleItems[0].isChecked = true;\n\t\t} else if (ClientInfo.CurrowServer == GameNetType.NET_DEV) {\n\t\t\tthis.toggleGroup.toggleItems[1].isChecked = true;\n\t\t} else if (ClientInfo.CurrowServer == GameNetType.NET_ONLINE) {\n\t\t\tthis.toggleGroup.toggleItems[2].isChecked = true;\n\t\t}\n\t}\n\t/** 开启自动隐藏滚动容器 */\n\tstartAutoHideScrollow() {\n\t\tthis.stopScheduler(this._handlerAutoCloseView);\n\t\tthis._handlerAutoCloseView = this.addScheduler(8, () => {\n\t\t\tthis.onClickShowOrHideSwitch();\n\t\t})\n\t}\n\t/** 退出登录 */\n\tonClickExitLogin(event: EventTouch = null, isNotAutoShow = false) {\n\t\tthis.print(\"---跳转到登录---\")\n\t\tGCache.User.cleanLastlocalLoginToken();\n\t\tGCache.init();\n\t\tGSocket.instance.closeConnect();\n\t\tEventManager.dispatch(AppEvent.LOGIN_GOTO_SHOW, { state: \"first_login\" });\n\t\tif (isNotAutoShow != true) {\n\t\t\tthis.onClickShowOrHideSwitch();\n\t\t}\n\t}\n\t/** 复制OpenID */\n\tonClickCopyOpenID(event: EventTouch = null) {\n\t\tthis.print(\"---复制OpenID---\")\n\t\tPlatform.copyClipboard(Platform.PLogInfo.openId);\n\t}\n\n\t/** 切换服务器 */\n\tonClickChangeServer(event: EventTouch = null) {\n\t\tthis.nodeChooseServer.active = !this.nodeChooseServer.active;\n\n\t\tif (this.nodeChooseServer.active == true) {\n\t\t\tthis.updateToggleGroup();\n\t\t\tthis.startAutoHideScrollow();\n\t\t}\n\t}\n\t/** 点击了单选服 */\n\tonClickToggle(event: EventTouch = null) {\n\t\tlet currowServer = ClientInfo.CurrowServer;\n\t\tif (this.toggleGroup.toggleItems[0].isChecked) {\n\t\t\tcurrowServer = GameNetType.NET_TEST;\n\t\t} else if (this.toggleGroup.toggleItems[1].isChecked) {\n\t\t\tcurrowServer = GameNetType.NET_DEV;\n\t\t} else if (this.toggleGroup.toggleItems[2].isChecked) {\n\t\t\tcurrowServer = GameNetType.NET_ONLINE;\n\t\t}\n\t\tif (ClientInfo.CurrowServer == currowServer) {\n\t\t\treturn;\n\t\t}\n\t\tthis.addSchedulerOnce(0.5, () => {\n\t\t\tGCache.init();\n\t\t\tGSocket.instance.closeConnect();\n\t\t\tClientInfo.CurrowServer = currowServer;\n\t\t\tthis.print(`切换服务器--->即将切换到：${GameConfig.instance.AppUrlConf.Name}`)\n\t\t\tEventManager.dispatch(AppEvent.LOGIN_GOTO_SHOW);\n\t\t\tthis.onClickShowOrHideSwitch();\n\t\t})\n\n\t}\n\t/** 注销账号 */\n\tonClickLogOut(event: EventTouch = null) {\n\t\tthis.print(`注销账号：${GameConfig.instance.AppUrlConf.Name}`)\n\t\t// if (GCache && GCache.User) {\n\n\t\t// \tlet str = GameConfig.instance.AppUrlConf.H5 + \"?uid\" + GCache.User.getUserMid() + \"&env=\" + this._envTxt[ClientInfo.CurrowServer];\n\t\t// \tlet param = {\n\t\t// \t\ttitle: \"注销账号\",\n\t\t// \t\talignLeftTop: false,\n\t\t// \t\tnotshowClose: true,\n\t\t// \t\ttxt_desc: `即将注销帐号 UID:${GCache.User.getUserMid()} \\n是否确定？`,         //正文内容\n\t\t// \t\tbuttonsMap: [\n\t\t// \t\t\t{\n\t\t// \t\t\t\tclick: () => {\n\t\t// \t\t\t\t\tPlatform.copyClipboard(str);\n\t\t// \t\t\t\t\tconsole.log(\"openUrl:\", str);\n\t\t// \t\t\t\t\t// EventManager.dispatch(AppEvent.NET_CMD_REQ_SET_USERINFO, { logout_status: 1 })\n\t\t// \t\t\t\t}\n\t\t// \t\t\t},\n\t\t// \t\t\t{}\n\t\t// \t\t]\n\n\t\t// \t}\n\t\t// \tEventManager.dispatch(AppEvent.VIEW_UI_OPEN, UIID.PopWindow, param);\n\n\t\t// \tthis.onClickShowOrHideSwitch();\n\t\t// } else {\n\t\t// \tthis.print(\"注销账号失败，尚未登录成功！\")\n\t\t// }\n\n\t}\n\n\t/** 显示或隐藏Debug */\n\tonClickShowOrHideDebug(event: EventTouch = null) {\n\t\tthis.nodeDebugView.active = !this.nodeDebugView.active;\n\t}\n\t//销毁\n\tonDestroy() {\n\n\t};\n\n}\n\n"]}